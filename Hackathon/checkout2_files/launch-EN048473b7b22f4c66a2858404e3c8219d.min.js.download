// For license information, see `https://assets.adobedtm.com/launch-EN048473b7b22f4c66a2858404e3c8219d.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2020-01-31T19:51:15Z",environment:"production",turbineBuildDate:"2019-06-25T22:25:24Z",turbineVersion:"25.6.0"},dataElements:{searchTerm:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(AppEventData.computedState.state&&AppEventData.computedState.state.routing&&"homepage"!==AppEventData.computedState.state.routing.pageKey&&"basket"!==AppEventData.computedState.state.routing.pageKey){var e="";return window.persistentMetaData.query&&(e=window.persistentMetaData.query),/icmp/i.test(window.parent.location.search)&&(e=""),e}}}},productNameFromAppEventDataPDP:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"AppEventData.computedState.state.product.product.name"}},help_breadcrumb5:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(event&&event.detail&&event.detail.state&&"en"==event.detail.state.intl.language&&event.detail.state.help&&event.detail.state.help.content&&event.detail.state.help.content.breadcrumbs){var e=event.detail.state.help.content.breadcrumbs[4]&&event.detail.state.help.content.breadcrumbs[4].label;if(e)return e}}}},fullHelpCentrePageName:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=AppEventData.computedState.state.help&&AppEventData.computedState.state.help.content&&AppEventData.computedState.state.help.content.breadcrumbs;if("en"===AppEventData.computedState.state.intl.language&&e instanceof Array){var t=e.map(function(e){return e.label});return 0<t.length?t.join(" |"):null}return null}}},basketLineItemsForGA:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"../utils/global/cartPageLoadHelpers/getFlattenedCartLineItems/index.js":[function(e,t,a){"use strict";function r(e){return s(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}Object.defineProperty(a,"__esModule",{value:!0}),a.getFlattenedCartLineItems=void 0;var o=function(e){var t=e?event.detail.state.cart:AppEventData.computedState.state.cart;if(t)return t.shipments.reduce(c,[])};a.getFlattenedCartLineItems=o;var c=function(e,t){var a=t.lineItems;return[].concat(r(e),r(a))}},{}],"dataElements/basketLineItemsForGA/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getBasketLineItemsForGA=void 0;var r=e("../../../utils/global/cartPageLoadHelpers/getFlattenedCartLineItems"),n=function(){return event&&event.detail&&event.detail.state&&event.detail.state.cart&&event.detail.state.cart.shipments?(0,r.getFlattenedCartLineItems)(!0).map(function(e,t){return{id:e.sku.id,list_position:t+1,quantity:e.quantity,price:e.totalPurchasePrice,category:e.categoryName}}):[]};a.getBasketLineItemsForGA=n,window.extensionReturn=n},{"../../../utils/global/cartPageLoadHelpers/getFlattenedCartLineItems":"../utils/global/cartPageLoadHelpers/getFlattenedCartLineItems/index.js"}]},{},["dataElements/basketLineItemsForGA/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},"url ICMP":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.s.Util.getQueryParam("icmp")}}},"ProductsArray PDP MultiSeller PageLoad":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];return AppEventData.computedState.state.productSellers.product.bundleProducts&&0<AppEventData.computedState.state.productSellers.product.bundleProducts.length?e=(e=AppEventData.computedState.state.productSellers.product.bundleProducts).map(function(e){return e.parentSku=AppEventData.computedState.state.productSellers.product.sku,e.parentName=AppEventData.computedState.state.productSellers.product.name,e.productType="bundle",e.priceWithoutEhf=AppEventData.computedState.state.productSellers.product.priceWithoutEhf,e.isOnSale=AppEventData.computedState.state.productSellers.product.isOnSale,e.bundleSavingsPercentage=window.getProdSavingPercentage(AppEventData.computedState.state.productSellers.product.saving,e.priceWithoutEhf),e}):((e=[AppEventData.computedState.state.productSellers.product])[0].parentSku="",e[0].parentName="",e[0].productType="single",e[0].singleSavingsPercentage=window.getProdSavingPercentage(AppEventData.computedState.state.productSellers.product.saving,AppEventData.computedState.state.productSellers.product.priceWithoutEhf)),void 0===(e=e.map(function(e){if(e.id=e.sku||"",e.parentName=e.parentName||"",e.nameAndSku=e.name+" : "+e.sku||"",e.discountType=window.getDiscountType(e.priceWithoutEhf,e.isOnSale)||"",e.postalCode=AppEventData.computedState.state.user.postalCode||"",e.singleProductPrice="single"==e.productType?e.priceWithoutEhf:"",e.bundleProductPrice="bundle"==e.productType?e.priceWithoutEhf:"",AppEventData.computedState.state.productSellers.availability&&AppEventData.computedState.state.productSellers.availability.shipping&&AppEventData.computedState.state.productSellers.availability.pickup){var t=AppEventData.computedState.state.productSellers.availability.shipping.levelsOfServices&&"string"==typeof AppEventData.computedState.state.productSellers.availability.shipping.levelsOfServices[0].deliveryDate?Math.ceil(Math.abs(new Date-new Date(AppEventData.computedState.state.productSellers.availability.shipping.levelsOfServices[0].deliveryDate))/864e5)-1:"";e.deliveryPromise=!AppEventData.computedState.state.productSellers.product.isPreorderable&&t?t:"",e.dthStatus=AppEventData.computedState.state.productSellers.availability.shipping.status!=undefined?AppEventData.computedState.state.productSellers.availability.shipping.status.toLowerCase():"",e.rpuStatus=AppEventData.computedState.state.productSellers.availability.pickup.status!=undefined?AppEventData.computedState.state.productSellers.availability.pickup.status.toLowerCase():""}else e.deliveryPromise="",e.dthStatus="",e.rpuStatus="";e.customerRating=AppEventData.computedState.state.productSellers.product.customerRating||"0",e.brand=AppEventData.computedState.state.productSellers.product.brandName!=undefined?AppEventData.computedState.state.productSellers.product.brandName.toLowerCase():"",e.pdpFindingMethod=AppEventData.computedState.state.productSellers.pdpFindingMethod||"",e.vendor=AppEventData.computedState.state.productSellers.product.isMarketplace?"marketplace":"bestbuy",e.bundleSavingsPercentage=e.bundleSavingsPercentage||"",e.singleSavingsPercentage=e.singleSavingsPercentage||"",e.numProductReviews=e.numProductReviews||"0";var a=AppEventData.computedState.state.productSellers.product.seller;e.marketplaceSellerName=null!=a?a.name:"",e.marketplaceSellerID=null!=a?a.id:"",e.marketplaceSellerNum=(1<AppEventData.computedState.state.productSellers.sellerOffers.length?AppEventData.computedState.state.productSellers.sellerOffers.length:"")||"";var r=0<AppEventData.computedState.state.productSellers.product.saving?AppEventData.computedState.state.productSellers.product.saving.toFixed(2):"";e.productSavings=r||"",e.singleProductSavings="single"==e.productType?r:"",e.bundleProductSavings="bundle"==e.productType?r:"";var n=AppEventData.computedState.state.productSellers.product.specialOffers,i="";return n&&0<n.length&&(i=n.map(function(e){return e.contentUrl.replace(/.*discountid\=(?=\d*)/i,"")}).join(":")),e.specialOffersIDs=i,e.e84productPrice=e.e86productPrice=e.e40productPrice="","soldoutonline"==e.dthStatus&&"outofstock"!=e.rpuStatus?e.e84productPrice=e.priceWithoutEhf:"soldoutonline"!=e.dthStatus&&"outofstock"==e.rpuStatus?e.e86productPrice=e.priceWithoutEhf:"soldoutonline"==e.dthStatus&&"outofstock"==e.rpuStatus&&(e.e40productPrice=e.priceWithoutEhf),e}))||e.length<1?(_satellite.logger.warn("=== Multiseller Product data could not be found, no merch evars set ==="),{productsArray:[]}):{productsArray:e}}}},"ProductsArray PDP MultiSeller ATC":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[],t=AppEventData.computedState.state.productSellers.sellerOffers.find(function(e){return event.detail.payload.offerId===e.offer.offerId});return void 0===t?(_satellite.logger.warn("=== MultiSeller ATC: Offer in payload does not match any seller offers, merch evars not set ==="),{productsArray:[]}):void 0===(e=(e=_satellite.getVar("ProductsArray PDP MultiSeller PageLoad").productsArray).map(function(e){return e.postalCode=AppEventData.computedState.state.user.postalCode||"",e.ATCLocation=event.detail.payload.location||"multiseller page",e.price=t.offer.pricing.priceWithoutEhf.toFixed(2)||"",e.marketplaceSellerName=t.seller.name||"",e.marketplaceSellerID=t.seller.id||"",e}))||e.length<1?(_satellite.logger.warn("=== MultiSeller ATC Product data could not be found, no merch evars set ==="),{productsArray:[]}):{productsArray:e}}}},"ProductsArray RPU Checkout Flow":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var t=[],e=[],a=[],r=[],n=function(){return t.products.reduce(function(e,t){return e+t.qty},0)},i=function(){return t.products.reduce(function(e,t){return e+t.price.totalPrice},0)},s=function(){return t.products.reduce(function(e,t){return e+t.price.totalPurchasePrice},0)},o=function(e){return e.productName+" : "+e.sku},c=function(e){return Math.round((e.price.totalPrice-e.price.totalPurchasePrice)/e.price.totalPrice*100)+"%"},l=function(e){if("FreeItem"===e.lineItemType)e.price.totalPrice=0,e.price.totalPurchasePrice=0;else if("Bundle"===e.lineItemType)return;var t=i()/n();e.nameAndSku=o(e),e.saleType=window.getDiscountType(e.price.totalPrice,e.price.isOnSale),e.productType=window.getProductType(e.lineItemType),e.pickupType="InStorePickup",e.totalQuantity=n(),e.totalPrice=i(),e.unitPrice=t,e.totalPurchasePrice=s(),e.price.totalSavings=e.price.totalSavings.toFixed(2),e.price.percentSaved=c(e),e.rpuFrom=sessionStorage.getItem("rpuFrom")||"",r&&0<r.length&&(e.price.totalPurchasePrice=e.price.totalPrice,e.parentBundle=r&&0<r.length?r[0]:"")};if(e=(t=event.detail).products.filter(function(e){return"Bundle"!==e.lineItemType}).flatMap(function(e){return e.children.length?e.children:[]}),(a=t.products.filter(function(e){return"Bundle"===e.lineItemType}))&&0<a.length){var u=a.flatMap(function(e){return e.children});r=a.map(function(e){return e.sku}),t.bundleData={bundlePurchasePrice:a[0].price.totalPurchasePrice,sku:r},t.products.shift(),u.forEach(function(e){t.products.push(e)})}else 0!==e.length&&e.forEach(function(e){t.products.push(e)});return t.products.map(function(e){l(e)}),t}}},cartSumFromAppEventDataCart:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"AppEventData.computedState.state.cart.totalProductPrice"}},language:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"dataElements/language/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getLanguage=void 0;var r=function(){return window.parent.location.href.toLowerCase().includes("/en-ca")?"English":"French"};a.getLanguage=r,window.extensionReturn=r},{}]},{},["dataElements/language/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},URL_pathDepth_1:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.pathname.split("/")[2]}}},brandCollection:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e;return"undefined"!=typeof event?e=event.detail.state.search.brand.name||"":AppEventData.computedState.state&&(e=AppEventData.computedState.state.search.brand.name||""),e.toLowerCase()}}},getGlobalVars:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){try{return window.self!==window.top?window.parent:window}catch(e){return window.parent}}_satellite.logger.log("=== setting global vars ==="),"undefined"==typeof AppEventData.computedState.state&&AppEventData.push({event:"set-blank-state-for-ggv",state:{}});var t=(new Date).getFullYear(),a=window.persistentMetaData&&window.persistentMetaData.previousPageName&&""!==window.persistentMetaData.previousPageName?window.persistentMetaData.previousPageName:_satellite.cookie.get("AA_previousPageName"),r=window.persistentMetaData&&window.persistentMetaData.previousPageType&&""!==window.persistentMetaData.previousPageType?window.persistentMetaData.previousPageType:_satellite.cookie.get("AA_previousPageType"),n=Number(_satellite.cookie.get("AA_pagePathingCount"))+1||1;if(_satellite.cookie.set("AA_pagePathingCount",n,{expires:new Date((new Date).getTime()+18e5),path:"/"}),sessionStorage.AA_checkoutTimeStart!=undefined&&e().location.href.indexOf("checkout")<0&&sessionStorage.removeItem("AA_checkoutTimeStart"),"undefined"!=typeof AppEventData.computedState.state&&AppEventData.computedState.state.intl&&AppEventData.computedState.state.intl.language)var i=!(AppEventData.computedState.state&&AppEventData.computedState.state.intl&&AppEventData.computedState.state.intl.language)||("en"===AppEventData.computedState.state.intl.language?"english":"french");else e().location.href!=undefined&&(i=-1<e().location.href.indexOf("fr-ca")?"french":"english");var o="";o=AppEventData.computedState.state&&AppEventData.computedState.state.routing&&"homepage"===AppEventData.computedState.state.routing.pageKey?"https://www.bestbuy.ca":AppEventData.computedState.state&&AppEventData.computedState.state.routing&&"category"===AppEventData.computedState.state.routing.pageKey?"https://www.bestbuy.ca"+AppEventData.computedState.state.routing.curLangUrl+".aspx":document.querySelector("link[rel='canonical']")&&document.querySelector("link[rel='canonical']").getAttribute("href").includes("www.")?document.querySelector("link[rel='canonical']").getAttribute("href"):"";var c=AppEventData.computedState.state&&AppEventData.computedState.state.cart&&AppEventData.computedState.state.cart.totalQuantity!=undefined?AppEventData.computedState.state.cart.totalQuantity:AppEventData.computedState.state&&AppEventData.computedState.state.user&&AppEventData.computedState.state.user.cart&&AppEventData.computedState.state.user.cart.count;sessionStorage.AA_cartItems==undefined&&(sessionStorage.AA_cartItems="0"),c!=undefined&&(sessionStorage.AA_cartItems=c),window.s.pageURL=e().location.href.replace(/(emi|email).*?(?=[&?]\w+=|$)/gi,"");var l=window.s.Util.getQueryParam("cmp")||window.s.Util.getQueryParam("CMP");window.persistentMetaData.cmp=l,[{condition:/^bac-/gi,value:"display"},{condition:/^eml-/gi,value:"email"},{condition:/^(knc-|pla-)/gi,value:"paid search"},{condition:/^fly-wdd-/gi,value:"digital flyer"},{condition:/^sm-/gi,value:"social media"}].forEach(function(e){e.condition instanceof RegExp&&e.condition.test(l)&&(window.persistentMetaData.knownCmp=!0,window.persistentMetaData.cmpChannel=e.value)});var u=function(){return"collection"===r||"product"===r?"products":"basket"===r?"cart":r},d=_satellite.getVar("screenSize"),p=sessionStorage.getItem("percentPageViewed")?sessionStorage.getItem("percentPageViewed")+"%":"";_satellite.getVar("percentPageDepth");var m=function(){var e=window.parent.performance.timing.domContentLoadedEventEnd-window.parent.performance.timing.navigationStart;return Math.floor(e/100)},f="",g=_satellite.getVar("searchTerm")||"";f=g||"",f=window.persistentMetaData.isRedirect&&g?"Redirect: "+f:f;var v=["PAGE_LOAD","ANALYTICS_CART_LOADED"],b="";AppEventData.forEach(function(t){t&&t&&v.some(function(e){return t.event.includes(e)})&&(b+=t.event+" |")}),b=(b=b.slice(0,b.length-2)).slice(0,255),window.s.eVar13=window.s.getDaysSinceLastVisit("s_lv"),window.s.eVar23=window.s.Util.getQueryParam("icmp"),window.s.eVar25=window.persistentMetaData.knownCmp?window.persistentMetaData.cmpChannel:null,window.s.eVar29=f,window.s.eVar34=window.persistentMetaData.menuClicked||sessionStorage.eVar34||null,window.s.eVar41=_satellite.cookie.get("ta")?"authenticated":"anonymous",window.s.eVar42=window.s.getNewRepeat(30,"s_getNewRepeat"),window.s.eVar43=window.s.getVisitNum(),window.s.eVar46=s.crossVisitParticipation(s.campaign,"s_ev46","30","5",">","",0),window.s.eVar49=m(),window.s.eVar55=_satellite.cookie.get("irPartnerName")||null,window.s.eVar76=a,window.s.eVar97=window.s.getTimeParting("h","-8",t),window.s.eVar98=window.s.Util.getQueryParam("cmp")||window.s.Util.getQueryParam("CMP"),window.s.eVar104=sessionStorage.AA_cartItems,window.s.eVar107=window.s.Util.getQueryParam("mnp"),window.s.eVar108=-1<e().location.href.indexOf("?")?e().location.href.substring(e().location.href.indexOf("?")).replace(/(emi|email).*?(?=[&?]\w+=|$)/gi,""):"",window.s.eVar109="D=mid",window.s.eVar118=o,window.s.eVar133=_satellite.cookie.get("cid"),window.s.eVar249=0<b.length?b:"",window.s.prop1="D=v1",window.s.prop2="D=v2",window.s.prop3=window.s.prop3||"D=v3",window.s.prop4=window.s.prop4||"D=v4",window.s.prop10=u(),window.s.prop11=i,window.s.prop12="D=v97",window.s.prop13=window.s.getTimeParting("d","-8",t),window.s.prop17="D=v29",window.s.prop24=n,window.s.prop27="D=v108",window.s.prop29=s.prop29||_satellite.getVar("title")||"",window.s.prop45="D=v76",window.s.prop46=p||"",window.s.prop48="D=r",window.s.prop54="D=v41",window.s.prop56="D=User-Agent",window.s.prop69=d,_satellite.cookie.get("tia")!=undefined&&""!=_satellite.cookie.get("tia")?window.s.eVar88=_satellite.cookie.get("tia"):localStorage.AA_sha256FromNewsletter!=undefined&&""!=localStorage.AA_sha256FromNewsletter&&(window.s.eVar88=localStorage.AA_sha256FromNewsletter);var h=[];if(/redirect/gi.test(window.s.eVar29)&&1!=window.isGlobalError&&h.push("event60"),"home"!==window.s.pageName){var y=parent.document.querySelector("[data-automation=x-logo-link]")||parent.document.querySelector("[class*=bestbuy-logo]")||parent.document.querySelector("[class*=logoLink]")||parent.document.querySelector("[class*=bbyLogo]")||null;if("Logo"!==y.id){var P=function(){var e={event:"analytics-set-activitymap",linkName:"Logo",location:window.parent.location,prevPage:window.persistentMetaData.previousPageName||s.pageName||"",region:"globalHeader"};AppEventData.push(e),sessionStorage.setItem("AEDBacklog",JSON.stringify([e]))};y.id="Logo",y.addEventListener("click",P)}sessionStorage.removeItem("AEDBacklog")}if(_satellite.cookie.get("ta")&&("my account |sign in"!==a&&"my account |check order status sign in"!==a&&"cart |dth cart login"!==a||h.push("event65")),0<(h=h.join(",")).length&&(window.s.linkTrackEvents=s.apl(window.s.linkTrackEvents,h,",",1),window.s.events=s.apl(window.s.events,h,",",1)),window.s.pageName=""!==window.s.pageName?window.s.pageName:AppEventData.computedState.state&&AppEventData.computedState.state.routing&&AppEventData.computedState.state.routing.pageKey,window.s.campaign=window.persistentMetaData.cmp||"",!window.s.referrer){var S=_satellite.getVar("referrer");window.s.referrer=window.persistentMetaData&&window.persistentMetaData.referrer!==S?S:"",window.persistentMetaData.referrer=S}return window.persistentMetaData.previousPageName=window.s.pageName,window.persistentMetaData.previousPageType=AppEventData.computedState.state&&AppEventData.computedState.state.routing&&AppEventData.computedState.state.routing.pageKey||window.s.eVar1,_satellite.cookie.set("AA_previousPageName",window.persistentMetaData.previousPageName,{expires:new Date((new Date).getTime()+18e5),path:"/"}),_satellite.cookie.set("AA_previousPageType",window.persistentMetaData.previousPageType,{expires:new Date((new Date).getTime()+18e5),path:"/"}),_satellite.cookie.set("AA_previousTA",_satellite.cookie.get("ta")||"",{expires:new Date((new Date).getTime()+18e5),path:"/"}),window.persistentMetaData.query=null,window.persistentMetaData.isRedirect=!1,window.persistentMetaData.menuClicked=null,sessionStorage.removeItem("eVar34"),setTimeout(function(){window.s.linkTrackEvents=""},5),!0}}},launchBuildDate:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.buildInfo.buildDate"}},categoryLevel:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=AppEventData.computedState.state.search.category.categoryBreadcrumb,t={group:1,category:2,subCategory:3,subSubCategory:4};return e instanceof Array?e.length>t.subSubCategory?"sub sub category":e.length>t.subCategory?"sub category":e.length>t.category?"category":e.length>t.group?"group":null:null}}},totalQuantityFromEvents:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"dataElements/totalQuantityFromEvents/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getTotalQuantityFromEvents=void 0;var r=function(){return event&&event.detail&&event.detail.products?event.detail.products.reduce(function(e,t){return e+t.qty},0):0};a.getTotalQuantityFromEvents=r,window.extensionReturn=r},{}]},{},["dataElements/totalQuantityFromEvents/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},PDPBreadcrumb5:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("fullPDPBreadcrumb").split(":")[3]}}},percentPageDepth:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function r(){var e=parent.document.body,t=parent.document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}function e(){var e=r(),t=0,a=(window.parent.pageYOffset!==undefined?window.parent.pageYOffset:(parent.document.documentElement||parent.document.body.parentNode||parent.document.body).scrollTop)+window.parent.innerHeight;s<a&&(s=a),o<e&&(o=e),i===window.parent.location.href?(t=Math.round(s/o*100),window.sessionStorage.setItem("percentPageViewed",t)):n()}function n(){clearInterval(window.percentPageViewedId)}n();var i=window.parent.location.href,s=0,o=0;sessionStorage.removeItem("percentPageViewed"),e(),window.percentPageViewedId=setInterval(e,500)}}},categoryArrayFromCheckoutLineItems:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"dataElements/categoryArrayFromCheckoutLineItems/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getCategoryArrayForConfirmation=void 0;var r=function(){return event&&event.detail&&event.detail.products?event.detail.products.map(function(e){return e.categoryName}):[]};a.getCategoryArrayForConfirmation=r,window.extensionReturn=r},{}]},{},["dataElements/categoryArrayFromCheckoutLineItems/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},productSku:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"AppEventData.computedState.state.product.product.sku"}},TargetCampaignIDs:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var t="";return window.TGMResponse!=undefined&&window.TGMResponse.responseTokens&&TGMResponse.responseTokens.forEach(function(e){t+=e["activity.id"]+"-"+e["experience.id"]+":"}),t}}},channelTrackingCode:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return""}}},screenSize:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t=window.parent.innerWidth,a=t+" x "+window.parent.innerHeight;switch(!0){case t<600:e="extraSmall: "+a;break;case t<960:e="small: "+a;break;case t<1280:e="medium: "+a;break;case t<1920:e="large: "+a;break;default:e="extraLarge: "+a}return e}}},PreOrderAddToCartProduct:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=event.detail.payload&&event.detail.payload.product;return{productsArray:[{sku:e.sku,name:e.name,skuName:e.name+":"+e.sku,single:"single",discountType:"regular",addToCartFrom:"product finder",onlineAvailability:"preorder",instoreAvailability:"onlineonly",price:e.price,carrier:e.options&&e.options.carrier}]}}}},"ProductsArray QtyChg":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("bundle"==event.detail.payload.lineItem.lineItemType.toLowerCase())return{productsArray:event.detail.payload.lineItem.children};if(event.detail.payload.lineItem.children==undefined||event.detail.payload.update!=undefined)return{productsArray:[event.detail.payload.lineItem]};var e=event.detail.payload.lineItem.children;return e.push(event.detail.payload.lineItem),{productsArray:e}}}},"Multiseller Sku":{forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"AppEventData.computedState.state.productSellers.product.sku"}},tvVariantClicked:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=event.target&&event.target.closest("div[class*=optionBox]"),t="";return e&&(t=e.querySelector("[data-automation='option-box-text']")&&e.querySelector("[data-automation='option-box-text']").textContent),parseInt(t)||""}}},fullHelpBreadcrumb:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=AppEventData.computedState.state.help&&AppEventData.computedState.state.help.content&&AppEventData.computedState.state.help.content.breadcrumbs;if("en"===AppEventData.computedState.state.intl.language&&e instanceof Array){var t=e.map(function(e){return e.label});return 0<t.length?t.join(":"):null}return null}}},help_breadcrumb6:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(event&&event.detail&&event.detail.state&&"en"==event.detail.state.intl.language&&event.detail.state.help&&event.detail.state.help.content&&event.detail.state.help.content.breadcrumbs){var e=event.detail.state.help.content.breadcrumbs[5]&&event.detail.state.help.content.breadcrumbs[5].label;if(e)return e}}}},PDPBreadcrumb3:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("fullPDPBreadcrumb").split(":")[1]}}},postalCode:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"AppEventData.computedState.state.user.postalCode"}},"ProductsArray Checkout":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof AppEventData&&AppEventData.computedState.checkout&&AppEventData.computedState.checkout.products?(productsArray=AppEventData.computedState.checkout.products.map(function(e){e.productType=window.getProductType(e.lineItemType)||"",e.parentSku=e.bundleSku||"",e.parentName=e.bundleName||"",e.id=e.sku||"",e.nameAndSku=e.name+" : "+e.sku||"",e.price=e.priceWithoutEhf.toFixed(2)||"",e.unitPrice=(e.priceWithoutEhf/e.qty).toFixed(2)||"",e.fulfillmentType=e.fulfillmentType||"",e.deliveryPromise=e.deliveryPromise||"";var t=e.priceWithoutEhf/e.qty;return isNaN(t)?e.discountType="":e.discountType=window.getDiscountType(t,e.isOnSale)||"",e.savingsPercentage=window.getPercentage(e.savingsPrice,e.originalPrice)||"",e.e80Price=e.e81Qty=e.e157Qty=e.e158Price="",e.bundleName&&(e.e80Price=e.priceWithoutEhf.toFixed(2)||"",e.e81Qty=e.qty||""),"warranty"==e.productType&&(e.e158Price=e.priceWithoutEhf.toFixed(2)||"",e.e157Qty=e.qty||""),e}),"undefined"==typeof productsArray||productsArray.length<1?(_satellite.logger.warn("=== Checkout Product data could not be found, no merch evars set ==="),{productsArray:[]}):{productsArray:productsArray}):(_satellite.logger.warn("=== Checkout Product data could not be found, no merch evars set ==="),{productsArray:[]})}}},"ProductsArray Cart":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(AppEventData.computedState.state.cart!=undefined){var n=RegExp(/best\s?buy/i),i=function(e,t){return t.parentSku=e.sku.id,t.parentName=e.sku.product.name,t},a=function(a){var e=a.lineItems.filter(function(e){return e.children}),r=a.lineItems.filter(function(e){return!/bundle/i.test(e.lineItemType)});return e.forEach(function(t){t.children.forEach(function(e){r.push(i(t,e))})}),r.map(function(e){e.discountType=window.getDiscountType(e.sku.offer.purchasePrice,e.sku.offer.onSale),e.productType=window.getProductType(e.lineItemType),e.parentSeller=a.seller&&n.test(a.seller.name
)?"bestbuy":"marketplace",e.parentSku="bundle"==e.productType?e.parentSku:"",e.parentName="bundle"==e.productType?e.parentName:"";var t=e.itemLevelDiscounts||[];t=t.reduce(function(e,t){return""===e?t.id:e+":"+t.id},""),e.itemLevelDiscounts=t||"",e.nameAndSku=e.sku.product.name+" : "+e.sku.id||"",e.name=e.sku.product.name||"",e.id=e.sku.id||"",e.singleProductPrice="single"==e.productType?e.sku.offer.purchasePrice:"",e.bundleProductPrice="bundle"==e.productType?e.sku.offer.purchasePrice:""}),r};return{productsArray:AppEventData.computedState.state.cart.shipments.reduce(function(e,t){return e.concat(a(t))},[])}}}}},help_breadcrumb4:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(event&&event.detail&&event.detail.state&&"en"==event.detail.state.intl.language&&event.detail.state.help&&event.detail.state.help.content&&event.detail.state.help.content.breadcrumbs){var e=event.detail.state.help.content.breadcrumbs[3]&&event.detail.state.help.content.breadcrumbs[3].label;if(e)return e}}}},breadcrumb6:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("fullBreadcrumb").split(":")[4]}}},productPriceFromAppEventDataPDP:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"AppEventData.computedState.state.product.product.priceWithoutEhf"}},breadcrumb2:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("fullBreadcrumb").split(":")[0]}}},searchedQuery:{cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"AppEventData.computedState.state.search.query"}},criteo_products:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return event||event.detail||event.detail.products?event.detail.products.map(function(e){return[{id:e.sku,price:e.priceWithoutEhf,quantity:e.qty}]}):[]}}},"ProductsArray RPU ATC":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"==typeof event||"undefined"==typeof event.detail||"undefined"==typeof event.detail.payload)return{productsArray:[]};var e=[];if("pdp"===event.detail.payload.rpuFrom.toLowerCase()||"store locator page"===event.detail.payload.rpuFrom.toLowerCase()||"pdp store listing"===event.detail.payload.rpuFrom.toLowerCase())e=_satellite.getVar("ProductsArray PDP PageLoad").productsArray;else if("cart"===event.detail.payload.rpuFrom){var t=_satellite.getVar("ProductsArray Cart");t!=undefined&&t.productsArray!=undefined&&(e=t.productsArray.filter(function(e){if(e.parentSku==event.detail.payload.sku||e.sku.id==event.detail.payload.sku)return e}))}return void 0===(e=e.map(function(e){return e.postalCode=AppEventData.computedState.state.user.postalCode||"",e.rpuFrom=event.detail.payload.rpuFrom||"",e.deliveryPromise=e.deliveryPromise||"",e.customerRating=e.customerRating||"0",e.brand=e.brand||"",e.dthStatus=e.dthStatus||"",e.rpuStatus=e.rpuStatus||"",e.pdpFindingMethod=e.pdpFindingMethod||"",e.vendor=e.vendor||"",e.bundleSavingsPercentage=e.bundleSavingsPercentage||"",e.singleSavingsPercentage=e.singleSavingsPercentage||"",e.numProductReviews=e.numProductReviews||"0",e.specialOffersIDs=e.specialOffersIDs||"",e}))||e.length<1?(_satellite.logger.warn("=== RPU Product data could not be found, no merch evars set ==="),{productsArray:[]}):(sessionStorage.setItem("rpuFrom",event.detail.payload.rpuFrom),{productsArray:e})}}},skuArrayFromEvents:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"dataElements/skuArrayFromEvents/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getProductSkuIdsArrayForConfirmation=void 0;var r=function(){if(!event||!event.detail||!event.detail.products)return[];var e=event.detail.products.map(function(e){return"Constituent"===e.lineItemType?e.bundleSku:e.sku});return Array.from(new Set(e))};a.getProductSkuIdsArrayForConfirmation=r,window.extensionReturn=r},{}]},{},["dataElements/skuArrayFromEvents/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},ProductsArray_RequiredPartsParent:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=AppEventData.computedState.state.requiredProducts;if(e)return{productsArray:[e[Object.keys(e)].parentProduct].map(function(e){return{id:e.sku,name:e.name,nameAndSku:e.name+" : "+e.sku}})}}}},variantTestData:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{10382339:{"entity.categoryId":"tv & home theatre,televisions,36 - 45 inch tvs","entity.categoryL2":"televisions","entity.categoryL3":"36 - 45 inch tvs","entity.color":"","entity.colorFamily":"","entity.currentCategory":"36 - 45 inch tvs","entity.discount":"","entity.discountEndDt":"","entity.discountEndDtUnix":"","entity.discountPct":"","entity.event.detailsOnly":"true","entity.hasWarranty":"true","entity.id":"10382339","entity.inventory":"1000","entity.isOffline":"false","entity.isOpenBox":"false","entity.isPreOrder":"false","entity.isSpecialDelivery":"NotScheduledDelivery","entity.model":"UN40J5500AFXZC","entity.name":"Samsung 40 1080p LED Smart Hub Smart TV (UN40J5200AFXZC)","entity.numReviews":"0","entity.pageUrl":"https://www.bestbuy.ca/en-ca/product/samsung-samsung-40-1080p-led-smart-hub-smart-tv-un40j5200afxzc-un40j5200afxzc/10382339","entity.regularPrice":"449.99","entity.seriesKey":"40","entity.seriesModel":"UB20212TVVARIANT","entity.shortDescription":'Samsung delivers Full HD entertainment with the 40", J5500 LED Smart TV. It boasts enhanced picture quality thanks to greater clarity with Micro Dimming Pro and a wider range of colours with Wide Colour Enhancer. It has great connectivity options, including WiFi and 3 HDMI ports, plus a quad-core processor for quick access to your favourite content.',"entity.validUntilUnix":"","entity.value":"449.99","entity.vendor":"bestbuy","entity.voiceAsstCompat":"","entity.variantSpecValueWithUnitEn":"40 in","entity.variantSpecValueWithUnitFr":"40 po"},10211452:{"entity.categoryId":"tv & home theatre,televisions,30 - 35 inch tvs","entity.categoryL2":"televisions","entity.categoryL3":"30 - 35 inch tvs","entity.color":"","entity.colorFamily":"","entity.currentCategory":"30 - 35 inch tvs","entity.discount":"","entity.discountEndDt":"","entity.discountEndDtUnix":"","entity.discountPct":"","entity.event.detailsOnly":"true","entity.hasWarranty":"false","entity.id":"10211452","entity.inventory":"1000","entity.isOffline":"false","entity.isOpenBox":"false","entity.isPreOrder":"false","entity.isSpecialDelivery":"NotScheduledDelivery","entity.model":"UN32J5205AFXZC","entity.name":"[LPS] Samsung 32 720p 60Hz LED TV (UN32EH4003FXZC)","entity.numReviews":"0","entity.pageUrl":"https://www.bestbuy.ca/en-ca/product/samsung-samsung-32-720p-60hz-led-tv-un32eh4003fxzc-un32eh4003f-bxzc/10211452","entity.regularPrice":"279.99","entity.seriesKey":"32","entity.seriesModel":"UB20212TVVARIANT","entity.shortDescription":'Samsung delivers a greater home entertainment experience with the 32", J5205 LED Smart TV. It features ConnectShare Movie that lets you plug in a USB device directly into the TV so you can easily watch movies, view photos, or listen to music. Plus, mobile screen mirroring allows you to mirror your mobile device screen onto the TVs screen wirelessly.',"entity.validUntilUnix":"","entity.value":"279.99","entity.vendor":"bestbuy","entity.voiceAsstCompat":"","entity.variantSpecValueWithUnitEn":"32 in","entity.variantSpecValueWithUnitFr":"32 po"},10281760:{"entity.categoryId":"computers & tablets,drives & storage,external hard drives,portable external hard drives","entity.categoryL2":"drives & storage","entity.categoryL3":"external hard drives","entity.color":"","entity.colorFamily":"","entity.currentCategory":"desktop external hard drives","entity.discount":"","entity.discountEndDt":"","entity.discountEndDtUnix":"","entity.discountPct":"","entity.event/detailsOnly":"true","entity.hasWarranty":"true","entity.id":"10281760","entity.inventory":"1000","entity.isOffline":"false","entity.isOpenBox":"false","entity.isPreOrder":"false","entity.isSpecialDelivery":"NotScheduledDelivery","entity.model":"UB20212HDVARIANT","entity.name":"Seagate Backup Plus 3TB 3.5 USB 3.0 External Hard Drive (STDT3000100) - Black","entity.numReviews":"0","entity.pageUrl":"https://www.bestbuy.ca/en-ca/product/seagate-seagate-backup-plus-3tb-3-5-usb-3-0-external-hard-drive-stdt3000100-black-stdt3000100/10281760","entity.regularPrice":"129.95","entity.seriesKey":"10","entity.seriesModel":"UB20212HDVARIANT","entity.shortDescription":"Security, performance, and capacity combine in the WD My Passport external hard drive. Sporting a 1TB capacity, it transfers files at lightning-fast USB 3.0 speeds and offers the option to set up a password as an added security measure to keep your precious files safe. Included WD Backup software lets you schedule automatic backups.","entity.validUntilUnix":"","entity.value":"129.95","entity.variantSpecValueWithUnitEn":"3 TB","entity.variantSpecValueWithUnitFr":"3 TO","entity.vendor":"bestbuy","entity.voiceAsstCompat":""},10292585:{"entity.categoryId":"computers & tablets,drives & storage,external hard drives,desktop external hard drives","entity.categoryL2":"drives & storage","entity.categoryL3":"external hard drives","entity.color":"","entity.colorFamily":"","entity.currentCategory":"desktop external hard drives","entity.discount":"","entity.discountEndDt":"","entity.discountEndDtUnix":"","entity.discountPct":"","entity.event.detailsOnly":"true","entity.hasWarranty":"true","entity.id":"10292585","entity.inventory":"1000","entity.isOffline":"false","entity.isOpenBox":"false","entity.isPreOrder":"false","entity.isSpecialDelivery":"NotScheduledDelivery","entity.model":"UB20212HDVARIANT","entity.name":"Seagate Plus 2TB 2.5 Wireless Portable External Hard Drive (STCV2000100)","entity.numReviews":"0","entity.pageUrl":"https://www.bestbuy.ca/en-ca/product/seagate-seagate-plus-2tb-2-5-wireless-portable-external-hard-drive-stcv2000100-stcv2000100/10292585","entity.regularPrice":"229.99","entity.seriesKey":"30","entity.seriesModel":"UB20212HDVARIANT","entity.shortDescription":"Trust the WD My Book desktop external hard drive is like a digital Fort Knox for your treasured data. Sporting a 3TB capacity, this desktop drive transfers files at lightning-fast USB 3.0 speeds and offers an optional password as added security, ensuring your files are safe. It works out of the box with your Windows and Mac devices.","entity.validUntilUnix":"","entity.value":"229.99","entity.variantSpecValueWithUnitEn":"500 MB","entity.variantSpecValueWithUnitFr":"500 MO","entity.vendor":"bestbuy","entity.voiceAsstCompat":""}}}}},help_breadcrumb2:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(event&&event.detail&&event.detail.state&&"en"==event.detail.state.intl.language&&event.detail.state.help&&event.detail.state.help.content&&event.detail.state.help.content.breadcrumbs){var e=event.detail.state.help.content.breadcrumbs[1]&&event.detail.state.help.content.breadcrumbs[1].label;if(e)return e}}}},productSkuAsArray:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return AppEventData.computedState.state.product.product.sku.split()}}},fullBreadcrumb:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=AppEventData.computedState.state.search&&AppEventData.computedState.state.search.category&&AppEventData.computedState.state.search.category.categoryBreadcrumb,t=e instanceof Array?AppEventData.computedState.state.search.category.altCategoryBreadcrumb:"",a=function(e){var t=e.filter(function(e){return!/Departments/i.test(e.categoryId)}).map(function(e){return e.name});return 0<t.length?t.join(":"):null};return AppEventData.computedState.state&&AppEventData.computedState.state.intl&&"en"===AppEventData.computedState.state.intl.language&&e instanceof Array?a(e):AppEventData.computedState.state&&AppEventData.computedState.state.intl&&"fr"===AppEventData.computedState.state.intl.language&&t instanceof Array?a(t):null}}},gaCampaign:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,a,r=window.location.search.match(/[?|&](cmp=)(([^-]*)[^(\&$)]*)/i),n=document.referrer.split("/")[2];return r&&r[0]&&r[1]&&r[2]&&(e={bac:"display",knc:"cpc",smp:"cpc",inf:"influencer",smo:"organic",pbrl:"publicrelations",emc:"email",nlc:"email",eml:"email",fly:"paidflyer"}[r[3].toLowerCase()],t=n||"unknown",a=r[2]),{medium:e,source:t,name:a}}}},title:{forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return AppEventData.computedState.state&&AppEventData.computedState.state.routing&&"category"===AppEventData.computedState.state.routing.pageKey?AppEventData.computedState.state.search.category.seoTitle:AppEventData.computedState.state&&AppEventData.computedState.state.routing&&"search"===AppEventData.computedState.state.routing.pageKey?"Results for: "+AppEventData.computedState.state.search.query:AppEventData.computedState.state&&AppEventData.computedState.state.routing&&"homepage"===AppEventData.computedState.state.routing.pageKey?"home":(document.title?document.title:parent.document.title).replace(" | Best Buy Canada","").replace(" - Best Buy Canada","")}}},brandName:{forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"AppEventData.computedState.state.product.product.brandName"}},sha256FromNewsletter:{modulePath:"core/src/lib/dataElements/localStorage.js",settings:{name:"AA_sha256FromNewsletter"}},"purchase-ab-scheduler":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.cookie.get("wg_scheduler_ab_6")||_satellite.cookie.get("wg_scheduler_ab_5")||_satellite.cookie.get("wg_scheduler_ab_4")||_satellite.cookie.get("wg_scheduler_ab_3")||_satellite.cookie.get("wg_scheduler_ab_2")||_satellite.cookie.get("wg_scheduler_ab_1")||""}}},PreOrderPageloadProducts:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{products:(event.detail.payload.products||[]).map(function(e){return{sku:e.sku,price:e.price}})}}}},departmentFromAppEventDataSearch:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"dataElements/departmentFromAppEventDataSearch/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getDepartmentFromAppEventDataSearch=void 0;var r=function(){var e=AppEventData.computedState.state;if(e&&e.search&&e.search.category&&e.search.category.categoryBreadcrumb&&1<e.search.category.categoryBreadcrumb.length)return e.search.category.categoryBreadcrumb[1].name};a.getDepartmentFromAppEventDataSearch=r,window.extensionReturn=r},{}]},{},["dataElements/departmentFromAppEventDataSearch/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},help_breadcrumb3:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(event&&event.detail&&event.detail.state&&"en"==event.detail.state.intl.language&&event.detail.state.help&&event.detail.state.help.content&&event.detail.state.help.content.breadcrumbs){var e=event.detail.state.help.content.breadcrumbs[2]&&event.detail.state.help.content.breadcrumbs[2].label;if(e)return e}}}},URL_hash:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window&&window.parent&&window.parent.location&&(window.parent.location.hash||"").replace(/^#/,"")}}},"Multiseller Seller ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=function(t,e){return e.find(function(e){return-1!==t.indexOf(e.offer.offerId)}).seller.id};return event.detail.payload.offer!=undefined?e(event.detail.payload.offer,event.detail.state.productSellers.sellerOffers):event.detail.payload.offerId!=undefined?e(event.detail.payload.offerId,event.detail.state.productSellers.sellerOffers):void 0}}},"ProductsArray PDP Warranty ATC":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[],t=AppEventData.computedState.state.product.product.warranties.find(function(e){if(e.sku==window.warrantySkuBeingAdded)return e});return e=(e=_satellite.getVar("ProductsArray PDP PageLoad").productsArray).map(function(e){return e.warrantySkuBeingAdded=t.sku,e.warrantyAddLocation="",e}),t.productType=window.getProductType(t.type)||"",t.id=t.sku,t.customerRating="0",t.name=t.title.replace(/\,/g,"\uff0c")+" for "+AppEventData.computedState.state.product.product.name.replace(/\,/g,"\uff0c"),t.nameAndSku=t.title.replace(/\,/g,"\uff0c")+" for "+AppEventData.computedState.state.product.product.name.replace(/\,/g,"\uff0c")+" : "+t.sku,t.warrantyAddLocation="mobile pdp",t.warrantySkuBeingAdded="",t.vendor="bestbuy",t.parentSku="",t.parentName="",t.deliveryPromise="",t.discountType="",t.brand="",t.singleSavingsPercentage="",t.bundleSavingsPercentage="",t.marketplaceSellerID="",t.marketplaceSellerName="",t.numProductReviews="",t.dthStatus="",t.rpuStatus="",t.pdpFindingMethod="",t.marketplaceSellerNum="",t.singleProductPrice="",t.specialOffersIDs="",e.push(t),void 0===e||e.length<1?(_satellite.logger.warn("=== PDP Warranty ATC Product data could not be found, no merch evars set ==="),{productsArray:[]}):{productsArray:e}}}},PDPBreadcrumb6:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("fullPDPBreadcrumb").split(":")[4]}}},fullPDPBreadcrumb:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=AppEventData.computedState.state&&AppEventData.computedState.state.product&&AppEventData.computedState.state.product.category&&AppEventData.computedState.state.product.category.categoryBreadcrumb,t=AppEventData.computedState.state&&AppEventData.computedState.state.product&&AppEventData.computedState.state.product.category&&AppEventData.computedState.state.product.category.altCategoryBreadcrumb,a=function(e){var t=e.filter(function(e){return!/Departments/i.test(e.categoryId)}).map(function(e){return e.name});return 0<t.length?t.join(":"):null};return AppEventData.computedState.state&&AppEventData.computedState.state.intl&&"en"===AppEventData.computedState.state.intl.language&&e instanceof Array?a(e):AppEventData.computedState.state&&AppEventData.computedState.state.intl&&"fr"===AppEventData.computedState.state.intl.language&&t instanceof Array?a(t):null}}},SSC_PageName:{forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=AppEventData&&AppEventData.computedState&&AppEventData.computedState.state;return e&&e.intl&&"fr"===e.intl.language?e.search.searchResult.ssc.altLangSeoUrlText:e.search.searchResult.ssc.seoUrlText}}},categoryID:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"AppEventData.computedState.state.search.category.id"}},breadcrumb5:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("fullBreadcrumb").split(":")[3]}}},priceArrayFromEvents:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"../utils/product.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.isBundleConstituent=void 0;var r=function(e){return"Constituent"===e};a.isBundleConstituent=r},{}],"dataElements/priceArrayFromEvents/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getProductPriceArrayForConfirmation=void 0;var o=e("../../../utils/product"),r=function(){if(!event||!event.detail||!event.detail.products)return[];var e=event.detail.products.map(function(e){var t=e.lineItemType,a=e.bundleSku,r=e.sku,n=e.bundlePriceWithoutEhf,i=e.priceWithoutEhf,s=(0,o.isBundleConstituent)(t);return[s?a:r,s?n:i]}),t=new Map(e);return Array.from(t.values()).map(function(e){return"".concat(e)})};a.getProductPriceArrayForConfirmation=r,window.extensionReturn=r},{"../../../utils/product":"../utils/product.js"}]},{},["dataElements/priceArrayFromEvents/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},facebookContentsArrayFromEvents:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"../utils/product.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.isBundleConstituent=void 0;var r=function(e){return"Constituent"===e};a.isBundleConstituent=r},{}],"dataElements/facebookContentsArrayFromEvents/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getFacebookContentsArrayForConfirmation=void 0;var r=e("../../../utils/product"),n=function(){return event&&event.detail&&event.detail.products?event.detail.products.map(function(e){return{id:e.sku,quantity:e.qty,bundle_id:(0,r.isBundleConstituent)(e.lineItemType)?e.bundleSku:void 0}}):[]};a.getFacebookContentsArrayForConfirmation=n,window.extensionReturn=n},{"../../../utils/product":"../utils/product.js"}]},{},["dataElements/facebookContentsArrayFromEvents/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},sellerName:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"AppEventData.computedState.state.seller.seller.name"}},customer_identifier_cookie:{storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.cookie.get("cid")||_satellite.cookie.get("tia")}}},PDPBreadcrumb2:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("fullPDPBreadcrumb").split(":")[0]}}},checkoutLineItemsForGA:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"dataElements/checkoutLineItemsForGA/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getCheckoutLineItemsForGA=void 0;var r=function(){var e=[];return event&&event.detail&&event.detail.products&&(e=event.detail.products.map(function(e,t){return{id:e.sku,list_position:t+1,quantity:e.qty,price:e.priceWithoutEhf||e.totalPurchasePrice}})),e};a.getCheckoutLineItemsForGA=r,window.extensionReturn=r},{}]},{},["dataElements/checkoutLineItemsForGA/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},fullUrl:{cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.parent.location.href"}},"seller name from payload":{modulePath:"data-layer-manager-search-discovery/src/lib/data_elements/context_aware_data_element.js",settings:{dataLayerPath:"payload.sellerName"}},breadcrumb4:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("fullBreadcrumb").split(":")[2]}}},pdpSearchedItem:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=new RegExp("(search|category)");if(window&&window.persistentMetaData&&window.persistentMetaData.previousSearch&&window.persistentMetaData.previousSearch.searchResultSkus&&e.test(persistentMetaData.previousPageType)){for(var t=-1,a=window.persistentMetaData.previousSearch.page,r=window.persistentMetaData.previousSearch.searchResultSkus.length||0,n=window.persistentMetaData.previousSearch.layout,i=0;i<window.persistentMetaData.previousSearch.searchResultSkus.length;i++)if(AppEventData.computedState.state.product.product.sku===window.persistentMetaData.previousSearch.searchResultSkus[i]){t=i+1;break}return 0<t?t+":"+a+":"+r+":"+n:""}}}},AppMode:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"AppMode"}},"site section":{defaultValue:"browse",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="browse",t=window.parent.location.pathname.split("/");if(t[1])switch(t[1]){case"checkout":e="checkout";break;case"identity":e="sign in";break;case"account":e="accounts";break;case"order":e="orders";break;default:e="browse"}return e}}},cartTotalQuantityFromAppEventDataCart:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"AppEventData.computedState.state.cart.totalQuantity"}},"seller id from payload":{modulePath:"data-layer-manager-search-discovery/src/lib/data_elements/context_aware_data_element.js",settings:{dataLayerPath:"payload.sellerId"}},eventNameForQtyUpdate:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"dataElements/eventNameForQtyUpdate/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getEventNameForQtyUpdate=void 0;var r=function(){var e="",t=Array.isArray(AppEventData)&&AppEventData.reverse().find(function(e){return"cart/ANALYTICS_QUANTITY_UPDATED"===e.event});return t&&t.payload&&t.payload.update&&(e="increase"===t.payload.update?"add_to_cart":"remove_from_cart"),e};a.getEventNameForQtyUpdate=r,window.extensionReturn=r},{}]},{},["dataElements/eventNameForQtyUpdate/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},categoryName:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("fullBreadcrumb").split(":").join(" |").toLowerCase()}}},referrer:{forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"parent.document.referrer"}},PDPItemsforGA:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a
,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"dataElements/itemsPdpForGA/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getItemsPdpForGA=void 0;var r=function(){return[{id:AppEventData.computedState.state.product.product.sku,price:AppEventData.computedState.state.product.product.priceWithoutEhf}]};a.getItemsPdpForGA=r,window.extensionReturn=r},{}]},{},["dataElements/itemsPdpForGA/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},URL_path:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window&&window.parent&&window.parent.location&&window.parent.location.pathname}}},"ProductsArray PDP PageLoad":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];return AppEventData.computedState.state.product.product.bundleProducts&&0<AppEventData.computedState.state.product.product.bundleProducts.length?e=(e=AppEventData.computedState.state.product.product.bundleProducts).map(function(e){return e.parentSku=AppEventData.computedState.state.product.product.sku,e.parentName=AppEventData.computedState.state.product.product.name,e.productType="bundle",e.priceWithoutEhf=AppEventData.computedState.state.product.product.priceWithoutEhf,e.isOnSale=AppEventData.computedState.state.product.product.isOnSale,e.bundleSavingsPercentage=window.getProdSavingPercentage(AppEventData.computedState.state.product.product.saving,e.priceWithoutEhf),e}):((e=[AppEventData.computedState.state.product.product])[0].parentSku="",e[0].parentName="",e[0].productType="single",e[0].singleSavingsPercentage=window.getProdSavingPercentage(AppEventData.computedState.state.product.product.saving,AppEventData.computedState.state.product.product.priceWithoutEhf),e[0].numProductReviews=AppEventData.computedState.state.product.customerReviews.ratingSummary.overallReviewCount||"0"),void 0===(e=e.map(function(e){if(e.id=e.sku||"",e.parentName=e.parentName||"",e.nameAndSku=e.name+" : "+e.sku||"",e.discountType=window.getDiscountType(e.priceWithoutEhf,e.isOnSale)||"",e.postalCode=AppEventData.computedState.state.user.postalCode||"",e.singleProductPrice="single"==e.productType?e.priceWithoutEhf:"",e.bundleProductPrice="bundle"==e.productType?e.priceWithoutEhf:"",AppEventData.computedState.state.product.availability&&AppEventData.computedState.state.product.availability.shipping&&AppEventData.computedState.state.product.availability.pickup){var t=AppEventData.computedState.state.product.availability.shipping.levelsOfServices&&"string"==typeof AppEventData.computedState.state.product.availability.shipping.levelsOfServices[0].deliveryDate?window.getDaysToDelivery(AppEventData.computedState.state.product.availability.shipping.levelsOfServices[0].deliveryDate):"";e.deliveryPromise=!AppEventData.computedState.state.product.product.isPreorderable&&t?t:"",e.dthStatus=AppEventData.computedState.state.product.availability.shipping.status!=undefined?AppEventData.computedState.state.product.availability.shipping.status.toLowerCase():"",e.rpuStatus=AppEventData.computedState.state.product.availability.pickup.status!=undefined?AppEventData.computedState.state.product.availability.pickup.status.toLowerCase():""}else e.deliveryPromise="",e.dthStatus="",e.rpuStatus="";e.customerRating=AppEventData.computedState.state.product.product.customerRating||"0",e.brand=AppEventData.computedState.state.product.product.brandName!=undefined?AppEventData.computedState.state.product.product.brandName.toLowerCase():"",e.pdpFindingMethod=AppEventData.computedState.state.product.pdpFindingMethod||"",e.vendor=AppEventData.computedState.state.product.product.isMarketplace?"marketplace":"bestbuy","undefined"!=typeof AppEventData.computedState.state.product.product.isSpecialDelivery&&(e.isSpecialDelivery=AppEventData.computedState.state.product.product.isSpecialDelivery?"ScheduledDelivery":"NotScheduledDelivery"),e.bundleSavingsPercentage=e.bundleSavingsPercentage||"",e.singleSavingsPercentage=e.singleSavingsPercentage||"",e.numProductReviews=e.numProductReviews||"0";var a=AppEventData.computedState.state.product.product.seller;e.marketplaceSellerName=null!=a?a.name:"",e.marketplaceSellerID=null!=a?a.id:"",e.marketplaceSellerNum=(1<AppEventData.computedState.state.product.sellers.count?AppEventData.computedState.state.product.sellers.count:"")||"";var r=0<AppEventData.computedState.state.product.product.saving?AppEventData.computedState.state.product.product.saving.toFixed(2):"";e.productSavings=r||"",e.singleProductSavings="single"==e.productType?r:"",e.bundleProductSavings="bundle"==e.productType?r:"";var n=AppEventData.computedState.state.product.product.specialOffers,i="";return n&&0<n.length&&(i=n.map(function(e){return e.contentUrl.replace(/.*discountid\=(?=\d*)/i,"")}).join(":")),e.specialOffersIDs=i,"soldoutonline"==e.dthStatus&&"outofstock"!=e.rpuStatus?e.e84productPrice=e.priceWithoutEhf:"soldoutonline"!=e.dthStatus&&"outofstock"==e.rpuStatus?e.e86productPrice=e.priceWithoutEhf:"soldoutonline"==e.dthStatus&&"outofstock"==e.rpuStatus&&(e.e40productPrice=e.priceWithoutEhf),e}))||e.length<1?(_satellite.logger.warn("=== PDP Pageload Product data could not be found, no merch evars set ==="),{productsArray:[]}):{productsArray:e}}}},ProductsArray_RequiredPartsNeeded:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("ProductsArray Cart");if(e.productsArray){var t=e.productsArray.filter(function(e){return e.id.match(event.detail.payload.lineItem.sku)});return t[0].addedFrom="interstitial",{productsArray:t}}}}},AppChannel:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"AppChannel"}},firstProduct:{defaultValue:"asdacdadvfdv",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"event.detail.products.0.sku"}},dthTotalSaleRevenue:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(event||event.detail)return event.detail.products.map(function(e){return e.priceWithoutEhf}).reduce(function(e,t){return e+t},0)}}},dynamic_content_pagename:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=event&&event.detail&&event.detail.state;return e&&e.intl&&"fr"===e.intl.language?e.dynamicContent.content.seo.altLangSeoText:e.dynamicContent.content.seo.seoText}}},vendorType:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return AppEventData.computedState.state.product.product.isMarketplace?"marketplace":"bestbuy"}}},PDPBreadcrumb4:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("fullPDPBreadcrumb").split(":")[2]}}},breadcrumb3:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("fullBreadcrumb").split(":")[1]}}},skuArrayFromAppEventDataCart:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"dataElements/skuArrayFromAppEventDataCart/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.skuArrayFromAppEventDataCart=void 0;var r=function(){if(AppEventData.computedState.state.cart){var e=new Set(_satellite.getVar("ProductsArray Cart").productsArray.map(function(e){return"Constituent"===e.lineItemType?e.parentSku:e.sku.id}));return Array.from(e)}};a.skuArrayFromAppEventDataCart=r,window.extensionReturn=r},{}]},{},["dataElements/skuArrayFromAppEventDataCart/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},"ProductsArray PDP ATC":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[],t=event.detail.payload;return"PDP BAB"==t.location?(e[0]={},e[0].id=t.sku,e[0].name=t.name.replace(/\,/g,"\uff0c"),e[0].nameAndSku=t.name.replace(/\,/g,"\uff0c")+" : "+t.sku,e[0].customerRating=t.customerRating,e[0].numProductReviews=t.customerRatingCount,e[0].vendor=t.isMarketplace?"marketplace":"bestbuy",e[0].singleProductPrice=t.salePrice):e=_satellite.getVar("ProductsArray PDP PageLoad").productsArray,void 0===(e=e.map(function(e){return e.postalCode=AppEventData.computedState.state.user.postalCode||"",e.ATCLocation=event.detail.payload.location||"pdp",e.parentSku=e.parentSku||"",e.parentName=e.parentName||"",e.productType=e.productType||"",e.deliveryPromise=e.deliveryPromise||"",e.discountType=e.discountType||"",e.brand=e.brand||"",e.singleSavingsPercentage=e.singleSavingsPercentage||"",e.bundleSavingsPercentage=e.bundleSavingsPercentage||"",e.marketplaceSellerID=e.marketplaceSellerID||"",e.marketplaceSellerName=e.marketplaceSellerName||"",e.dthStatus=e.dthStatus||"",e.rpuStatus=e.rpuStatus||"",e.pdpFindingMethod=e.pdpFindingMethod||"",e.marketplaceSellerNum=e.marketplaceSellerNum||"",e.specialOffersIDs=e.specialOffersIDs||"",e}))||e.length<1?(_satellite.logger.warn("=== PDP ATC Product data could not be found, no merch evars set ==="),{productsArray:[]}):{productsArray:e}}}},getUrlWithNoQuery:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window&&window.location&&window.location.href)return window.location.href.split("?")[0]}}},sha256FromSignIn:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"tia"}},PageType_fromKey:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{brand:"brand store",brandStore:"brand hub",careers:"careers",category:"products",collection:"collection",corporate:"about",eventMarketing:"event",help:"help centre",homepage:"home",requiredParts:"interstitial",search:"search",services:"services"}[AppEventData.computedState.state.routing&&AppEventData.computedState.state.routing.pageKey]||""}}},"ProductsArray Cart Warranty ATC":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(AppEventData.computedState.state.cart!=undefined){var a=function(e){var t=[];if("analytics-cart-continue-to-checkout"===event.detail.event){var a=event.detail.state.cart.shipments.flatMap(function(e){return e.lineItems.flatMap(function(e){return e.children.filter(function(e){return"PSP"==e.lineItemType})})});t=event.detail.state.cart.shipments.flatMap(function(e){return e.lineItems.flatMap(function(e){return e.availableServicePlans.filter(function(e){return e.sku.id==a[0].sku.id})})})}else{var r=event.detail.payload.lineItem.sku.id;t=e.lineItems.filter(function(e){return e.lineItemType}).flatMap(function(e){return e.children}).filter(function(e){return"FreeItem"!==e.lineItemType&&e.sku.id===r})}return t.map(function(e){e.addLocation="cart",e.discountType=e.sku.offer.purchasePrice||e.sku.offer.onSale?window.getDiscountType(e.sku.offer.purchasePrice,e.sku.offer.onSale):"",e.productType=e.servicePlanType?window.getProductType(e.servicePlanType):window.getProductType(e.lineItemType),e.parentSku="bundle"==e.productType?e.parentSku:"",e.parentName="bundle"==e.productType?e.parentName:"",e.vendorType="bestbuy";var t=e.itemLevelDiscounts||[];t=t.reduce(function(e,t){return""===e?t.id:e+":"+t.id},""),e.itemLevelDiscounts=t||"",e.nameAndSku=e.sku.product.name+" : "+e.sku.id||"",e.name=e.sku.product.name||"",e.id=e.sku.id||"",e.singleProductPrice="single"==e.productType?e.sku.offer.purchasePrice:"",e.bundleProductPrice="bundle"==e.productType?e.sku.offer.purchasePrice:""}),t};return{productsArray:AppEventData.computedState.state.cart.shipments.reduce(function(e,t){return e.concat(a(t))},[])}}}}},"pdp has video":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return AppEventData.computedState.state&&AppEventData.computedState.state.product&&AppEventData.computedState.state.product.product&&AppEventData.computedState.state.product.product.productVideos&&0<AppEventData.computedState.state.product.product.productVideos.length?"BBY Video |PDP Gallery Video":""}}},siteBuildVersion:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"AppEventData.computedState.state.app.environment.versionNumber"}},pageName:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.s!=undefined&&""!==window.s.pageName?window.s.pageName:"undefined"!=typeof AppEventData&&AppEventData.computedState&&AppEventData.computedState.state&&AppEventData.computedState.state.routing&&AppEventData.computedState.state.routing.pageKey?AppEventData.computedState.state.routing.pageKey:void 0}}},"last query term":{modulePath:"core/src/lib/dataElements/sessionStorage.js",settings:{name:"query"}},URL:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.parent.location.hostname+window.parent.location.pathname}}},AppVersion:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"AppVersion"}},skuPriceArrayFromAppEventCart:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"../utils/global/cartPageLoadHelpers/getFlattenedCartLineItems/index.js":[function(e,t,a){"use strict";function r(e){return s(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}Object.defineProperty(a,"__esModule",{value:!0}),a.getFlattenedCartLineItems=void 0;var o=function(){var e=c();if(e)return e.shipments.reduce(l,[])};a.getFlattenedCartLineItems=o;var c=function(){return AppEventData.computedState.state.cart},l=function(e,t){var a=t.lineItems;return[].concat(r(e),r(a))}},{}],"dataElements/skuPriceArrayFromAppEventDataCart/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.skuPriceArrayFromAppEventDataCart=void 0;var r=e("../../../utils/global/cartPageLoadHelpers/getFlattenedCartLineItems"),n=function(){if(AppEventData.computedState.state.cart)return(0,r.getFlattenedCartLineItems)().map(function(e){var t=e.totalPurchasePrice;return"".concat(t)})};a.skuPriceArrayFromAppEventDataCart=n,window.extensionReturn=n},{"../../../utils/global/cartPageLoadHelpers/getFlattenedCartLineItems":"../utils/global/cartPageLoadHelpers/getFlattenedCartLineItems/index.js"}]},{},["dataElements/skuPriceArrayFromAppEventDataCart/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}},productCategoryFromAppEventDataSearch:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){parcelRequire=function(s,o,e,t){function c(t,e){function a(e){return c(a.resolve(e))}if(!o[t]){if(!s[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!e&&r)return r(t,!0);if(l)return l(t,!0);if(u&&"string"==typeof t)return u(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}a.resolve=function(e){return s[t][1][e]||e},a.cache={};var i=o[t]=new c.Module(t);s[t][0].call(i.exports,a,i,i.exports,this)}return o[t].exports}var a,l="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=s,c.cache=o,c.parent=l,c.register=function(e,a){s[e]=[function(e,t){t.exports=a},{}]};for(var r=0;r<e.length;r++)try{c(e[r])}catch(s){a||(a=s)}if(e.length){var n=c(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t&&(this[t]=n)}if(parcelRequire=c,a)throw a;return c}({"../utils/global/categoryFromAppEventDataSearchHelpers/hasCategoryBreadcrumbs/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.hasCategoryBreadcrumbsAppEventSearch=void 0;var r=function(){var e=AppEventData.computedState.state;return e&&e.search&&e.search.category&&e.search.category.categoryBreadcrumb&&1<e.search.category.categoryBreadcrumb.length};a.hasCategoryBreadcrumbsAppEventSearch=r},{}],"dataElements/productCategoryFromAppEventDataSearch/index.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getProductCategoryFromAppEventDataSearch=void 0;var r=e("../../../utils/global/categoryFromAppEventDataSearchHelpers/hasCategoryBreadcrumbs"),n=function(){if((0,r.hasCategoryBreadcrumbsAppEventSearch)()){var e=AppEventData.computedState.state.search.category.categoryBreadcrumb;return e[e.length-1].name}};a.getProductCategoryFromAppEventDataSearch=n,window.extensionReturn=n},{"../../../utils/global/categoryFromAppEventDataSearchHelpers/hasCategoryBreadcrumbs":"../utils/global/categoryFromAppEventDataSearchHelpers/hasCategoryBreadcrumbs/index.js"}]},{},["dataElements/productCategoryFromAppEventDataSearch/index.js"],null);var e=window.extensionReturn&&window.extensionReturn();return delete window.extensionReturn,e}}}},extensions:{"data-layer-manager-search-discovery":{displayName:"Data Layer Manager",modules:{"data-layer-manager-search-discovery/src/lib/data_elements/context_aware_data_element.js":{name:"context-aware-data-layer-root",displayName:"Context Aware",script:function(e,t,u,d){"use strict";function a(e){return e&&"data-layer-manager-search-discovery.data-layer-push-event"===e.$type}function r(e){return e&&"core.custom-event"===e.$type&&0===e.nativeEvent.type.indexOf("SDI-DLM")}function p(e){return a(e)||r(e)}e.exports=function(e,t){var a=u("../util"),r=u("@adobe/reactor-window"),n=d.getExtensionSettings().dataLayerObjectName,i=a.deepFind(r,n),s=e.dataLayerPath,o=p(t)?"event.detail.__meta":n,c=p(t)?t.detail.__meta:i;d.logger.debug("Resolving",s,"from "+o+".computedState",c.computedState);try{return""===s?c.computedState:a.deepFind(c.computedState,s)}catch(l){return d.logger.error("Invalid path",s,l),undefined}}}},"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js":{name:"data-layer-push-event",displayName:"Data Layer Push",script:function(e,t,n,i){"use strict";e.exports=function(e,t){var a=n("@adobe/reactor-window");if(e.eventType){var r=["SDI-DLM",e.eventType].join(":");a.removeEventListener(r,t,!1),a.addEventListener(r,t,!1),i.logger.debug("Listener added for "+r)}}}},"data-layer-manager-search-discovery/src/lib/extension_main.js":{script:function(e,t,a,r){"use strict";function n(e,t){return(e.eventNames||[]).reduce(i(t),{})}function i(r){return function(e,t){var a={};return a[t.eventName]=t[r],u(e,a)}}function s(e,t){var a=t.getExtensionSettings()||{};t.logger.log("Initializing with settings:",a),t.logger.log("Pro-Tip: Enable 'Verbose' logging to see detailed info from this extension."),e.init({dataLayerName:a.dataLayerObjectName,validationSchema:n(a,"validationSchema"),eventResets:n(a,"resetBefore"),proFeatures:c.validate(a.licenseKey||{},"data-layer-manager-search-discovery"),airbrakeConfig:a.airbrake||{},environment:t.buildInfo.environment,debug:"production"!==t.buildInfo.environment})}var o=a("./core"),c=a("./maglev"),l=a("@adobe/reactor-window"),u=a("@adobe/reactor-object-assign"),d=new o(l);setTimeout(function(){s(d,r)},0)}},"data-layer-manager-search-discovery/src/lib/util.js":{script:function(e){var t=function(){};t.prototype.argumentsToArray=function(e){return 1===e.length?[e[0]]:Array.apply(null,e)},t.prototype.copy=function(e){return JSON.parse(JSON.stringify(e))},t.prototype.deepFind=function(e,t){for(var a=t.split("."),r=e,n=0;n<a.length;++n){if(r[a[n]]==undefined)return undefined;r=r[a[n]]}return r},t.prototype.deepSet=function(e,t,a){var r=t.split("."),n=r.slice(0,-1).join(".");(1===r.length?e:this.deepFind(e,n))[r.slice(-1)]=a},e.exports=new t}},"data-layer-manager-search-discovery/src/lib/core.js":{script:function(e,t,i,s){var o=i("@adobe/reactor-object-assign"),a=function(e){this.document=e.document,this.window=e,this.defaultConfig={dataLayerName:"appEventData",validationSchema:{},eventResets:{},validateEvents:!1}};o(a.prototype,{init:function(e){var t=this;this.logger=s.logger,this.config=o({},this.defaultConfig,e||{});var a=i("./validation");this.validation=a(this.window,this.config,this.logger);var r=i("./lifecycle");this.lifecycle=new r(this);var n=i("./data_layer");this.dataLayer=new n(t)},trigger:function(e){var t=this.document.createEvent("CustomEvent"),a="SDI-DLM:"+e.event;delete o({},e).event,t.initCustomEvent(a,!0,!0,e),this.window.dispatchEvent(t)}}),e.exports=a}},"data-layer-manager-search-discovery/src/lib/maglev.js":{script:function(e,t,n){function a(e,t,a){if(!a){var r=n("@adobe/reactor-window");a=r._satellite&&r._satellite._container&&r._satellite._container.company&&r._satellite._container.company.orgId}return i(e.base+a+t)===e.key}function i(n){var i=((n=n||"").match(/[3-9]/)||[3])[0],e=n.slice(i).length,t=Math.floor(e/4);return[0,t,2*t,3*t].map(function(e){var t=e,a=t+4,r=n.slice(i);return btoa(r).slice(t,a)}).join("-")}e.exports={},e.exports.validate=a,e.exports.generateKey=i}},"data-layer-manager-search-discovery/src/lib/validation.js":{script:function(e,t,a,r){var c=a("@adobe/reactor-object-assign"),i=a("@adobe/reactor-promise"),n=a("@adobe/reactor-load-script"),s=a("./util"),o=function(e,t,a){var r=t.validationSchema||{},n=t.airbrakeConfig||{},i=t.environment,s=t.proFeatures&&t.debug,o=l(e,s,n,i);return{validateEvent:m(s,r,a,e,i,o)}},l=function(e,t,a,r){var n=t&&a.id&&a.key;return i.all([u(t),d(n)]).then(p(e,a,r))},u=function(e){return e&&n(r.getHostedLibFileUrl("tv4.js"))},d=function(e){return e&&n(r.getHostedLibFileUrl("airbrake.min.js"))},p=function(e,t,a){return function(){e.airbrakeJs&&(e.airbrake=new e.airbrakeJs.Client({projectId:t.id,projectKey:t.key,unwrapConsole:!0,environment:a+" [Launch]"}))}},m=function(a,r,n,i,s,e){return function(t){return e.then(function(){var e={active:a,valid:null,validated:!1,errors:[]};return e=f(e,t,n),(e=g(e,t,n,i,r)).valid&&n.debug("EVENT PAYLOAD VALIDATION PASSED:",t),v(i,s,t,e.errors),e})}},f=function(e,t,a){var r={};return e.active&&!t.event&&(a.error("EVENT PAYLOAD VALIDATION FAILED: Missing event name at event.event"),r={valid:!1,validated:!0,errors:e.errors.concat(["Missing event name at event.event"])}),c(e,r)},g=function(e,t,a,r,n){var i="object"==typeof n[t.event]&&0<Object.keys(n[t.event]).length,s={};if(e.active&&i){var o=r.tv4.validateMultiple(t,n[t.event]);o.errors.forEach(function(e){a.error("EVENT PAYLOAD VALIDATION FAILED:",e.message,e,t)}),o.missing.forEach(function(e){a.error("EVENT PAYLOAD VALIDATION FAILED:",e,t)}),s={valid:o.valid,validated:!0,errors:e.errors.concat(o.errors.concat(o.missing))}}return c(e,s)},v=function(t,a,r,e){var n=function(e){t.airbrake&&t.airbrake.notify(b(a,r,e))};e.forEach(n)},b=function(e,t,a){var r=s.copy(t);return delete r.__meta,{error:t.event+" : "+a.message,params:{key:a.params.key,event:t.event,code:a.code,dataPath:a.dataPath,schemaPath:a.schemaPath,message:a.message,sender:t.sender,eventPayload:r},environment:{launchEnv:e,sender:t.sender}}};e.exports=o}},"data-layer-manager-search-discovery/src/lib/lifecycle.js":{script:function(e,t,a){var r=function(e){this.logger=e.logger,this.preValidationCallbacks=[]};a("@adobe/reactor-object-assign")(r.prototype,{isPreValidationCallback:function(e){return!!e.preValidationCallback&&"object"==typeof e.preValidationCallback&&!!e.preValidationCallback.func},registerPreValidationCallback:function(e){var t=e.func,a=e.eventMatch,r=e.executionOrder;"function"!=typeof t?this.logger.error("registerPreValidationCallback - Invalid function : func must be a function"):a&&"string"!=typeof a&&a.constructor!=RegExp?this.logger.error("registerPreValidationCallback - eventMatch must be a String Literal or RegExp."):r&&"number"!=typeof r?this.logger.error("registerPreValidationCallback - executionOrder must be a number."):("string"==typeof(a=a||new RegExp(/.*/))&&(a=new RegExp("^"+a+"$")),r=r||9999,this.preValidationCallbacks.push({func:t,executionOrder:r,eventMatch:a}),this.logger.debug("registerPreValidationCallback executed with ",t,r,a))}}),e.exports=r}},"data-layer-manager-search-discovery/src/lib/data_layer.js":{script:function(e,t,a){var i=a("./util"),n=a("@adobe/reactor-object-assign"),s=a("./event_processor"),r=function(e){this.logger=e.logger,this.window=e.window,this.eventResets=e.config.eventResets,this.dataLayerName=e.config.dataLayerName,this.eventProcessor=new s(e);var t=this._initializeDataLayer();if(Array.isArray(t)){var a=t.slice(0);this._augmentDataLayer(t),this.reset(),t.push.apply(t,a),this._monitorDataLayerOverwrite()}else this.logger.error("Data layer must be an Array.",this.dataLayerName)};n(r.prototype,{get:function(){return i.deepFind(this.window,this.dataLayerName)},set:function(e){i.deepSet(this.window,this.dataLayerName,e)},reset:function(){this.get().length=0},_initializeDataLayer:function(){return void 0===this.get()&&this.set([]),this.get()},_augmentDataLayer:function(e){r.addComputedState(e),this._replacePush(e),this._assignReset(e),e._managedBy="https://techdocs.searchdiscovery.com/adobe-solutions/adobe-launch/launch-extensions/data-layer-manager"},_monitorDataLayerOverwrite:function(){this.window._dataLayerOverwriteMonitor=this.window.setInterval(function(e){var t=e.get();t&&t._managedBy||(e.logger.error("Management Functionality Severed... Data Layer has been overwritten!"),e.window.clearInterval(e.window._dataLayerOverwriteMonitor))},2500,this)},_assignReset:function(e){var t=this;e._reset=function(){t.reset()}},_replacePush:function(t){var a=t.push,r=this.eventProcessor.preProcessEventFn(this),n=this.eventProcessor.processEventFn(this),e=function(){var e=i.argumentsToArray(arguments).map(r);a.apply(t,e),e.forEach(n)};t.push=e}}),r.addComputedState=function(a){var r=function(){return function(e){e=void 0===e?a.length-1:e;var t=a.slice(0,e+1).filter(s.isEventObject).reduce(function(e,t){return n(e,t)},{});return delete t.event,delete t.__meta,i.copy(t)}};a.computedState||Object.defineProperty(a,"computedState",{configurable:!1,enumerable:!1,get:r()}),a._computedStateAtIndex||Object.defineProperty(a,"_computedStateAtIndex",{configurable:!1,enumerable:!1,get:r}),a._computedStateAtEvent||Object.defineProperty(a,"_computedStateAtEvent",{configurable:!1,enumerable:!1,get:function(){return function(e){var t=a.indexOf(e);return r()(t)}}})},e.exports=r}},"data-layer-manager-search-discovery/src/lib/event_processor.js":{script:function(e,t,a){var r=a("@adobe/reactor-object-assign"),c=a("./util"),n=function(e){this.core=e,this.logger=e.logger,this.lifecycle=e.lifecycle,this.validation=e.validation,this.proFeatures=e.config.proFeatures,this.debug=e.config.debug};r(n.prototype,{preProcessEventFn:function(e){var a=this;return function(t){return a.lifecycle.isPreValidationCallback(t)&&a.lifecycle.registerPreValidationCallback(t.preValidationCallback),n.isEventObject(t)&&a.proFeatures&&(e.eventResets[t.event]&&e.reset(),t=a._processEventCallbacks(a,t),a.debug&&a.validation.validateEvent(t).then(function(e){t.__meta=t.__meta||{},t.__meta.validationResult=e})),t}},processEventFn:function(t){var a=this;return function(e){return n.isEventObject(e)&&(n.addComputedState(t.get(),e),a.core.trigger(e)),e}},_processOneEventCallback:function(e,t,a){var r=c.copy(t);delete r.__meta;var n=c.copy(t);try{void 0===(n=a.func(c.copy(t)))&&(e.logger.error("processEventCallbacks - callback function did not return event.",a),n=c.copy(t))}catch(o){e.logger.error("processEventCallbacks failed. error:",o)}var i=c.copy(n);if(delete i.__meta,e.debug){var s={callback:{functionName:a.func.name,executionOrder:a.executionOrder,eventMatch:a.eventMatch.toString()},eventBefore:r,eventAfter:i};n.__meta.callbackSnapshots.push(s),e.logger.debug("preValidationCallback executed for event: "+n.event,s)}return n},_processEventCallbacks:function(a,t){return a.debug&&(t.__meta=t.__meta||{},t.__meta.callbackSnapshots=t.__meta.callbackSnapshots||[]),t=a.lifecycle.preValidationCallbacks.filter(function(e){return t.event.match(e.eventMatch)}).sort(function(e,t){return e.executionOrder-t.executionOrder}).reduce(function(e,t){return a._processOneEventCallback(a,e,t)},t)}}),n.isEventObject=function(e){return!!e.event&&"string"==typeof e.event},n.addComputedState=function(e,t){t.__meta=t.__meta||{},t.__meta.computedState||Object.defineProperty(t.__meta,"computedState",{configurable:!1,enumerable:!1,get:function(){return e._computedStateAtEvent(t)}})},e.exports=n}}},settings:{eventPrefix:"AppEvent",triggerNodeId:"triggerNode",dataLayerObjectName:"AppEventData"},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP206f6fe38c3a4e568b12f54e01153fdc/"},"adobe-mcid":{displayName:"Experience Cloud ID Service",modules:{"adobe-mcid/src/lib/actions/setCustomerIds.js":{name:"set-customer-ids",displayName:"Set Customer IDs",script:function(e,t,a,r){"use strict";var n=a("../sharedModules/mcidInstance"),i=r.logger,s=function(e){return"string"==typeof e&&0<e.length},o=function(e){var r={},n=[];return e.forEach(function(e){var t=e.integrationCode,a=e.value;s(t)&&s(a)?(r[t]={id:a},e.hasOwnProperty("authState")&&(r[e.integrationCode].authState=e.authState)):n.push(e)}),n.length&&i.warn("Rejected these customer ids: "+JSON.stringify(n)),r};e.exports=function(e){if(n){var t=o(e.customerIds);n.setCustomerIDs(t),i.info("Set Customer IDs: "+JSON.stringify(t))}else i.warn("MCID instance cannot be found. Cannot set Customer IDs.")}}},"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,a,r){"use strict";var n=a("@adobe/reactor-document"),i=r.getExtensionSettings(),s=a("../codeLibrary/VisitorAPI"),o=function(e){return e.reduce(function(e,t){var a=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=a,e},{})},c=function(e){if("string"!=typeof i.orgId)throw new TypeError("Org ID is not a string.");var t=o(i.variables||[]),a=e.getInstance(i.orgId,t);return r.logger.info('Created instance using orgId: "'+i.orgId+'"'),r.logger.info("Set variables: "+JSON.stringify(t)),a.getMarketingCloudVisitorID(function(e){
r.logger.info("Obtained Marketing Cloud Visitor Id: "+e)},!0),a},l=function(t){return(i.pathExclusions||[]).some(function(e){return e.valueIsRegex?new RegExp(e.value,"i").test(t):e.value===t})},u=null;_satellite.getVisitorId=function(){return u},l(n.location.pathname)?r.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):u=c(s),e.exports=u},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function e(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var a=this.callbacks[e].push(t)-1;return function(){this.callbacks[e].splice(a,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var a=this.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(a,e){(e||a&&!V.isObjectEmpty(a))&&Object.keys(this.callbacks).forEach(function(e){var t=void 0!==a[e]?a[e]:"";this.execute(e,t)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function n(e){for(var t=/^\d+$/,a=0,r=e.length;a<r;a++)if(!t.test(e[a]))return!1;return!0}function i(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function s(e,t){for(var a=0;a<e.length;a++){var r=parseInt(e[a],10),n=parseInt(t[a],10);if(n<r)return 1;if(r<n)return-1}return 0}function a(e,t){if(e===t)return 0;var a=e.toString().split("."),r=t.toString().split(".");return n(a.concat(r))?(i(a,r),s(a,r)):NaN}var E="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,a,r=1;r<arguments.length;++r)for(t in a=arguments[r])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e};var t,r,C={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"}},o=C.STATE_KEYS_MAP,b=function(n){function r(){}function i(e,a){var r=this;return function(){var e=n(0,o.MCMID),t={};return t[o.MCMID]=e,r.setStateAndPublish(t),a(e),e}}this.getMarketingCloudVisitorID=function(e){e=e||r;var t=this.findField(o.MCMID,e),a=i.call(this,o.MCMID,e);return void 0!==t?t:a()}},c=C.MESSAGES,l=C.ASYNC_API_MAP,u=C.SYNC_API_MAP,h=function(){function n(){}function i(e,t){var a=this;return function(){return a.callbackRegistry.add(e,t),a.messageParent(c.GETSTATE),""}}function e(r){this[l[r]]=function(e){e=e||n;var t=this.findField(r,e),a=i.call(this,r,e);return void 0!==t?t:a()}}function t(e){this[u[e]]=function(){return this.findField(e,n)||{}}}Object.keys(l).forEach(e,this),Object.keys(u).forEach(t,this)},d=C.ASYNC_API_MAP,y=function(){Object.keys(d).forEach(function(t){this[d[t]]=function(e){this.callbackRegistry.add(t,e)}},this)},V=((t=(r={exports:{}}).exports).isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},t.isValueEmpty=function(e){return""===e||t.isObjectEmpty(e)},t.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},t.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},t.isObject=function(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)},r.exports),P=(V.isObjectEmpty,V.isValueEmpty,V.getIeVersion,V.encodeAndBuildRequest,V.isObject,e),p=C.MESSAGES,m={0:"prefix",1:"orgID",2:"state"},A=function(i,s){this.parse=function(e){try{var a={};return e.data.split("|").forEach(function(e,t){void 0!==e&&(a[m[t]]=2!==t?e:JSON.parse(e))}),a}catch(e){}},this.isInvalid=function(e){var t=this.parse(e);if(!t||Object.keys(t).length<2)return!0;var a=i!==t.orgID,r=!s||e.origin!==s,n=-1===Object.keys(p).indexOf(t.prefix);return a||r||n},this.send=function(e,t,a){var r=t+"|"+i;a&&a===Object(a)&&(r+="|"+JSON.stringify(a));try{e.postMessage(r,s)}catch(i){}}},S=C.MESSAGES,f=function(e,t,a,r){function n(e){Object.assign(m,e)}function i(e){Object.assign(m.state,e),m.callbackRegistry.executeAll(m.state)}function s(e){if(!v.isInvalid(e)){g=!1;var t=v.parse(e);m.setStateAndPublish(t.state)}}function o(e){!g&&f&&(g=!0,v.send(r,e))}function c(){n(new b(a._generateID)),m.getMarketingCloudVisitorID(),m.callbackRegistry.executeAll(m.state,!0),E.removeEventListener("message",l)}function l(e){if(!v.isInvalid(e)){var t=v.parse(e);g=!1,E.clearTimeout(m._handshakeTimeout),E.removeEventListener("message",l),n(new h(m)),E.addEventListener("message",s),m.setStateAndPublish(t.state),m.callbackRegistry.hasCallbacks()&&o(S.GETSTATE)}}function u(){f&&postMessage?(E.addEventListener("message",l),o(S.HANDSHAKE),m._handshakeTimeout=setTimeout(c,250)):c()}function d(){E.s_c_in||(E.s_c_il=[],E.s_c_in=0),m._c="Visitor",m._il=E.s_c_il,m._in=E.s_c_in,m._il[m._in]=m,E.s_c_in++}function p(){function e(e){0!==e.indexOf("_")&&"function"==typeof a[e]&&(m[e]=function(){})}Object.keys(a).forEach(e),m.getSupplementalDataID=a.getSupplementalDataID}var m=this,f=t.whitelistParentDomain;m.state={},m.version=a.version,m.marketingCloudOrgID=e,m.cookieDomain=a.cookieDomain||"";var g=!(m._instanceType="child"),v=new A(e,f);m.callbackRegistry=P(),m.init=function(){d(),p(),n(new y(m)),u()},m.findField=function(e,t){if(m.state[e])return t(m.state[e]),m.state[e]},m.messageParent=o,m.setStateAndPublish=i},g=C.MESSAGES,v=C.ALL_APIS,_=C.ASYNC_API_MAP,k=C.FIELDGROUP_TO_FIELD,j=function(n,r){function i(){var r={};return Object.keys(v).forEach(function(e){var t=v[e],a=n[t]();V.isValueEmpty(a)||(r[e]=a)}),r}function s(){var a=[];return n._loading&&Object.keys(n._loading).forEach(function(e){if(n._loading[e]){var t=k[e];a.push(t)}}),a.length?a:null}function t(a){return function r(){var e=s();if(e){var t=_[e[0]];n[t](r,!0)}else a()}}function a(e,t){var a=i();r.send(e,t,a)}function o(e){l(e),a(e,g.HANDSHAKE)}function c(e){t(function(){a(e,g.PARENTSTATE)})()}function l(t){function e(e){a.call(n,e),r.send(t,g.PARENTSTATE,{CUSTOMERIDS:n.getCustomerIDs()})}var a=n.setCustomerIDs;n.setCustomerIDs=e}return function(e){r.isInvalid(e)||(r.parse(e).prefix===g.HANDSHAKE?o:c)(e.source)}},I=function(r,a){function n(t){return function(e){i[t]=e,++s===o&&a(i)}}var i={},s=0,o=Object.keys(r).length;Object.keys(r).forEach(function(e){var t=r[e];if(t.fn){var a=t.args||[];a.unshift(n(e)),t.fn.apply(t.context||null,a)}})},T=function(e){var t;if(!e&&E.location&&(e=E.location.hostname),t=e)if(/^[0-9.]+$/.test(t))t="";else{var a=",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,",r=t.split("."),n=r.length-1,i=n-1;if(1<n&&r[n].length<=2&&(2===r[n-1].length||a.indexOf(","+r[n]+",")<0)&&i--,0<i)for(t="";i<=n;)t=r[n]+(t?".":"")+t,n--}return t},D={compare:a,isLessThan:function(e,t){return a(e,t)<0},areVersionsDifferent:function(e,t){return 0!==a(e,t)},isGreaterThan:function(e,t){return 0<a(e,t)},isEqual:function(e,t){return 0===a(e,t)}},w=!!E.postMessage,R={postMessage:function(e,t,a){var r=1;t&&(w?a.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(a.location=t.replace(/#.*$/,"")+"#"+ +new Date+r+++"&"+e))},receiveMessage:function(t,a){var e;try{w&&(t&&(e=function(e){if("string"==typeof a&&e.origin!==a||"[object Function]"===Object.prototype.toString.call(a)&&!1===a(e.origin))return!1;t(e)}),E.addEventListener?E[t?"addEventListener":"removeEventListener"]("message",e):E[t?"attachEvent":"detachEvent"]("onmessage",e))}catch(t){}}},x=function(e){var t,a,r="0123456789",n="",i="",s=8,o=10,c=10;if(1==e){for(r+="ABCDEF",t=0;t<16;t++)a=Math.floor(Math.random()*s),n+=r.substring(a,a+1),a=Math.floor(Math.random()*s),i+=r.substring(a,a+1),s=16;return n+"-"+i}for(t=0;t<19;t++)a=Math.floor(Math.random()*o),n+=r.substring(a,a+1),0===t&&9==a?o=3:(1==t||2==t)&&10!=o&&a<2?o=10:2<t&&(o=10),a=Math.floor(Math.random()*c),i+=r.substring(a,a+1),0===t&&9==a?c=3:(1==t||2==t)&&10!=c&&a<2?c=10:2<t&&(c=10);return n+i},O=function(r){return{corsMetadata:(e="none",t=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),0<Object.prototype.toString.call(E.HTMLElement).indexOf("Constructor")&&(t=!1)),{corsType:e,corsCookiesEnabled:t}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new E[this.corsMetadata.corsType]},fireCORS:function(i,e){function t(e){var t;try{if((t=JSON.parse(e))!==Object(t))return void s.handleCORSError(i,null,"Response is not JSON")}catch(e){return void s.handleCORSError(i,e,"Error parsing response as JSON")}try{for(var a=i.callback,r=E,n=0;n<a.length;n++)r=r[a[n]];r(t)}catch(e){s.handleCORSError(i,e,"Error forming callback function")}}var s=this;e&&(i.loadErrorHandler=e);try{var a=this.getCORSInstance();a.open("get",i.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(a.withCredentials=!0,a.timeout=r.loadTimeout,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){4===this.readyState&&200===this.status&&t(this.responseText)}),a.onerror=function(e){s.handleCORSError(i,e,"onerror")},a.ontimeout=function(e){s.handleCORSError(i,e,"ontimeout")},a.send(),r._log.requests.push(i.corsUrl)}catch(r){this.handleCORSError(i,r,"try-catch")}},handleCORSError:function(e,t,a){r.CORSErrors.push({corsData:e,error:t,description:a}),e.loadErrorHandler&&("ontimeout"===a?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}};var e,t},L={POST_MESSAGE_ENABLED:!!E.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/},N=function(f,t){var n=E.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var e,t="http://fast.",a="?d_nsid="+f.idSyncContainerID+"#"+encodeURIComponent(n.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),f.loadSSL&&(t=f.idSyncSSLUseAkamai?"https://fast.":"https://"),e=t+this.subdomain+".demdex.net/dest5.html"+a,this.iframeHost=this.getIframeHost(e),this.id="destination_publishing_iframe_"+this.subdomain+"_"+f.idSyncContainerID,e},checkDPIframeSrc:function(){var e="?d_nsid="+f.idSyncContainerID+"#"+encodeURIComponent(n.location.href);"string"==typeof f.dpIframeSrc&&f.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(f._subdomain||this.subdomain||(new Date).getTime())+"_"+f.idSyncContainerID,this.iframeHost=this.getIframeHost(f.dpIframeSrc),this.url=f.dpIframeSrc+e)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:L.POST_MESSAGE_ENABLED?null:100,jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(f.idSyncDisableSyncs||f.disableIdSyncs||f.idSyncDisable3rdPartySyncing||f.disableThirdPartyCookies||f.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||f._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||f._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(r=n.createElement("iframe")).sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=a.id,r.name=a.id+"_name",r.style.cssText="display: none; width: 0; height: 0;",r.src=a.url,a.newIframeCreated=!0,t(),n.body.appendChild(r)}function t(e){r.addEventListener("load",function(){r.className="aamIframeLoaded",a.iframeHasLoaded=!0,a.fireIframeLoadedCallbacks(e),a.requestToProcess()})}this.startedAttachingIframe=!0;var a=this,r=n.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==r.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=r,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=r},fireIframeLoadedCallbacks:function(t){this.iframeLoadedCallbacks.forEach(function(e){"function"==typeof e&&e({message:t||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(e){function t(){r.jsonForComparison.push(e),r.jsonWaiting.push(e),r.processSyncOnPage(e)}var a,r=this;if(e===Object(e)&&e.ibs)if(a=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){var n,i,s,o=!1;for(n=0,i=this.jsonForComparison.length;n<i;n++)if(s=this.jsonForComparison[n],a===JSON.stringify(s.ibs||[])){o=!0;break}o?this.jsonDuplicates.push(e):t()}else t();if((this.receivedThirdPartyCookiesNotification||!L.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}f.idSyncDisableSyncs||f.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){r.messageSendingInterval=L.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(e,t){var a=f._getField("MCAAMLH"),r=e.d_region||e.dcs_region;return a?r&&(f._setFieldExpire("MCAAMLH",t),f._setField("MCAAMLH",r),parseInt(a,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,f._setField("MCSYNCSOP",""),f._setField("MCSYNCS",""),a=r)):(a=r)&&(f._setFieldExpire("MCAAMLH",t),f._setField("MCAAMLH",a)),a||(a=""),a},processSyncOnPage:function(e){var t,a,r,n;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(r=0;r<a;r++)(n=t[r]).syncOnPage&&this.checkFirstPartyCookie(n,"","syncOnPage")},process:function(e){var t,a,r,n,i,s=encodeURIComponent,o=!1;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(o=!0,r=0;r<a;r++)n=t[r],i=[s("ibs"),s(n.id||""),s(n.tag||""),V.encodeAndBuildRequest(n.url||[],","),s(n.ttl||""),"","",n.fireURLSync?"true":"false"],n.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(i.join("|")):n.fireURLSync&&this.checkFirstPartyCookie(n,i.join("|")));o&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,a){var r="syncOnPage"===a,n=r?"MCSYNCSOP":"MCSYNCS";f._readVisitor();var i,s,o=f._getField(n),c=!1,l=!1,u=Math.ceil((new Date).getTime()/L.MILLIS_PER_DAY);o?(i=o.split("*"),c=(s=this.pruneSyncData(i,e.id,u)).dataPresent,l=s.dataValid,c&&l||this.fireSync(r,e,t,i,n,u)):(i=[],this.fireSync(r,e,t,i,n,u))},pruneSyncData:function(e,t,a){var r,n,i,s=!1,o=!1;for(n=0;n<e.length;n++)r=e[n],i=parseInt(r.split("-")[1],10),r.match("^"+t+"-")?(s=!0,a<i?o=!0:(e.splice(n,1),n--)):i<=a&&(e.splice(n,1),n--);return{dataPresent:s,dataValid:o}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,a,r,u,n){var d=this;if(e){if("img"===t.tag){var i,s,o,c,l=t.url,p=f.loadSSL?"https:":"http:";for(i=0,s=l.length;i<s;i++){o=l[i],c=/^\/\//.test(o);var m=new Image;m.addEventListener("load",function(s,o,c,l){return function(){d.onPagePixels[s]=null,f._readVisitor();var e,t,a,r,n=f._getField(u),i=[];if(n)for(t=0,a=(e=n.split("*")).length;t<a;t++)(r=e[t]).match("^"+o.id+"-")||i.push(r);d.setSyncTrackingData(i,o,c,l)}}(this.onPagePixels.length,t,u,n)),m.src=(c?p:"")+o,this.onPagePixels.push(m)}}}else this.addMessage(a),this.setSyncTrackingData(r,t,u,n)},addMessage:function(e){var t=encodeURIComponent(f._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((L.POST_MESSAGE_ENABLED?"":t)+e)},setSyncTrackingData:function(e,t,a,r){e.push(t.id+"-"+(r+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),f._setField(a,e.join("*"))},sendMessages:function(){var e,t=this,a="",r=encodeURIComponent;this.regionChanged&&(a=r("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?L.POST_MESSAGE_ENABLED?(e=a+r("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(a+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){R.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,a=/^---destpub-to-parent---/;"string"==typeof e&&a.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(a,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof f._subdomain&&f._subdomain.length?this.subdomain=f._subdomain:this.subdomain=e.subdomain||"",this.url=this.getUrl()),e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(f.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===n.readyState||"loaded"===n.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof f.idSyncIDCallResult?f.idSyncIDCallResult(e):this.requestToProcess(e),"function"==typeof f.idSyncAfterIDCallResult&&f.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return f._forceSyncIDCall||!e||t-e>L.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(n.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},F={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},disableThirdPartyCalls:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},overwriteCrossDomainMCIDAndAID:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},M={getConfigNames:function(){return Object.keys(F)},getConfigs:function(){return F}},U=function(r,n,e){function t(e){var r=e;return function(e){var t=e||c.location.href;try{var a=m._extractParamFromUri(t,r);if(a)return _.parsePipeDelimetedKeyValues(a)}catch(e){}}}function a(e){function t(e,t){e&&e.match(L.VALID_VISITOR_ID_REGEX)&&t(e)}t(e[g],m.setMarketingCloudVisitorID),m._setFieldExpire(h,-1),t(e[v],m.setAnalyticsVisitorID)}function i(e){e=e||{},m._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",m._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},m._supplementalDataIDLast=e.supplementalDataIDLast||"",m._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function s(e){function n(e,t,a){return(a=a?a+="|":a)+(e+"=")+encodeURIComponent(t)}function t(e,t){var a=t[0],r=t[1];return null!=r&&r!==y&&(e=n(a,r,e)),e}var a,r=e.reduce(t,"");return(a=(a=r)?a+="|":a)+"TS="+_.getTimestampInSeconds()}function o(e){var t=e.minutesToLive,a="";return(m.idSyncDisableSyncs||m.disableIdSyncs)&&(a=a||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(a=a||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(a=a||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(a=a||"Error: config.minutesToLive needs to be a positive number")),{error:a,ttl:t}}if(!e||e.split("").reverse().join("")!==r)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var m=this;m.version="3.3.0";var c=E,l=c.Visitor;l.version=m.version,l.AuthState=C.AUTH_STATE,l.OptOut=C.OPT_OUT,c.s_c_in||(c.s_c_il=[],c.s_c_in=0),m._c="Visitor",m._il=c.s_c_il,m._in=c.s_c_in,m._il[m._in]=m,c.s_c_in++,m._instanceType="regular",m._log={requests:[]},m.marketingCloudOrgID=r,m.cookieName="AMCV_"+r,m.sessionCookieName="AMCVS_"+r,m.cookieDomain=T(),m.cookieDomain===c.location.hostname&&(m.cookieDomain=""),m.loadSSL=0<=c.location.protocol.toLowerCase().indexOf("https"),m.loadTimeout=3e4,m.CORSErrors=[],m.marketingCloudServer=m.audienceManagerServer="dpm.demdex.net",m.sdidParamExpiry=30;var u=c.document,f=null,g="MCMID",d="MCIDTS",p="A",v="MCAID",b="AAM",h="MCAAMB",y="NONE",P=function(e){return!Object.prototype[e]},S=O(m);m.FIELDS=C.FIELDS,m.cookieRead=function(e){e=encodeURIComponent(e);var t=(";"+u.cookie).split(" ").join(";"),a=t.indexOf(";"+e+"="),r=a<0?a:t.indexOf(";",a+1);return a<0?"":decodeURIComponent(t.substring(a+2+e.length,r<0?t.length:r))},m.cookieWrite=function(e,t,a){var r,n=m.cookieLifetime,i="";if(t=""+t,n=n?(""+n).toUpperCase():"",a&&"SESSION"!==n&&"NONE"!==n){if(r=""!==t?parseInt(n||0,10):-60)(a=new Date).setTime(a.getTime()+1e3*r);else if(1===a){var s=(a=new Date).getYear();a.setYear(s+2+(s<1900?1900:0))}}else a=0;return e&&"NONE"!==n?(m.configs&&m.configs.secureCookie&&"https:"===location.protocol&&(i="Secure"),u.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(a?" expires="+a.toGMTString()+";":"")+(m.cookieDomain?" domain="+m.cookieDomain+";":"")+i,m.cookieRead(e)===t):0},m.resetState=function(e){e?m._mergeServerState(e):i()},m._isAllowedDone=!1,m._isAllowedFlag=!1,m.isAllowed=function(){return m._isAllowedDone||(m._isAllowedDone=!0,(m.cookieRead(m.cookieName)||m.cookieWrite(m.cookieName,"T",1))&&(m._isAllowedFlag=!0)),m._isAllowedFlag},m.setMarketingCloudVisitorID=function(e){m._setMarketingCloudFields(e)},m._use1stPartyMarketingCloudServer=!1,m.getMarketingCloudVisitorID=function(e,t){if(m.isAllowed()){m.marketingCloudServer&&m.marketingCloudServer.indexOf(".demdex.net")<0&&(m._use1stPartyMarketingCloudServer=!0);var a=m._getAudienceManagerURLData("_setMarketingCloudFields"),r=a.url;return m._getRemoteField(g,r,e,t,a)}return""},m.getVisitorValues=function(e,t){var a={MCMID:{fn:m.getMarketingCloudVisitorID,args:[!0],context:m},MCOPTOUT:{fn:m.isOptedOut,args:[void 0,!0],context:m},MCAID:{fn:m.getAnalyticsVisitorID,args:[!0],context:m},MCAAMLH:{fn:m.getAudienceManagerLocationHint,args:[!0],context:m},MCAAMB:{fn:m.getAudienceManagerBlob,args:[!0],context:m}},r=t&&t.length?_.pluck(a,t):a;I(r,e)},m._currentCustomerIDs={},m._customerIDsHashChanged=!1,m._newCustomerIDsHash="",m.setCustomerIDs=function(e){function t(){m._customerIDsHashChanged=!1}if(m.isAllowed()&&e){if(!V.isObject(e)||V.isObjectEmpty(e))return!1;var a,r;for(a in m._readVisitor(),e)if(P(a)&&(r=e[a]))if("object"==typeof r){var n={};r.id&&(n.id=r.id),null!=r.authState&&(n.authState=r.authState),m._currentCustomerIDs[a]=n}else m._currentCustomerIDs[a]={id:r};var i=m.getCustomerIDs(),s=m._getField("MCCIDH"),o="";for(a in s||(s=0),i)P(a)&&(o+=(o?"|":"")+a+"|"+((r=i[a]).id?r.id:"")+(r.authState?r.authState:""));m._newCustomerIDsHash=String(m._hash(o)),m._newCustomerIDsHash!==s&&(m._customerIDsHashChanged=!0,m._mapCustomerIDs(t))}},m.getCustomerIDs=function(){m._readVisitor();var e,t,a={};for(e in m._currentCustomerIDs)P(e)&&(t=m._currentCustomerIDs[e],a[e]||(a[e]={}),t.id&&(a[e].id=t.id),null!=t.authState?a[e].authState=t.authState:a[e].authState=l.AuthState.UNKNOWN);return a},m.setAnalyticsVisitorID=function(e){m._setAnalyticsFields(e)},m.getAnalyticsVisitorID=function(e,t,a){if(!_.isTrackingServerPopulated()&&!a)return m._callCallback(e,[""]),"";if(m.isAllowed()){var r="";if(a||(r=m.getMarketingCloudVisitorID(function(){m.getAnalyticsVisitorID(e,!0)})),r||a){var n=a?m.marketingCloudServer:m.trackingServer,i="";m.loadSSL&&(a?m.marketingCloudServerSecure&&(n=m.marketingCloudServerSecure):m.trackingServerSecure&&(n=m.trackingServerSecure));var s={};if(n){var o="http"+(m.loadSSL?"s":"")+"://"+n+"/id",c="d_visid_ver="+m.version+"&mcorgid="+encodeURIComponent(m.marketingCloudOrgID)+(r?"&mid="+encodeURIComponent(r):"")+(m.idSyncDisable3rdPartySyncing||m.disableThirdPartyCookies?"&d_coppa=true":""),l=["s_c_il",m._in,"_set"+(a?"MarketingCloud":"Analytics")+"Fields"];i=o+"?"+c+"&callback=s_c_il%5B"+m._in+"%5D._set"+(a?"MarketingCloud":"Analytics")+"Fields",s.corsUrl=o+"?"+c,s.callback=l}return s.url=i,m._getRemoteField(a?g:v,i,e,t,s)}}return""},m.getAudienceManagerLocationHint=function(e,t){if(m.isAllowed()&&m.getMarketingCloudVisitorID(function(){m.getAudienceManagerLocationHint(e,!0)})){var a=m._getField(v);if(!a&&_.isTrackingServerPopulated()&&(a=m.getAnalyticsVisitorID(function(){m.getAudienceManagerLocationHint(e,!0)})),a||!_.isTrackingServerPopulated()){var r=m._getAudienceManagerURLData(),n=r.url;return m._getRemoteField("MCAAMLH",n,e,t,r)}}return""},m.getLocationHint=m.getAudienceManagerLocationHint,m.getAudienceManagerBlob=function(e,t){if(m.isAllowed()&&m.getMarketingCloudVisitorID(function(){m.getAudienceManagerBlob(e,!0)})){var a=m._getField(v);if(!a&&_.isTrackingServerPopulated()&&(a=m.getAnalyticsVisitorID(function(){m.getAudienceManagerBlob(e,!0)})),a||!_.isTrackingServerPopulated()){var r=m._getAudienceManagerURLData(),n=r.url;return m._customerIDsHashChanged&&m._setFieldExpire(h,-1),m._getRemoteField(h,n,e,t,r)}}return""},m._supplementalDataIDCurrent="",m._supplementalDataIDCurrentConsumed={},m._supplementalDataIDLast="",m._supplementalDataIDLastConsumed={},m.getSupplementalDataID=function(e,t){m._supplementalDataIDCurrent||t||(m._supplementalDataIDCurrent=m._generateID(1));var a=m._supplementalDataIDCurrent;return m._supplementalDataIDLast&&!m._supplementalDataIDLastConsumed[e]?(a=m._supplementalDataIDLast,m._supplementalDataIDLastConsumed[e]=!0):a&&(m._supplementalDataIDCurrentConsumed[e]&&(m._supplementalDataIDLast=m._supplementalDataIDCurrent,m._supplementalDataIDLastConsumed=m._supplementalDataIDCurrentConsumed,m._supplementalDataIDCurrent=a=t?"":m._generateID(1),m._supplementalDataIDCurrentConsumed={}),a&&(m._supplementalDataIDCurrentConsumed[e]=!0)),a},m.getOptOut=function(e,t){if(m.isAllowed()){var a=m._getAudienceManagerURLData("_setMarketingCloudFields"),r=a.url;return m._getRemoteField("MCOPTOUT",r,e,t,a)}return""},m.isOptedOut=function(a,r,e){if(m.isAllowed()){r||(r=l.OptOut.GLOBAL);var t=m.getOptOut(function(e){var t=e===l.OptOut.GLOBAL||0<=e.indexOf(r);m._callCallback(a,[t])},e);return t?t===l.OptOut.GLOBAL||0<=t.indexOf(r):null}return!1},m._fields=null,m._fieldsExpired=null,m._hash=function(e){var t,a=0;if(e)for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return a},m._generateID=x,m._generateLocalMID=function(){var e=m._generateID(0);return w.isClientSideMarketingCloudVisitorID=!0,e},m._callbackList=null,m._callCallback=function(e,t){try{"function"==typeof e?e.apply(c,t):e[1].apply(e[0],t)}catch(e){}},m._registerCallback=function(e,t){t&&(null==m._callbackList&&(m._callbackList={}),null==m._callbackList[e]&&(m._callbackList[e]=[]),m._callbackList[e].push(t))},m._callAllCallbacks=function(e,t){if(null!=m._callbackList){var a=m._callbackList[e];if(a)for(;0<a.length;)m._callCallback(a.shift(),t)}},m._addQuerystringParam=function(e,t,a,r){var n=encodeURIComponent(t)+"="+encodeURIComponent(a),i=_.parseHash(e),s=_.hashlessUrl(e);if(-1===s.indexOf("?"))return s+"?"+n+i;var o=s.split("?"),c=o[0]+"?",l=o[1];return c+_.addQueryParamAtLocation(l,n,r)+i},m._extractParamFromUri=function(e,t){var a=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(a&&a.length)return decodeURIComponent(a[1])},m._parseAdobeMcFromUrl=t(L.ADOBE_MC),m._parseAdobeMcSdidFromUrl=t(L.ADOBE_MC_SDID),m._attemptToPopulateSdidFromUrl=function(e){var t=m._parseAdobeMcSdidFromUrl(e),a=1e9;t&&t.TS&&(a=_.getTimestampInSeconds()-t.TS),t&&t.SDID&&t.MCORGID===r&&a<m.sdidParamExpiry&&(m._supplementalDataIDCurrent=t.SDID,m._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},m._attemptToPopulateIdsFromUrl=function(){var e=m._parseAdobeMcFromUrl();if(e&&e.TS){var t=_.getTimestampInSeconds()-e.TS;if(Math.floor(t/60)>L.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==r)return;a(e)}},m._mergeServerState=function(e){if(e)try{if(r=e,(e=_.isObject(r)?r:JSON.parse(r))[m.marketingCloudOrgID]){var t=e[m.marketingCloudOrgID];a=t.customerIDs,_.isObject(a)&&m.setCustomerIDs(a),i(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}var a,r},m._timeout=null,m._loadData=function(e,t,a,r){t=m._addQuerystringParam(t,"d_fieldgroup",e,1),r.url=m._addQuerystringParam(r.url,"d_fieldgroup",e,1),r.corsUrl=m._addQuerystringParam(r.corsUrl,"d_fieldgroup",e,1),w.fieldGroupObj[e]=!0,r===Object(r)&&r.corsUrl&&"XMLHttpRequest"===S.corsMetadata.corsType&&S.fireCORS(r,a,e)},m._clearTimeout=function(e){null!=m._timeout&&m._timeout[e]&&(clearTimeout(m._timeout[e]),m._timeout[e]=0)},m._settingsDigest=0,m._getSettingsDigest=function(){if(!m._settingsDigest){var e=m.version;m.audienceManagerServer&&(e+="|"+m.audienceManagerServer),m.audienceManagerServerSecure&&(e+="|"+m.audienceManagerServerSecure),m._settingsDigest=m._hash(e)}return m._settingsDigest},m._readVisitorDone=!1,m._readVisitor=function(){if(!m._readVisitorDone){m._readVisitorDone=!0;var e,t,a,r,n,i,s=m._getSettingsDigest(),o=!1,c=m.cookieRead(m.cookieName),l=new Date;if(null==m._fields&&(m._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==s&&(o=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)a=(t=c[e].split("-"))[0],r=c[e+1],1<t.length?(n=parseInt(t[1],10),i=0<t[1].indexOf("s")):(n=0,i=!1),o&&("MCCIDH"===a&&(r=""),0<n&&(n=l.getTime()/1e3-60)),a&&r&&(m._setField(a,r,1),0<n&&(m._fields["expire"+a]=n+(i?"s":""),(l.getTime()>=1e3*n||i&&!m.cookieRead(m.sessionCookieName))&&(m._fieldsExpired||(m._fieldsExpired={}),m._fieldsExpired[a]=!0)));!m._getField(v)&&_.isTrackingServerPopulated()&&(c=m.cookieRead("s_vi"))&&1<(c=c.split("|")).length&&0<=c[0].indexOf("v1")&&(0<=(e=(r=c[1]).indexOf("["))&&(r=r.substring(0,e)),r&&r.match(L.VALID_VISITOR_ID_REGEX)&&m._setField(v,r))}},m._appendVersionTo=function(e){var t="vVersion|"+m.version,a=e?m._getCookieVersion(e):null;return a?D.areVersionsDifferent(a,m.version)&&(e=e.replace(L.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},m._writeVisitor=function(){var e,t,a=m._getSettingsDigest();for(e in m._fields)P(e)&&m._fields[e]&&"expire"!==e.substring(0,6)&&(t=m._fields[e],a+=(a?"|":"")+e+(m._fields["expire"+e]?"-"+m._fields["expire"+e]:"")+"|"+t);a=m._appendVersionTo(a),m.cookieWrite(m.cookieName,a,1)},m._getField=function(e,t){return null==m._fields||!t&&m._fieldsExpired&&m._fieldsExpired[e]?null:m._fields[e]},m._setField=function(e,t,a){null==m._fields&&(m._fields={}),m._fields[e]=t,a||m._writeVisitor()},m._getFieldList=function(e,t){var a=m._getField(e,t);return a?a.split("*"
):null},m._setFieldList=function(e,t,a){m._setField(e,t?t.join("*"):"",a)},m._getFieldMap=function(e,t){var a=m._getFieldList(e,t);if(a){var r,n={};for(r=0;r<a.length;r+=2)n[a[r]]=a[r+1];return n}return null},m._setFieldMap=function(e,t,a){var r,n=null;if(t)for(r in n=[],t)P(r)&&(n.push(r),n.push(t[r]));m._setFieldList(e,n,a)},m._setFieldExpire=function(e,t,a){var r=new Date;r.setTime(r.getTime()+1e3*t),null==m._fields&&(m._fields={}),m._fields["expire"+e]=Math.floor(r.getTime()/1e3)+(a?"s":""),t<0?(m._fieldsExpired||(m._fieldsExpired={}),m._fieldsExpired[e]=!0):m._fieldsExpired&&(m._fieldsExpired[e]=!1),a&&(m.cookieRead(m.sessionCookieName)||m.cookieWrite(m.sessionCookieName,"1"))},m._findVisitorID=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&"NOTARGET"===(e=e.toUpperCase())&&(e=y),e&&(e===y||e.match(L.VALID_VISITOR_ID_REGEX))||(e="")),e},m._setFields=function(e,t){if(m._clearTimeout(e),null!=m._loading&&(m._loading[e]=!1),w.fieldGroupObj[e]&&w.setState(e,!1),"MC"===e){!0!==w.isClientSideMarketingCloudVisitorID&&(w.isClientSideMarketingCloudVisitorID=!1);var a=m._getField(g);if(!a||m.overwriteCrossDomainMCIDAndAID){if(!(a="object"==typeof t&&t.mid?t.mid:m._findVisitorID(t))){if(m._use1stPartyMarketingCloudServer&&!m.tried1stPartyMarketingCloudServer)return m.tried1stPartyMarketingCloudServer=!0,void m.getAnalyticsVisitorID(null,!1,!0);a=m._generateLocalMID()}m._setField(g,a)}a&&a!==y||(a=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&m._setFields(b,t),m._use1stPartyMarketingCloudServer&&t.mid&&m._setFields(p,{id:t.id})),m._callAllCallbacks(g,[a])}if(e===b&&"object"==typeof t){var r=604800;null!=t.id_sync_ttl&&t.id_sync_ttl&&(r=parseInt(t.id_sync_ttl,10));var n=k.getRegionAndCheckIfChanged(t,r);m._callAllCallbacks("MCAAMLH",[n]);var i=m._getField(h);(t.d_blob||t.blob)&&((i=t.d_blob)||(i=t.blob),m._setFieldExpire(h,r),m._setField(h,i)),i||(i=""),m._callAllCallbacks(h,[i]),!t.error_msg&&m._newCustomerIDsHash&&m._setField("MCCIDH",m._newCustomerIDsHash)}if(e===p){var s=m._getField(v);s&&!m.overwriteCrossDomainMCIDAndAID||((s=m._findVisitorID(t))?s!==y&&m._setFieldExpire(h,-1):s=y,m._setField(v,s)),s&&s!==y||(s=""),m._callAllCallbacks(v,[s])}if(m.idSyncDisableSyncs||m.disableIdSyncs)k.idCallNotProcesssed=!0;else{k.idCallNotProcesssed=!1;var o={};o.ibs=t.ibs,o.subdomain=t.subdomain,k.processIDCallData(o)}var c,l;t===Object(t)&&(m.isAllowed()&&(c=m._getField("MCOPTOUT")),c||(c=y,t.d_optout&&t.d_optout instanceof Array&&(c=t.d_optout.join(",")),l=parseInt(t.d_ottl,10),isNaN(l)&&(l=7200),m._setFieldExpire("MCOPTOUT",l,!0),m._setField("MCOPTOUT",c)),m._callAllCallbacks("MCOPTOUT",[c]))},m._loading=null,m._getRemoteField=function(a,e,t,r,n){var i,s="",o=_.isFirstPartyAnalyticsVisitorIDCall(a),c={MCAAMLH:!0,MCAAMB:!0};if(m.isAllowed())if(m._readVisitor(),!(!(s=m._getField(a,!0===c[a]))||m._fieldsExpired&&m._fieldsExpired[a])||m.disableThirdPartyCalls&&!o)s||(a===g?(m._registerCallback(a,t),s=m._generateLocalMID(),m.setMarketingCloudVisitorID(s)):a===v?(m._registerCallback(a,t),s="",m.setAnalyticsVisitorID(s)):r=!(s=""));else if(a===g||"MCOPTOUT"===a?i="MC":"MCAAMLH"===a||a===h?i=b:a===v&&(i=p),i)return!e||null!=m._loading&&m._loading[i]||(null==m._loading&&(m._loading={}),m._loading[i]=!0,m._loadData(i,e,function(e){if(!m._getField(a)){e&&w.setState(i,!0);var t="";a===g?t=m._generateLocalMID():i===b&&(t={error_msg:"timeout"}),m._setFields(i,t)}},n)),m._registerCallback(a,t),s||(e||m._setFields(i,{id:y}),"");return a!==g&&a!==v||s!==y||(r=!(s="")),t&&r&&m._callCallback(t,[s]),s},m._setMarketingCloudFields=function(e){m._readVisitor(),m._setFields("MC",e)},m._mapCustomerIDs=function(e){m.getAudienceManagerBlob(e,!0)},m._setAnalyticsFields=function(e){m._readVisitor(),m._setFields(p,e)},m._setAudienceManagerFields=function(e){m._readVisitor(),m._setFields(b,e)},m._getAudienceManagerURLData=function(e){var t=m.audienceManagerServer,a="",r=m._getField(g),n=m._getField(h,!0),i=m._getField(v),s=i&&i!==y?"&d_cid_ic=AVID%01"+encodeURIComponent(i):"";if(m.loadSSL&&m.audienceManagerServerSecure&&(t=m.audienceManagerServerSecure),t){var o,c,l=m.getCustomerIDs();if(l)for(o in l)P(o)&&(c=l[o],s+="&d_cid_ic="+encodeURIComponent(o)+"%01"+encodeURIComponent(c.id?c.id:"")+(c.authState?"%01"+c.authState:""));e||(e="_setAudienceManagerFields");var u="http"+(m.loadSSL?"s":"")+"://"+t+"/id",d="d_visid_ver="+m.version+"&d_rtbd=json&d_ver=2"+(!r&&m._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(m.marketingCloudOrgID)+"&d_nsid="+(m.idSyncContainerID||0)+(r?"&d_mid="+encodeURIComponent(r):"")+(m.idSyncDisable3rdPartySyncing||m.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===f?"&d_coop_safe=1":!1===f?"&d_coop_unsafe=1":"")+(n?"&d_blob="+encodeURIComponent(n):"")+s,p=["s_c_il",m._in,e];return{url:a=u+"?"+d+"&d_cb=s_c_il%5B"+m._in+"%5D."+e,corsUrl:u+"?"+d,callback:p}}return{url:a}},m.appendVisitorIDsTo=function(e){try{var t=[[g,m._getField(g)],[v,m._getField(v)],["MCORGID",m.marketingCloudOrgID]];return m._addQuerystringParam(e,L.ADOBE_MC,s(t))}catch(t){return e}},m.appendSupplementalDataIDTo=function(e,t){if(!(t=t||m.getSupplementalDataID(_.generateRandomString(),!0)))return e;try{var a=s([["SDID",t],["MCORGID",m.marketingCloudOrgID]]);return m._addQuerystringParam(e,L.ADOBE_MC_SDID,a)}catch(t){return e}};var _={parseHash:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,a){var r=e.split("&");return a=null!=a?a:r.length,r.splice(a,0,t),r.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,a){return e===v&&(t||(t=m.trackingServer),a||(a=m.trackingServerSecure),!("string"!=typeof(r=m.loadSSL?a:t)||!r.length)&&r.indexOf("2o7.net")<0&&r.indexOf("omtrdc.net")<0);var r},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+(m.cookieDomain?" domain="+m.cookieDomain+";":"")},isTrackingServerPopulated:function(){return!!m.trackingServer||!!m.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=a[Math.floor(Math.random()*a.length)];return t},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&(e[a]=t);return e},pluck:function(a,e){return e.reduce(function(e,t){return a[t]&&(e[t]=a[t]),e},Object.create(null))}};m._helpers=_;var k=N(m,l);m._destinationPublishing=k,m.timeoutMetricsLog=[];var w={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case"MC":!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case p:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case b:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};m.isClientSideMarketingCloudVisitorID=function(){return w.isClientSideMarketingCloudVisitorID},m.MCIDCallTimedOut=function(){return w.MCIDCallTimedOut},m.AnalyticsIDCallTimedOut=function(){return w.AnalyticsIDCallTimedOut},m.AAMIDCallTimedOut=function(){return w.AAMIDCallTimedOut},m.idSyncGetOnPageSyncInfo=function(){return m._readVisitor(),m._getField("MCSYNCSOP")},m.idSyncByURL=function(e){var t=o(e||{});if(t.error)return t.error;var a,r,n=e.url,i=encodeURIComponent,s=k;return n=n.replace(/^https:/,"").replace(/^http:/,""),a=V.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),r=["ibs",i(e.dpid),"img",i(n),t.ttl,"",a],s.addMessage(r.join("|")),s.requestToProcess(),"Successfully queued"},m.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,m.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},m.publishDestinations=function(e,t,a){if(a="function"==typeof a?a:function(){},"string"==typeof e&&e.length)if(t instanceof Array&&t.length){var r=k;if(r.readyToAttachIframePreliminary()){var n=!1;t.forEach(function(e){"string"==typeof e&&e.length&&(r.addMessage(e),n=!0)}),n?r.iframe?(a({message:"The destination publishing iframe is already attached and loaded."}),r.requestToProcess()):!m.subdomain&&m._getField(g)?(r.subdomain=e,r.doAttachIframe=!0,r.url=r.getUrl(),r.readyToAttachIframe()?(r.iframeLoadedCallbacks.push(function(e){a({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),r.attachIframe()):a({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):r.iframeLoadedCallbacks.push(function(e){a({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}):a({error:"None of the messages are populated strings."})}else a({error:"The destination publishing iframe is disabled in the Visitor library."})}else a({error:"messages is not a populated array."});else a({error:"subdomain is not a populated string."})},m._getCookieVersion=function(e){e=e||m.cookieRead(m.cookieName);var t=L.VERSION_REGEX.exec(e);return t&&1<t.length?t[1]:null},m._resetAmcvCookie=function(e){var t=m._getCookieVersion();t&&!D.isLessThan(t,e)||_.removeCookie(m.cookieName)},m.setAsCoopSafe=function(){f=!0},m.setAsCoopUnsafe=function(){f=!1},m.init=function(){!function(){if(n&&"object"==typeof n){for(var e in m.configs=Object.create(null),n)P(e)&&(m[e]=n[e],m.configs[e]=n[e]);m.idSyncContainerID=m.idSyncContainerID||0,f="boolean"==typeof m.isCoopSafe?m.isCoopSafe:_.parseBoolean(m.isCoopSafe),m.resetBeforeVersion&&m._resetAmcvCookie(m.resetBeforeVersion),m._attemptToPopulateIdsFromUrl(),m._attemptToPopulateSdidFromUrl(),m._readVisitor();var t=m._getField(d),a=Math.ceil((new Date).getTime()/L.MILLIS_PER_DAY);m.idSyncDisableSyncs||m.disableIdSyncs||!k.canMakeSyncIDCall(t,a)||(m._setFieldExpire(h,-1),m._setField(d,a)),m.getMarketingCloudVisitorID(),m.getAudienceManagerLocationHint(),m.getAudienceManagerBlob(),m._mergeServerState(m.serverState)}else m._attemptToPopulateIdsFromUrl(),m._attemptToPopulateSdidFromUrl()}(),function(){if(!m.idSyncDisableSyncs&&!m.disableIdSyncs){k.checkDPIframeSrc();var e=function(){var e=k;e.readyToAttachIframe()&&e.attachIframe()};c.addEventListener("load",function(){l.windowLoaded=!0,e()});try{R.receiveMessage(function(e){k.receiveMessage(e.data)},k.iframeHost)}catch(e){}}}(),m.whitelistIframeDomains&&L.POST_MESSAGE_ENABLED&&(m.whitelistIframeDomains=m.whitelistIframeDomains instanceof Array?m.whitelistIframeDomains:[m.whitelistIframeDomains],m.whitelistIframeDomains.forEach(function(e){var t=new A(r,e),a=j(m,t);R.receiveMessage(a,e)}))}};U.getInstance=function(r,e){if(!r)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");r.indexOf("@")<0&&(r+="@AdobeOrg");var t=function(){var e=E.s_c_il;if(e)for(var t=0;t<e.length;t++){var a=e[t];if(a&&"Visitor"===a._c&&a.marketingCloudOrgID===r)return a}}();if(t)return t;var a=r.split("").reverse().join(""),n=new U(r,null,a);e===Object(e)&&e.cookieDomain&&(n.cookieDomain=e.cookieDomain),E.s_c_il.splice(--E.s_c_in,1);var i=V.getIeVersion();if("number"==typeof i&&i<10)return n._helpers.replaceMethodsWithFunction(n,function(){});var s,o=function(){try{return E.self!==E.parent}catch(r){return!0}}()&&((s=n).cookieWrite("TEST_AMCV_COOKIE","T",1),"T"!==s.cookieRead("TEST_AMCV_COOKIE")||(s._helpers.removeCookie("TEST_AMCV_COOKIE"),0))&&E.parent?new f(r,e,n,E.parent):new U(r,e,a);return n=null,o.init(),o},function(){function e(){U.windowLoaded=!0}E.addEventListener?E.addEventListener("load",e):E.attachEvent&&E.attachEvent("onload",e),U.codeLoadEnd=(new Date).getTime()}(),U.config=M,E.Visitor=U}(),Visitor)}}},settings:{orgId:"D6E638125859683E0A495D2D@AdobeOrg",variables:[{name:"trackingServer",value:"track.bestbuy.ca"},{name:"trackingServerSecure",value:"strack.bestbuy.ca"},{name:"overwriteCrossDomainMCIDAndAID",value:"true"},{name:"loadSSL",value:"true"}]},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPeb55b7c3813845458371cc6040fd3032/"},"adobe-analytics":{displayName:"Adobe Analytics",modules:{"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,a,r){"use strict";var n=a("../sharedModules/getTracker"),i=a("../helpers/applyTrackerVariables");e.exports=function(t,a){return n().then(function(e){r.logger.info("Set variables on the tracker."),i(e,t.trackerProperties),t.customSetup&&t.customSetup.source&&t.customSetup.source.call(a.element,a,e)},function(e){r.logger.error("Cannot set variables: "+e)})}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,a,n){"use strict";var r=a("../sharedModules/getTracker"),i=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},s=function(e){return i(e)?e.innerHTML:"link clicked"},o=function(e,t,a){if("page"===t.type)n.logger.info("Firing page view beacon."),e.t();else{var r={linkType:t.linkType||"o",linkName:t.linkName||s(a)};n.logger.info("Firing link track beacon using the values: "+JSON.stringify(r)+"."),e.tl(i(a)?a:"true",r.linkType,r.linkName)}};e.exports=function(t,a){return r().then(function(e){o(e,t,a.element)},function(e){n.logger.error("Cannot send beacon: "+e)})}}},"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,a,r){"use strict";var n=a("../sharedModules/getTracker");e.exports=function(){return n().then(function(e){e.clearVars&&(r.logger.info("Clear variables."),e.clearVars())},function(e){r.logger.error("Cannot clear variables: "+e)})}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,a,i){"use strict";var r,n=a("@adobe/reactor-cookie"),s=a("@adobe/reactor-promise"),o=a("@adobe/reactor-window"),c=a("../helpers/augmenters"),l=a("@adobe/reactor-load-script"),u=a("../helpers/applyTrackerVariables"),d=a("../helpers/loadLibrary"),p=a("../helpers/generateVersion")(i.buildInfo.turbineBuildDate),m="beforeSettings",f=i.getSharedModule("adobe-mcid","mcid-instance"),g=function(e){return!e||"true"===n.get(e)},v=function(r){return s.all(c.map(function(e){var t;try{t=e(r)}catch(a){setTimeout(function(){throw a})}return s.resolve(t)})).then(function(){return r})},b=function(e){return f&&(i.logger.info("Setting MCID instance on the tracker."),e.visitor=f),e},h=function(e){return i.logger.info('Setting version on tracker: "'+p+'".'),"undefined"!=typeof e.tagContainerMarker?e.tagContainerMarker=p:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+p&&(e.version+="-"+p),e},y=function(e,t,a){return t.loadPhase===m&&t.source&&(i.logger.info("Calling custom script before settings."),t.source.call(o,a)),u(a,e||{}),t.loadPhase!==m&&t.source&&(i.logger.info("Calling custom script after settings."),t.source.call(o,a)),a},P=function(e,t){var a=e.moduleProperties;if(a&&a.audienceManager&&a.audienceManager.config){e.orgId&&(a.audienceManager.config.visitorService={namespace:e.orgId});var r="AppMeasurement_Module_AudienceManagement.js",n=i.getHostedLibFileUrl(r);return l(n).then(function(){return t.loadModule("AudienceManagement"),i.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(a.audienceManager.config),t})}return t},S=(r=i.getExtensionSettings(),g(r.trackingCookieName)?d(r).then(v).then(b).then(h).then(y.bind(null,r.trackerProperties,r.customSetup||{})).then(P.bind(null,r)):s.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return S}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,a){"use strict";var r=a("../helpers/augmenters");e.exports=function(e){r.push(e)}}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,a,s){"use strict";var n=a("@adobe/reactor-query-string"),i=a("@adobe/reactor-window"),o=/eVar([0-9]+)/,c=/prop([0-9]+)/,l=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),u=function(e,t,a){return a.indexOf(e)===t},d=function(e,t,a){var r=Object.keys(t).filter(l.test.bind(l));return a&&r.push("events"),(r=r.concat((e.linkTrackVars||"").split(","))).filter(function(e,t,a){return"None"!==e&&e&&u(e,t,a)}).join(",")},p=function(e,t){var a=t.map(function(e){return e.name});return(a=a.concat((e.linkTrackEvents||"").split(","))).filter(function(e,t,a){return"None"!==e&&u(e,t,a)}).join(",")},r=function(e,t,a){e[t]=a[t].join(",")},m=function(n,e,t){var i=t.dynamicVariablePrefix||"D=";t[e].forEach(function(e){var t;if("value"===e.type)t=e.value;else{var a=o.exec(e.value);if(a)t=i+"v"+a[1];else{var r=c.exec(e.value);r&&(t=i+"c"+r[1])}}n[e.name]=t})},f={linkDownloadFileTypes:r,linkExternalFilters:r,linkInternalFilters:r,hierarchies:function(t,e,a){a[e].forEach(function(e){t[e.name]=e.sections.join(e.delimiter)})},props:m,eVars:m,campaign:function(e,t,a){if("queryParam"===a[t].type){var r=n.parse(i.location.search);e[t]=r[a[t].value]}else e[t]=a[t].value},events:function(e,t,a){var r=a[t].map(function(e){var t=e.name;return e.value&&(t=[t,e.value].join("=")),e.id&&(t=[t,e.id].join(":")),t});e[t]=r.join(",")}};e.exports=function(t,r){var n={};r=r||{},Object.keys(r).forEach(function(e){var t=f[e],a=r[e];t?t(n,e,r):n[e]=a}),n.events&&t.events&&0<t.events.length&&(n.events=t.events+","+n.events);var e=r&&r.events&&0<r.events.length,a=d(t,n,e);a&&(n.linkTrackVars=a);var i=p(t,r.events||[]);i&&(n.linkTrackEvents=i),s.logger.info('Applying the following properties on tracker: "'+JSON.stringify(n)+'".'),Object.keys(n).forEach(function(e){t[e]=n[e]})}}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,a,i){"use strict";var r=a("@adobe/reactor-load-script"),s=a("@adobe/reactor-window"),o=a("@adobe/reactor-promise"),n={MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},c=function(e){return i.logger.info("Loading AppMeasurement script from: "+e+"."),r(e)},l=function(e){var t=e.production;return e[i.buildInfo.environment]&&(t=e[i.buildInfo.environment]),t.join(",")},u=function(e,t){if(!s.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+s.AppMeasurement);i.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var a=s.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(i.logger.info("Setting the tracker as window.s"),s.s=a),a},d=function(e){var t=l(e.libraryCode.accounts);return c(i.getHostedLibFileUrl("AppMeasurement.js")).then(u.bind(null,e,t))},p=function(e,t){if(e.libraryCode.accounts)if(t.sa){var a=l(e.libraryCode.accounts);i.logger.info('Setting the following report suites on the tracker: "'+a+'"'),t.sa(a)}else i.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},m=function(n){return i.logger.info('Waiting for the tracker to become accessible at: "'+n+'".'),new o(function(e,t){var a=1,r=setInterval(function(){s[n]&&(i.logger.info('Found tracker located at: "'+n+'".'),e(s[n]),clearInterval(r)),10<=a&&(clearInterval(r),t(new Error('Bailing out. Cannot find the global variable name: "'+n+'".'))),a++},1e3)})},f=function(e){return m(e.libraryCode.trackerVariableName).then(p.bind(null,e))},g=function(e){if(s[e])return i.logger.info('Found tracker located at: "'+e+'".'),s[e];throw new Error('Cannot find the global variable name: "'+e+'".')},v=function(e,t){return c(e).then(g.bind(null,t.libraryCode.trackerVariableName)).then(p.bind(null,t))};e.exports=function(e){var t,a;switch(e.libraryCode.type){case n.MANAGED:a=d(e);break;case n.PREINSTALLED:a=f(e);break;case n.CUSTOM:t=e.libraryCode.source,a=v(t,e);break;case n.REMOTE:t="https:"===s.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl,a=v(t,e);break;default:throw new Error("Cannot load library. Type not supported.")}return a}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,a=function(e){return e.getUTCDate().toString(36)},r=function(e){return e.substr(e.length-1)},n=function(e){return Math.floor(e.getUTCHours()/t)},i=function(e){var t=(e.getUTCMonth()+1+12*n(e)).toString(36);return r(t)},s=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+s(t)+i(t)+a(t)).toUpperCase()}}}},settings:{orgId:"D6E638125859683E0A495D2D@AdobeOrg",customSetup:{source:function(e){function t(){try{return window.self!==window.top?window.parent:window}catch(e){return window.parent}}window.s.cookieDomain=".bestbuy.ca",window.s.ssl=!0,window.s.usePlugins=!0;var a=_satellite.cookie.get("AppMode")||"";window.Enums={SiteSection:"Mdot",TargetEnv:"bbyca:scm:dev",ReportingSuiteProd:"bbycaproduction",ReportingSuiteDev:"bestbuycanlaunchdev"};var r={dev:"bestbuycanlaunchdev",prod:"bbycaproduction",appDev:"bestbuycanmobileappdev",appProd:"bestbuycanmobileapp"},n=(/beta-stg\.bestbuy\.ca/gi.test(t().location.host),/www\.bestbuy\.ca/gi.test(t().location.host));if(n&&a.length?window.s.account=r.appProd:n&&!a.length?window.s.account=r.prod:!n&&a.length?window.s.account=r.appDev:window.s.account=r.dev,e.getPersistQueryParamID=new Function("param","var s=this;var id=s.Util.getQueryParam(param);if(id){var d=new Date;d.setFullYear(d.getFullYear()+2);s.Util.cookieWrite('app_'+param,id,d);}if(!id){id=s.Util.cookieRead('app_'+param);}return id;"),e.visitor&&""!==a){var i=e.getPersistQueryParamID("adobe_mc"),s="";0<i.indexOf("MCMID=")?s=i.substring(i.indexOf("MCMID=")+"MCMID=".length).split("|")[0]:0<i.indexOf("mcmid=")&&(s=i.substring(i.indexOf("mcmid=")+"MCMID=".length).split("|")[0]),""!==s&&e.visitor.setMarketingCloudVisitorID(s)}var o=_satellite.cookie.get("adobe_mid");a.length&&o.length&&window.s.visitor.setMarketingCloudVisitorID(o),window.s.doPlugins=function(e){e.channel=_satellite.getVar("site section"),e.pageURL=window.parent.location.href.replace(/(emi|email).*?(?=[&?]\w+=|$)/gi,""),e.pageName=_satellite.getVar("pageName"),e.prop9="D=pageURL",e.prop69=_satellite.getVar("screenSize"),e.eVar9="D=pageName",e.eVar89=_satellite.getVar("siteBuildVersion"),e.eVar90=_satellite.getVar("launchBuildDate");var t="channel,pageURL,pageName,prop9,prop69,eVar9,eVar89,eVar90";e.linkTrackVars=e.apl(e.linkTrackVars,t,",",1),e.products!=undefined&&8<e.products.length&&(e.products=e.products.split(",").map(function(e){var t=e.split(";");return 5<=t.length&&(t[4]=t[4].split("|").filter(function(e){return"="!=e[e.length-1]}).join("|"),t[5]=t[5].split("|").filter(function(e){return"="!=e[e.length-1]}).join("|")),t.join(";")}).join(","))},e.getPreviousValue=new Function("v","c","el","var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}"),e.apl=new Function("L","v","d","u","var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)L=L?L+d+v:v;return L"),e.p_c=new Function("v","c","var x=v.indexOf('=');return c.toLowerCase()==v.substring(0,x<0?v.length:x).toLowerCase()?v:0"),e.p_gh=new Function("var s=this;if(!s.eo&&!s.lnk)return '';var o=s.eo?s.eo:s.lnk,y=s.ot(o),n=s.oid(o),x=o.s_oidt;if(s.eo&&o==s.eo){while(o&&!n&&y!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(!o)return '';y=s.ot(o);n=s.oid(o);x=o.s_oidt}}return o.href?o.href:'';"),e.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),e.repl=new Function("x","o","n","var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x.substring(i+o.length);i=x.indexOf(o,i+l)}return x"),e.join=new Function("v","p","var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back:'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0;x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);else str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;"),e.getDaysSinceLastVisit=new Function("c","var s=this,e=new Date(),es=new Date(),cval,cval_s,cval_ss,ct=e.getTime(),day=24*60*60*1000,f1,f2,f3,f4,f5;e.setTime(ct+3*365*day);es.setTime(ct+30*60*1000);f0='Cookies Not Supported';f1='First Visit';f2='More than 30 days';f3='More than 7 days';f4='Less than 7 days';f5='Less than 1 day';cval=s.c_r(c);if(cval.length==0){s.c_w(c,ct,e);s.c_w(c+'_s',f1,es);}else{var d=ct-cval;if(d>30*60*1000){if(d>30*day){s.c_w(c,ct,e);s.c_w(c+'_s',f2,es);}else if(d<30*day+1 && d>7*day){s.c_w(c,ct,e);s.c_w(c+'_s',f3,es);}else if(d<7*day+1 && d>day){s.c_w(c,ct,e);s.c_w(c+'_s',f4,es);}else if(d<day+1){s.c_w(c,ct,e);s.c_w(c+'_s',f5,es);}}else{s.c_w(c,ct,e);cval_ss=s.c_r(c+'_s');s.c_w(c+'_s',cval_ss,es);}}cval_s=s.c_r(c+'_s');if(cval_s.length==0) return f0;else if(cval_s!=f1&&cval_s!=f2&&cval_s!=f3&&cval_s!=f4&&cval_s!=f5) return '';else return cval_s;"),e.getNewRepeat=new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),e.getVisitNum=new Function("tp","c","c2","var s=this,e=new Date,cval,cvisit,ct=e.getTime(),d;if(!tp){tp='m';}if(tp=='m'||tp=='w'||tp=='d'){eo=s.endof(tp),y=eo.getTime();e.setTime(y);}else {d=tp*86400000;e.setTime(ct+d);}if(!c){c='s_vnum';}if(!c2){c2='s_invisit';}cval=s.c_r(c);if(cval){var i=cval.indexOf('&vn='),str=cval.substring(i+4,cval.length),k;}cvisit=s.c_r(c2);if(cvisit){if(str){e.setTime(ct+1800000);s.c_w(c2,'true',e);return str;}else {return 'unknown visit number';}}else {if(str){str++;k=cval.substring(0,i);e.setTime(k);s.c_w(c,k+'&vn='+str,e);e.setTime(ct+1800000);s.c_w(c2,'true',e);return str;}else {s.c_w(c,e.getTime()+'&vn=1',e);e.setTime(ct+1800000);s.c_w(c2,'true',e);return 1;}}"),e.dimo=new Function("m","y","var d=new Date(y,m+1,0);return d.getDate();"),e.endof=new Function("x","var t=new Date;t.setHours(0);t.setMinutes(0);t.setSeconds(0);if(x=='m'){d=s.dimo(t.getMonth(),t.getFullYear())-t.getDate()+1;}else if(x=='w'){d=7-t.getDay();}else {d=1;}t.setDate(t.getDate()+d);return t;"),e.crossVisitParticipation=new Function("v","cn","ex","ct","dl","ev","dv","var s=this,ce;if(typeof(dv)==='undefined')dv=0;if(s.events&&ev){var ay=s.split(ev,',');var ea=s.split(s.events,',');for(var u=0;u<ay.length;u++){for(var x=0;x<ea.length;x++){if(ay[u]==ea[x]){ce=1;}}}}if(!v||v==''){if(ce){s.c_w(cn,'');return'';}else return'';}v=escape(v);var arry=new Array(),a=new Array(),c=s.c_r(cn),g=0,h=new Array();if(c&&c!=''){arry=s.split(c,'],[');for(q=0;q<arry.length;q++){z=arry[q];z=s.repl(z,'[','');z=s.repl(z,']','');z=s.repl(z,\"'\",'');arry[q]=s.split(z,',')}}var e=new Date();e.setFullYear(e.getFullYear()+5);if(dv==0&&arry.length>0&&arry[arry.length-1][0]==v)arry[arry.length-1]=[v,new Date().getTime()];else arry[arry.length]=[v,new Date().getTime()];var start=arry.length-ct<0?0:arry.length-ct;var td=new Date();for(var x=start;x<arry.length;x++){var diff=Math.round((td.getTime()-arry[x][1])/86400000);if(diff<ex){h[g]=unescape(arry[x][0]);a[g]=[arry[x][0],arry[x][1]];g++;}}var data=s.join(a,{delim:',',front:'[',back:']',wrap:\"'\"});s.c_w(cn,data,e);var r=s.join(h,{delim:dl});if(ce)s.c_w(cn,'');return r;"),e.getTimeParting=new Function("t","z","y","l","var s=this,d,A,U,X,Z,W,B,C,D,Y;d=new Date();A=d.getFullYear();Y=U=String(A);if(s.dstStart&&s.dstEnd){B=s.dstStart;C=s.dstEnd}else{;U=U.substring(2,4);X='090801|101407|111306|121104|131003|140902|150801|161306|171205|181104|191003';X=s.split(X,'|');for(W=0;W<=10;W++){Z=X[W].substring(0,2);if(U==Z){B=X[W].substring(2,4);C=X[W].substring(4,6)}}if(!B||!C){B='08';C='01'}B='03/'+B+'/'+A;C='11/'+C+'/'+A;}D=new Date('1/1/2000');if(D.getDay()!=6||D.getMonth()!=0){return'Data Not Available'}else{z=z?z:'0';z=parseFloat(z);B=new Date(B);C=new Date(C);W=new Date();if(W>B&&W<C&&l!='0'){z=z+1}W=W.getTime()+(W.getTimezoneOffset()*60000);W=new Date(W+(3600000*z));X=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];B=W.getHours();C=W.getMinutes();D=W.getDay();Z=X[D];U='AM';A='Weekday';X='00';if(C>30){X='30'}if(B>=12){U='PM';B=B-12};if(B==0){B=12};if(D==6||D==0){A='Weekend'}W=B+':'+X+U;if(y&&y!=Y){return'Data Not Available'}else{if(t){if(t=='h'){return W}if(t=='d'){return Z}if(t=='w'){return A}}else{return Z+', '+W}}}")}},libraryCode:{type:"managed",accounts:{staging:["bbycanewdev"],production:["bbycaproduction"],development:["bestbuycanlaunchdev"]},scopeTrackerGlobally:!0},moduleProperties:{audienceManager:{config:{partner:"bestbuycanada",uuidCookie:{days:30,name:"aam_uuid",path:"/",domain:".bestbuy.ca",secure:!0}}}},trackerProperties:{charSet:"UTF-8",pageName:"%pageName%",currencyCode:"CAD",trackingServer:"track.bestbuy.ca",trackInlineStats:!0,visitorNamespace:"D6E638125859683E0A495D2D@AdobeOrg",trackDownloadLinks:!0,trackExternalLinks:!0,cookieDomainPeriods:"2",linkInternalFilters:["blog.bestbuy.ca","javascript:","bestbuy.ca","mailto:","tel:","ca.bestbuy.com"],trackingServerSecure:"strack.bestbuy.ca",linkDownloadFileTypes:["doc","docx","eps","jpg","png","svg","xls","ppt","pptx","pdf","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe","wma","mov","avi","wmv","mp3","wav","m4v"]}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPb3826f174b534354aaa5a9e9f1dab55d/"},core:{displayName:"Core",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e){return e.source()}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,a){"use strict";var r=a("../helpers/getObjectProperty.js");e.exports=function(e){return r(window,e.path)}}},"core/src/lib/dataElements/localStorage.js":{name:"local-storage",displayName:"Local Storage",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window");e.exports=function(e){try{return r.localStorage.getItem(e.name)}catch(t){return null}}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-cookie");e.exports=function(e){return r.get(e.name)}}},"core/src/lib/dataElements/sessionStorage.js":{name:"session-storage",displayName:"Session Storage",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window");e.exports=function(e){try{return r.sessionStorage.getItem(e.name)}catch(t){return null}}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,a){"use strict";var r=a("./helpers/createBubbly")(),n=[];e.exports=function(e,t){var a=e.type;-1===n.indexOf(a)&&(n.push(a),window.addEventListener(a,r.evaluateEvent,!0)),r.addListener(e,function(e){e.nativeEvent.type===a&&(e.detail=e.nativeEvent.detail,t(e))})}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,a,r){"use strict";var n,i,s,o=a("@adobe/reactor-document"),c=a("./helpers/decorateCode"),l=a("./helpers/loadCodeSequentially"),u=a("../../../node_modules/postscribe/dist/postscribe"),d=(n=function(e){u(o.body,e,{error:function(e){r.logger.error(e.msg)}})},i=[],s=function(){if(o.body)for(;i.length;)n(i.shift());else setTimeout(s,20)},function(e){i.push(e),s()}),p=function(){if(o.currentScript)return o.currentScript.async;for(var e=o.querySelectorAll("script"),t=0;t<e.length;t++){var a=e[t];if(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/.test(a.src))return a.async}return!0}();e.exports=function(e,t){var a={settings:e,event:t},r=a.settings.source;if(r)return a.settings.isExternal?l(r).then(function(e){e&&d(c(a,e))}):void(
p||"loading"!==o.readyState?d(c(a,r)):o.write?o.write(c(a,r)):d(c(a,r)))}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,a,i){"use strict";var s={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var a=s[e];if(a){var r={identifier:e,detail:t};a.forEach(function(e){e(r)});var n=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&n.push(t),i.logger.log.apply(i.logger,n)}else i.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var a=s[e.identifier];a||(a=s[e.identifier]=[]),a.push(t)}}},"core/src/lib/conditions/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-cookie"),n=a("../helpers/textMatch");e.exports=function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return n(r.get(e.name),t)}}},"core/src/lib/events/elementExists.js":{name:"element-exists",displayName:"Element Exists",script:function(e,t,a){"use strict";var r=3e3,o=new(a("./helpers/weakMap")),c=a("./helpers/matchesProperties"),l={};setInterval(function(){Object.keys(l).forEach(function(e){for(var t=l[e],a=document.querySelectorAll(e),r=0;r<a.length;r++){var n=a[r];if(!o.has(n)){o.set(n,!0);for(var i=0;i<t.length;i++){var s=t[i];c(n,s.settings.elementProperties)&&(s.trigger({element:n,target:n}),t.splice(i,1),i--)}}if(!t.length){delete l[e];break}}})},r),e.exports=function(e,t){var a=l[e.elementSelector];a||(a=l[e.elementSelector]=[]),a.push({settings:e,trigger:t})}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-document"),n=a("../helpers/textMatch");e.exports=function(e){var a=r.location.pathname;return e.paths.some(function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return n(a,t)})}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,a){"use strict";var i=a("@adobe/reactor-window"),s=a("./helpers/createBubbly")(),o=new(a("./helpers/weakMap")),c=function(e){for(;e;){var t=e.tagName;if(t&&"a"===t.toLowerCase()){var a=e.getAttribute("href"),r=e.getAttribute("target");return a&&(!r||"_self"===r||"_top"===r&&i.top===i||r===i.name)?e:void 0}e=e.parentNode}};document.addEventListener("click",s.evaluateEvent,!0),e.exports=function(r,n){s.addListener(r,function(e){var t=e.nativeEvent;if(!t.s_fe){if(r.anchorDelay&&!o.has(t)){var a=c(t.target);a&&(t.preventDefault(),setTimeout(function(){i.location=a.href},r.anchorDelay)),o.set(t,!0)}n(e)}})},e.exports.__reset=s.__reset}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,a){"use strict";var r=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerDomReadyTrigger(t)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e){"use strict";var r=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},i=function(e,t){return t&&n(e)?e.toLowerCase():e},s=function(e){return r(e)?String(e):e},o=function(e){return n(e)?Number(e):e},t=function(r){return function(e,t,a){return e=s(e),t=s(t),n(e)&&n(t)&&r(e,t,a)}},a=function(a){return function(e,t){return e=o(e),t=o(t),r(e)&&r(t)&&a(e,t)}},c=function(r){return function(e,t,a){return r(i(e,a),i(t,a))}},l={equals:c(function(e,t){return e==t}),doesNotEqual:function(){return!l.equals.apply(null,arguments)},contains:t(c(function(e,t){return-1!==e.indexOf(t)})),doesNotContain:function(){return!l.contains.apply(null,arguments)},startsWith:t(c(function(e,t){return 0===e.indexOf(t)})),doesNotStartWith:function(){return!l.startsWith.apply(null,arguments)},endsWith:t(c(function(e,t){return e.substring(e.length-t.length,e.length)===t})),doesNotEndWith:function(){return!l.endsWith.apply(null,arguments)},matchesRegex:t(function(e,t,a){return new RegExp(t,a?"i":"").test(e)}),doesNotMatchRegex:function(){return!l.matchesRegex.apply(null,arguments)},lessThan:a(function(e,t){return e<t}),lessThanOrEqual:a(function(e,t){return e<=t}),greaterThan:a(function(e,t){return t<e}),greaterThanOrEqual:a(function(e,t){return t<=e}),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return l[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/conditions/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window"),n=a("@adobe/reactor-query-string"),i=a("../helpers/textMatch");e.exports=function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value,a=n.parse(r.location.search);return i(a[e.name],t)}}},"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-document"),n=a("../helpers/textMatch");e.exports=function(e){var a=r.location.pathname+r.location.search;return e.paths.some(function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return n(a,t)})}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var a=t.split("."),r=e,n=0,i=a.length;n<i;n++){if(null==r)return undefined;r=r[a[n]]}return r}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,a){"use strict";var r=a("./weakMap"),m=a("./matchesProperties"),f=a("./matchesSelector");e.exports=function(){var d=[],p=new r,e={addListener:function(e,t){d.push({settings:e,callback:t})},evaluateEvent:function(t,e){if(d.length&&!p.has(t)){for(var a=t.target,r=!1;a;){for(var n=!1,i=!1,s=0;s<d.length;s++){var o=d[s],c=o.settings.elementSelector,l=o.settings.elementProperties;if((!1!==o.settings.bubbleFireIfChildFired||!r)&&(a===t.target||!1!==o.settings.bubbleFireIfParent)&&(a===t.target||c||l&&Object.keys(l).length)&&(!c||f(a,c))&&(!l||m(a,l))){var u={};e?Object.keys(t).forEach(function(e){u[e]=t[e]}):u.nativeEvent=t,u.element=a,u.target=t.target,!1!==o.callback(u)&&(i=!0,o.settings.bubbleStop&&(n=!0))}}if(n)break;i&&(r=!0),a=a.parentNode}p.set(t,!0)}},__reset:function(){d=[]}};return e}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window").WeakMap;if(void 0===r){var n=Object.defineProperty,i=Date.now()%1e9;(r=function(){this.name="__st"+(1e9*Math.random()>>>0)+i+++"__"}).prototype={set:function(e,t){var a=e[this.name];return a&&a[0]===e?a[1]=t:n(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:undefined},"delete":function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=undefined,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=r}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,a){"use strict";var n=a("./../../helpers/textMatch"),i=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(r,e){return!e||e.every(function(e){var t=i(r,e.name),a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return n(t,a)})}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,a,n){"use strict";e.exports=function(e,t){var a=e.matches||e.msMatchesSelector;if(a)try{return a.call(e,t)}catch(r){return n.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,a,r){"use strict";var n=0,i=function(e){return e.settings.isExternal},s=function(e,t){return"<script>\n"+t+"\n</script>"},o=function(t,e){var a="__runScript"+ ++n;return _satellite[a]=function(e){e.call(t.event.element,t.event,t.event.target),delete _satellite[a]},'<script>_satellite["'+a+'"](function(event, target) {\n'+e+"\n});</script>"},c={javascript:function(e,t){return e.settings.global?s(e,t):o(e,t)},html:function(e,t){return i(e)?r.replaceTokens(t,e.event):t}};e.exports=function(e,t){return c[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,a){"use strict";var r=a("@adobe/reactor-promise"),n=a("./getSourceByUrl"),i=r.resolve();e.exports=function(t){var e=new r(function(a){var e=n(t);r.all([e,i]).then(function(e){var t=e[0];a(t)})});return i=e}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(a,r){!function n(e,t){"object"==typeof r&&"object"==typeof a?a.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof r?r.postscribe=t():e.postscribe=t()}(this,function(){return function(a){function r(e){if(n[e])return n[e].exports;var t=n[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var n={};return r.m=a,r.c=n,r.p="",r(0)}([function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=r(a(1));e.exports=n["default"]},function(e,t,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function l(){}function u(){var e=c.shift();if(e){var t=s.last(e);t.afterDequeue(),e.stream=i.apply(undefined,e),t.afterStreamStart()}}function i(e,t,r){function n(e){e=r.beforeWrite(e),g.write(e),r.afterWrite(e)}(g=new m["default"](e,r)).id=f++,g.name=r.name||g.id,d.streams[g.name]=g;var a=e.ownerDocument,i={close:a.close,open:a.open,write:a.write,writeln:a.writeln};p(a,{close:l,open:l,write:function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(t.join(""))},writeln:function c(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(t.join("")+"\n")}});var s=g.win.onerror||l;return g.win.onerror=function(e,t,a){r.error({msg:e+" - "+t+": "+a}),s.apply(g.win,[e,t,a])},g.write(t,function(){p(a,i),g.win.onerror=s,r.done(),g=null,u()}),g}function d(e,t,a){if(s.isFunction(a))a={done:a};else if("clear"===a)return c=[],g=null,void(f=0);a=s.defaults(a,o);var r=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,a];return e.postscribe={cancel:function n(){r.stream?r.stream.abort():r[1]=l}},a.beforeEnqueue(r),c.push(r),g||u(),e.postscribe}t.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t["default"]=d;var m=n(a(2)),s=r(a(4)),o={afterAsync:l,afterDequeue:l,afterStreamStart:l,afterWrite:l,autoFix:!0,beforeEnqueue:l,beforeWriteToken:function v(e){return e},beforeWrite:function b(e){return e},done:l,error:function h(e){throw new Error(e.msg)},releaseAsync:!1},f=0,c=[],g=null;p(d,{streams:{},queue:c,WriteStream:m["default"]})},function(e,t,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){var a=C+t,r=e.getAttribute(a);return w.existy(r)?String(r):r}function S(e,t,a){var r=2<arguments.length&&a!==undefined?arguments[2]:null,n=C+t;w.existy(r)&&""!==r?e.setAttribute(n,r):e.removeAttribute(n)}t.__esModule=!0;var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},k=n(a(3)),w=r(a(4)),E=!1,C="data-ps-",V="ps-style",A="ps-script",i=function(){function r(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:{};y(this,r),this.root=e,this.options=a,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new k["default"]("",{autoFix:a.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],S(this.proxyRoot,"proxyof",0)}return r.prototype.write=function a(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();w.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},r.prototype._callFunction=function n(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},r.prototype._writeImpl=function i(e){this.parser.append(e);for(var t=void 0,a=void 0,r=void 0,n=[];(t=this.parser.readToken())&&!(a=w.isScript(t))&&!(r=w.isStyle(t));)(t=this.options.beforeWriteToken(t))&&n.push(t);0<n.length&&this._writeStaticTokens(n),a&&this._handleScriptToken(t),r&&this._handleStyleToken(t)},r.prototype._writeStaticTokens=function s(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,E&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),E&&(t.actualInnerHTML=this.root.innerHTML),t):null},r.prototype._buildChunk=function u(e){for(var t=this.actuals.length,a=[],r=[],n=[],i=e.length,s=0;s<i;s++){var o=e[s],c=o.toString();if(a.push(c),o.attrs){if(!/^noscript$/i.test(o.tagName)){var l=t++;r.push(c.replace(/(\/?>)/," "+C+"id="+l+" $1")),o.attrs.id!==A&&o.attrs.id!==V&&n.push("atomicTag"===o.type?"":"<"+o.tagName+" "+C+"proxyof="+l+(o.unary?" />":">"))}}else r.push(c),n.push("endTag"===o.type?c:"")}return{tokens:e,raw:a.join(""),actual:r.join(""),proxy:n.join("")}},r.prototype._walkChunk=function o(){for(var e=void 0,t=[this.proxyRoot];w.existy(e=t.shift());){var a=1===e.nodeType;if(!a||!P(e,"proxyof")){a&&S(this.actuals[P(e,"id")]=e,"id");var r=e.parentNode&&P(e.parentNode,"proxyof");r&&this.actuals[r].appendChild(e)}t.unshift.apply(t,w.toArray(e.childNodes))}},r.prototype._handleScriptToken=function c(e){var t=this,a=this.parser.clear();a&&this.writeQueue.unshift(a),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,function(){t._onScriptDone(e)}))},r.prototype._handleStyleToken=function l(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},r.prototype._writeStyleToken=function d(e){var t=this._buildStyle(e);this._insertCursor(t,V),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},r.prototype._buildStyle=function t(e){var a=this.doc.createElement(e.tagName);return a.setAttribute("type",e.type),w.eachKey(e.attrs,function(e,t){a.setAttribute(e,t)}),a},r.prototype._insertCursor=function p(e,t){this._writeImpl('<span id="'+t+'"/>');var a=this.doc.getElementById(t);a&&a.parentNode.replaceChild(e,a)},r.prototype._onScriptStart=function m(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},r.prototype._onScriptDone=function f(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},r.prototype._writeScriptToken=function g(e,t){var a=this._buildScript(e),r=this._shouldRelease(a),n=this.options.afterAsync;e.src&&(a.src=e.src,this._scriptLoadHandler(a,r?n:function(){t(),n()}));try{this._insertCursor(a,A),a.src&&!r||t()}catch(i){this.options.error(i),t()}},r.prototype._buildScript=function v(e){var a=this.doc.createElement(e.tagName);return w.eachKey(e.attrs,function(e,t){a.setAttribute(e,t)}),e.content&&(a.text=e.content),a},r.prototype._scriptLoadHandler=function b(t,a){function r(){t=t.onload=t.onreadystatechange=t.onerror=null}function n(){r(),null!=a&&a(),a=null}function i(e){r(),s(e),null!=a&&a(),a=null}function e(e,t){var a=e["on"+t];null!=a&&(e["_on"+t]=a)}var s=this.options.error;e(t,"load"),e(t,"error"),_(t,{onload:function o(){if(t._onload)try{t._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){i({msg:"onload handler failed "+e+" @ "+t.src})}n()},onerror:function c(){if(t._onerror)try{t._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){return void i({msg:"onerror handler failed "+e+" @ "+t.src})}i({msg:"remote script failed "+t.src})},onreadystatechange:function l(){/^(loaded|complete)$/.test(t.readyState)&&n()}})},r.prototype._shouldRelease=function h(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},r}();t["default"]=i},function(a){!function r(e,t){a.exports=t()}(0,function(){return function(a){function r(e){if(n[e])return n[e].exports;var t=n[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var n={};return r.m=a,r.c=n,r.p="",r(0)}([function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=r(a(1));e.exports=n["default"]},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var d=n(a(2)),p=n(a(3)),m=r(a(6)),i=a(5),f={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},s=function(){function c(e,t){var a=this,r=0<arguments.length&&e!==undefined?arguments[0]:"",n=1<arguments.length&&t!==undefined?arguments[1]:{};u(this,c),this.stream=r;var i=!1,s={};for(var o in d)d.hasOwnProperty(o)&&(n.autoFix&&(s[o+"Fix"]=!0),i=i||s[o+"Fix"]);i?(this._readToken=(0,m["default"])(this,s,function(){return a._readTokenImpl()}),this._peekToken=(0,m["default"])(this,s,function(){return a._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return c.prototype.append=function t(e){this.stream+=e},c.prototype.prepend=function a(e){this.stream=e+this.stream},c.prototype._readTokenImpl=function r(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},c.prototype._peekTokenImpl=function n(){for(var e in f)if(f.hasOwnProperty(e)&&f[e].test(this.stream)){var t=p[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},c.prototype.peekToken=function e(){return this._peekToken()},c.prototype.readToken=function i(){return this._readToken()},c.prototype.readTokens=function s(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},c.prototype.clear=function o(){var e=this.stream;return this.stream="",e},c.prototype.rest=function l(){return this.stream},c}();for(var o in(t["default"]=s).tokenToString=function(e){return e.toString()},s.escapeAttributes=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=(0,i.escapeQuotes)(e[a],null));return t},s.supports=d)d.hasOwnProperty(o)&&(s.browserHasFlaw=s.browserHasFlaw||!d[o]&&o)},function(e,t){"use strict";var a=!(t.__esModule=!0),r=!1,n=window.document.createElement("div");try{var i="<P><I></P></I>";n.innerHTML=i,t.tagSoup=a=n.innerHTML!==i}catch(s){t.tagSoup=a=!1}try{n.innerHTML="<P><i><P></P></i></P>",t.selfClose=r=2===n.childNodes.length}catch(s){t.selfClose=r=!1}n=null,t.tagSoup=a,t.selfClose=r},function(e,t,a){"use strict";function r(e){var t=e.indexOf("-->");if(0<=t)return new u.CommentToken(e.substr(4,t-1),t+3)}function n(e){var t=e.indexOf("<");return new u.CharsToken(0<=t?t:e.length)}function i(e){var s,o,c;if(-1!==e.indexOf(">")){var t=e.match(d.startTag);if(t){var a=(s={},o={},c=t[2],t[2].replace(d.attr,function(e,t,a,r,n,i){a||r||n||i?arguments[5]?(s[arguments[5]]="",o[arguments[5]]=!0):s[t]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(t)&&t||"":s[t]="",c=c.replace(e,"")}),{v:new u.StartTagToken(t[1],t[0].length,s,o,!!t[3],c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===a?"undefined":l(a)))return a.v}}}function s(e){var t=i(e);if(t){var a=e.slice(t.length);if(a.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var r=a.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(r)return new u.AtomicTagToken(t.tagName,r[0].length+t.length,t.attrs,t.booleanAttrs,r[1])}}}function o(e){var t=e.match(d.endTag);if(t)return new u.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=r,t.chars=n,t.startTag=i,t.atomicTag=s,t.endTag=o;var u=a(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,a){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=undefined;var c=a(5),r=t.Token=function r(e,t){o(this,r),this.type=e,this.length=t,this.text=""},n=(t.CommentToken=function(){function a(e,t){o(this,a),this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}return a.prototype.toString=function e(){return"<!--"+this.content},a}(),t.CharsToken=function(){function t(e){o(this,t),this.type="chars",this.length=e,this.text=""}return t.prototype.toString=function e(){return this.text},t}(),t.TagToken=function(){function i(e,t,a,r,n){o(this,i),this.type=e,this.length=a,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=n,this.unary=!1,this.html5Unary=!1}return i.formatTag=function s(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:null,r="<"+e.tagName;for(var n in e.attrs)if(e.attrs.hasOwnProperty(n)){r+=" "+n;var i=e.attrs[n];"undefined"!=typeof e.booleanAttrs&&"undefined"!=typeof e.booleanAttrs[n]||(r+='="'+(0,c.escapeQuotes)(i)+'"')}return e.rest&&(r+=" "+e.rest),e.unary&&!e.html5Unary?r+="/>":r+=">",a!==undefined&&null!==a&&(r+=a+"</"+e.tagName+">"),r},i}());t.StartTagToken=function(){function s(e,t,a,r,n,i){o(this,s),this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=a,this.booleanAttrs=r,this.html5Unary=!1,this.unary=n,this.rest=i}return s.prototype.toString=function e(){return n.formatTag(this)},s}(),t.AtomicTagToken=function(){function i(e,t,a,r,n){o(this,i),this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=a,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1,this.content=n}return i.prototype.toString=function e(){return n.formatTag(this,this.content)},i}(),t.EndTagToken=function(){function a(e,t){o(this,a),this.type="endTag",this.length=t,this.text="",this.tagName=e}return a.prototype.toString=function e(){return"</"+this.tagName+">"},a}()},function(e,t){"use strict";function a(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:"";return e?e.replace(/([^"]*)"/g,function(e,t){return/\\/.test(t)?t+'"':t+'\\"'}):a}t.__esModule=!0,t.escapeQuotes=a},function(e,t){"use strict";function l(e){return e&&"startTag"===e.type&&(e.unary=r.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function u(e,t){var a=e.stream,r=l(t());return e.stream=a,r}function d(e,t){var a=t.pop();e.prepend("</"+a.tagName+">")}function p(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,a=0;t=this[a];a++)if(t.tagName===e)return!0;return!1},e}function a(a,r,t){function n(){var e=u(a,t);e&&s[e.type]&&s[e.type](e)}var i=p(),s={startTag:function o(e){var t=e.tagName;"TR"===t.toUpperCase()&&i.lastTagNameEq("TABLE")?(a.prepend("<TBODY>"),n()):r.selfCloseFix&&m.test(t)&&i.containsTagName(t)?i.lastTagNameEq(t)?d(a,i):(a.prepend("</"+e.tagName+">"),n()):e.unary||i.push(e)},endTag:function c(e){i.last()?r.tagSoupFix&&!i.lastTagNameEq(e.tagName)?d(a,i):i.pop():r.tagSoupFix&&(t(),n())}};return function e(){return n(),l(t())}}t.__esModule=!0,t["default"]=a;var r=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,m=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])})},function(e,t){"use strict";function r(e){return null!=e}function a(e){return"function"==typeof e}function n(e,t,a){var r=void 0,n=e&&e.length||0;for(r=0;r<n;r++)t.call(a,e[r],r)}function i(e,t,a){for(var r in e)e.hasOwnProperty(r)&&t.call(a,r,e[r])}function s(a,e){return a=a||{},i(e,function(e,t){r(a[e])||(a[e]=t)}),a}function o(e){try{return Array.prototype.slice.call(e)}catch(r){var t=(a=[],n(e,function(e){a.push(e)}),{v:a});if("object"===(void 0===t?"undefined":p(t)))return t.v}var a}function c(e){return e[e.length-1]}function l(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function u(e){return l(e,"script")}function d(e){return l(e,"style")}t.__esModule=!0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=r,t.isFunction=a,t.each=n,t.eachKey=i,t.defaults=s,t.toArray=o,t.last=c,t.isTag=l,t.isScript=u,t.isStyle=d}])})}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,a){"use strict";var r=a("@adobe/reactor-load-script"),n=a("@adobe/reactor-promise"),i={},s={},o=function(e){return s[e]||(s[e]=r(e)),s[e]};_satellite.__registerScript=function(e,t){i[e]=t},e.exports=function(t){return i[t]?n.resolve(i[t]):new n(function(e){o(t).then(function(){e(i[t])},function(){e()})})}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window"),n=a("@adobe/reactor-document"),i=-1!==r.navigator.appVersion.indexOf("MSIE 10"),s="WINDOW_LOADED",o="DOM_READY",c="PAGE_BOTTOM",l=[c,o,s],u=function(e,t){return{element:e,target:e,nativeEvent:t}},d={};l.forEach(function(e){d[e]=[]});var p=function(e,t){l.slice(0,f(e)+1).forEach(function(e){g(t,e)})},m=function(){return"complete"===n.readyState?s:"interactive"===n.readyState?i?null:o:void 0},f=function(e){return l.indexOf(e)},g=function(t,e){d[e].forEach(function(e){v(t,e)}),d[e]=[]},v=function(e,t){var a=t.trigger,r=t.syntheticEventFn;a(r?r(e):null)};r._satellite=r._satellite||{},r._satellite.pageBottom=p.bind(null,c),n.addEventListener("DOMContentLoaded",p.bind(null,o),!0),r.addEventListener("load",p.bind(null,s),!0),r.setTimeout(function(){var e=m();e&&p(e)},0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[c].push({trigger:e})},registerDomReadyTrigger:function(e){d[o].push({trigger:e,syntheticEventFn:u.bind(null,n)})},registerWindowLoadedTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:u.bind(null,r)})}}}}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP3192e7e0a93746a98645497e7463a723/"},"aa-product-string-search-discovery":{displayName:"AA Product String Builder",modules:{"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js":{name:"aa-product-string-set-variables",displayName:"Set Variables",script:function(e,t,o,a){"use strict";var c={},r=function(e,t){this.settings=e,this.turbine=t,this.logger=t.logger,this.logger.table=n()},n=function(){var e=o("@adobe/reactor-window");if(e.console.table&&e.localStorage&&"true"===e.localStorage.getItem("com.adobe.reactor.debug"))return e.console.table};r.prototype={run:function(){var e,t=o("@adobe/reactor-promise");return this.isValid()&&(e=this.turbine.getSharedModule("adobe-analytics","get-tracker")().then(this.trackerCallback())),e||t.resolve},trackerCallback:function(){var s=this;return function(e){s.logger.log("Settings : ",s.settings);var t=o("../packages/adobe_analytics"),a=o("../packages/util"),r=s.settings.dataLayerRoot;c.logger=s.logger,c.products=s.buildProductMapping(c.products||{}),c.events=s.buildEventMapping(e.events||""),s.logger.log('tracker.events was "'+(e.events||"<not set>")+'"'),s.logger.log('tracker.products was "'+(e.products||"<not set>")+'"');var n=new t(c);if(e.products=n.buildProductStringPure(c.products,r),e.events=n.buildEventStringPure(c,r),e.linkTrackVars=s.appendString(e.linkTrackVars,"products"),e.linkTrackEvents=s.buildLinkTrackEvents(e.events),s.logger.log("Events Map",a.copy(c.events)),s.logger.log("tracker.events set to "+e.events),s.logger.log("Products Map",a.copy(c.products)),s.logger.table){var i=s.productStringTableLoggerLog(e.products,n);s.logger.table(i)}else s.logger.log("tracker.products set to "+e.products)}},appendString:function(e,t){var a=e.split(",");return a.push(t),a.join(",")},buildLinkTrackEvents:function(e){var t=[];return e.split(",").forEach(function(e){t.push(e.split("=")[0])}),t.join(",")},buildProductMapping:function(e){var t=this.getCategory();return e=this.setProductBase(e,t),e=this.setQuantity(e,t),e=this.setUnitPrice(e,t),e=this.setProductStringEvents(e,t),e=this.setProductStringEvars(e,t)},buildEventMapping:function(e){var r={};return e.split(",").forEach(function(e){if(e){var t=e.split("=")[0].trim(),a=e.split("=")[1];r[t]={},a&&(r[t]["static"]=a.trim())}}),r},setProductBase:function(e,t){return e[t]=e[t]||{attributes:{category:this.getCategoryAttributes(),product:{type:"string",position:"product",$id:this.getProductPath()}},collection:this.getProductCollectionPath()},e},setQuantity:function(e,t){return this.hasQuantity()&&(e[t].attributes.quantity=this.getQuantityAttributes()),e},setUnitPrice:function(e,t){return this.hasUnitPrice()&&(e[t].attributes.price=this.getUnitPriceAttributes()),e},setProductStringEvents:function(r,n){return this.settings.productStringEvents&&this.settings.productStringEvents.forEach(function(e){var t="/properties/"+e.eventPath.replace(/\./g,"/properties/"),a="string";e.isBooleanFlag&&(a="boolean"),r[n].attributes[e.eventId]={type:a,position:"events",$id:t}}),r},setProductStringEvars:function(a,r){return this.settings.productStringEvars&&this.settings.productStringEvars.forEach(function(e){var t="/properties/"+e.eVarPath.replace(/\./g,"/properties/");a[r].attributes[e.eVarId]={type:"string",position:"evars",$id:t}}),a},isValid:function(){return this.settings.productCollectionPath&&this.settings.productStringProductIdPath},getProductCollectionPath:function(){var e="";return""!=this.settings.productCollectionPath&&(e="/properties/"+this.settings.productCollectionPath.replace(/\./g,"/properties/")+"/items"),e},getProductPath:function(){var e="";return""!=this.settings.productStringProductIdPath&&this.settings.productStringProductIdSelected&&(e="/properties/"+this.settings.productStringProductIdPath.replace(/\./g,"/properties/")),e},hasCategory:function(){return this.settings.productStringCategorySelected&&""!=this.settings.productStringCategory},getCategory:function(){var e="__noCategory";return this.hasCategory()&&(e=this.settings.productStringCategory),e},getCategoryAttributes:function(){var e={position:"category"},t=this.hasCategory()&&"collection-item-static-text"===this.settings.productStringCategoryVariableType,a=this.hasCategory()&&"collection-item-path"===this.settings.productStringCategoryVariableType;return this.hasCategory()||(e["static"]=""),t&&(e["static"]=this.settings.productStringCategory),a&&(e.$id="/properties/"+this.settings.productStringCategory.replace(/\./g,"/properties/")),e},hasQuantity:function(){return this.settings.productStringQuantitySelected&&""!=this.settings.productStringQuantity},getQuantityAttributes:function(){var e={position:"quantity"
},t=this.hasQuantity()&&"collection-item-static-text"===this.settings.productStringQuantityVariableType,a=this.hasQuantity()&&"collection-item-path"===this.settings.productStringQuantityVariableType;return t&&(e["static"]=this.settings.productStringQuantity),a&&(e.$id="/properties/"+this.settings.productStringQuantity.replace(/\./g,"/properties/")),e},hasUnitPrice:function(){return this.settings.productStringUnitPriceSelected&&""!=this.settings.productStringUnitPrice},getUnitPriceAttributes:function(){var e={position:"price"},t=this.hasUnitPrice()&&"collection-item-static-text"===this.settings.productStringUnitPriceVariableType,a=this.hasUnitPrice()&&"collection-item-path"===this.settings.productStringUnitPriceVariableType;return t&&(e["static"]=this.settings.productStringUnitPrice),a&&(e.$id="/properties/"+this.settings.productStringUnitPrice.replace(/\./g,"/properties/")),e},productStringTableLoggerLog:function(e,t){var a=[],r=this.productStringTableLoggerGetTableColumns(e,t),n=this;return e.split(",").forEach(function(e){var t=e.split(";");a.push(n.productStringTableLoggerBuildStanza(r,t[0],t[1],t[2],t[3],t[4],t[5]))}),a},productStringTableLoggerGetTableColumns:function(e,a){var r=["Category","Product","Qty","Price"],n={},i={};return e.split(",").forEach(function(e){var t=e.split(";");t[4]&&t[4].split("|").forEach(function(e){var t=e.split("=")[0];n[t]=!0}),Object.keys(n).sort(a._eventSortFn()).forEach(function(e){r.push(e)}),t[5]&&t[5].split("|").forEach(function(e){var t=e.split("=")[0];i[t]=!0})}),Object.keys(i).sort(a._evarSortFn()).forEach(function(e){r.push(e)}),r},productStringTableLoggerBuildStanza:function(e,t,a,r,n,i,s){var o={};return e.forEach(function(e){o[e]=null}),""!=t&&(o.Category=t),""!=a&&(o.Product=a),""!=r&&(o.Qty=r),""!=n&&(o.Price=n),i&&i.split("|").forEach(function(e){var t=e.split("="),a=t[0];o[a]=t[1]}),s&&s.split("|").forEach(function(e){var t=e.split("="),a=t[0];o[a]=t[1]}),o}},e.exports=function(e,t){return c=t||c,new r(e,a).run()}}},"aa-product-string-search-discovery/src/lib/packages/adobe_analytics.js":{script:function(e,t,a){var u=a("./util"),r=function(e){this.core=e,this.logger=e.logger};u.assign(r.prototype,{eventMapping:function(e){return(this.core.getDestinationMapping(e)||{}).launch_aa||{}},dataLayer:function(){return this.core.dataLayer.get().computedState},buildProductString:function(e){var t=this.eventMapping(e).products;return this.buildProductStringPure(t,this.dataLayer())},buildListString:function(e,t){var a=this.eventMapping(e),r=u.deepGetArray(a,["lists",t]),n="";return r&&r.collection?n=this.buildListStringPure(r,this.dataLayer()):this.logger.error("List not found for event/list:",e,"/",t),n},buildEventString:function(e){var t=this.eventMapping(e);return this.buildEventStringPure(t,this.dataLayer())},buildProductStringPure:function(e,t){var a=this._parseProducts(e,t);return this._generateProductString(a)},buildListStringPure:function(e,t){return u.deepGet(t,e.collection).join(e.list_delimiter)},buildEventStringPure:function(e,t){var a=this._findBaseEvents({},e.events,t);return a=this._findCoreEvents(a,e.core,t),a=this._findProductEvents(a,e.products,t),this._generateEventString(a)},_parseProducts:function(e,t){var a={};for(var r in e)for(var n=u.deepGet(t,e[r].collection),i=e[r].attributes,s=0;s<n.length;s++)for(var o in i){var c=i[o],l=u.dataLayerGet(n[s],c);switch(c.position){case"evars":a=this._setProductEvar(a,r,s,o,l);break;case"events":a=this._setProductEvent(a,r,s,o,l);break;default:"__noCategory"===r&&"category"===o&&(r=l=""),a=this._setProductStringCore(a,r,s,o,l)}}return a},_cleanse4ProductString:function(e){var t="";return"number"==typeof e&&(e+=""),"string"==typeof e?t=e.replace(/\|/g,"~").replace(/;/g,":").replace(/,/g,".").replace(/^\s+|\s+$/gm,""):this.logger.error("type error : cleanse4ProductString(inputString) called with :"+e),t},_evarSortFn:function(){var a=this;return function(e,t){return a._evarNum4sort(e)-a._evarNum4sort(t)}},_evarNum4sort:function(e){return parseInt(e.replace(/evar/i,""))},_eventSortFn:function(){var a=this;return function(e,t){return a._eventNum4sort(e)-a._eventNum4sort(t)}},_eventNum4sort:function(e){var t=0;return e.match(/event/)&&(t=10*parseInt(e.replace(/event/i,""))),{prodView:1,scAdd:2,scRemove:3,scOpen:4,scView:5,scCheckout:6,purchase:7}[e]||t},_setEvent:function(e,t,a){return e=u.copy(e),"boolean"==typeof a?e[t]=a?1:0:(a=this._toFloat(a),e[t]=null,"number"!=typeof a||isNaN(a)||(e[t]=a)),e},_toFloat:function(e){try{e=parseFloat(e)}catch(t){this.logger.error("Cannot parse non-numerical value: "+e)}return e},_setProductStringCore:function(e,t,a,r,n){return e=u.copy(e),0<=["category","product","quantity","price"].indexOf(r)?(n=this._cleanse4ProductString(n),e=u.deepSetArray(e,[t,a,r],n)):this.logger.error("AA_setProductStringCore : Invalid name, ",r),e},_setProductEvar:function(e,t,a,r,n){return e=u.copy(e),r.match(/e[Vv]ar[1-9][0-9]{0,2}/)?(r=r.replace(/v/,"V"),n=this._cleanse4ProductString(n),e=u.deepSetArray(e,[t,a,"eVars",r],n)):this.logger.error("AA_setProductEvar : Invalid eVar, "+r),e},_setProductEvent:function(e,t,a,r,n){return e=u.copy(e),n&&!isNaN(Number(n))&&0!=Number(n)?e=u.deepSetArray(e,[t,a,"events",r],Number(n)):("boolean"==typeof n||n&&!isNaN(Number(n)))&&(e=u.deepSetArray(e,[t,a,"events",r],n)),e},_generateEventString:function(e){var t=[];for(var a in e){var r=a+"";"undefined"!=typeof e[a]&&null!==e[a]&&(r=a+"="+e[a]),t.push(r)}return t.sort(this._eventSortFn()).join(",")},_generateProductString:function(e){var t=[];for(var a in e){var r=e[a];for(var n in r){var i=this._generateSingleProductString(r[n],n,a);t.push(i)}}return t.join(",")},_generateSingleProductString:function(e,t,a){var r=this._generateProductStringEvents(e.events),n=this._generateProductStringEVars(e.eVars);return[e.category||a,this._productPID(e.product,a,t),e.quantity||"",this._productCost(e.price,e.quantity),r.sort(this._eventSortFn()).join("|"),n.sort(this._evarSortFn()).join("|")].join(";")},_productCost:function(e,t){return(e||0)*(t||0)||""},_productPID:function(e,t,a){return e||t+"_"+a},_generateProductStringEvents:function(e){var t=[];for(var a in e)"boolean"==typeof e[a]?t.push(a+"="+(e[a]?1:0)):e[a]?t.push(a+"="+e[a]):t.push(a+"");return t},_generateProductStringEVars:function(e){var t=[];for(var a in e)"undefined"!=typeof e[a]&&t.push(a+"="+e[a]);return t},_findBaseEvents:function(e,t,a){for(var r in e=u.copy(e),t=t||{}){var n=u.dataLayerGet(a,t[r]);e=this._setEvent(e,r,n)}return e},_findCoreEvents:function(e,t,a){if(e=u.copy(e),t)for(var r in t)if(0==r.indexOf("event")){var n=u.dataLayerGet(a,t[r]);e=this._setEvent(e,r,n)}return e},_findProductEvents:function(e,t,a){for(var r in e=u.copy(e),t)for(var n=u.deepGet(a,t[r].collection),i=t[r].attributes,s=0;s<n.length;s++)for(var o in i)"events"===i[o].position&&(e=this._setEvent(e,o));return e}}),e.exports=r}},"aa-product-string-search-discovery/src/lib/packages/util.js":{script:function(e){var t=function(){};t.prototype.argumentsToArray=function(e){return 1===e.length?[e[0]]:Array.apply(null,e)},t.prototype.dataLayerGet=function(e,t,a){void 0===a&&(a=null);var r=a;return"undefined"!=typeof(t=t||{})["static"]?r=t["static"]:t.$id&&(r=this.deepGet(e,t.$id)),null===r&&(r=a),r},t.prototype.deepGet=function(e,t){return t=t.replace(/^\/properties\//,"").replace(/\/items$/,"").replace("/items/","/properties/0/"),this.deepGetArray(e,t.split("/properties/"))},t.prototype.deepGetArray=function(e,t){var a=e;if(0<t.length){var r=t[0];t=t.slice(1);var n=e[r];a=void 0===n?null:this.deepGetArray(n,t)}return a},t.prototype.deepSetArray=function(e,t,a){return this.deepSetArrayMutable(this.copy(e),t,a)},t.prototype.copy=function(e){return JSON.parse(JSON.stringify(e))},t.prototype.assign=function(){if(Object.assign)return Object.assign.apply(this,arguments);var e=this.argumentsToArray(arguments),a=e.shift();return a&&e.forEach(function(e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])}),a},t.prototype.deepSetArrayMutable=function(e,t,a){if(1<t.length){var r=t[0];t=t.slice(1),e[r]=e[r]||{},e[r]=this.deepSetArray(e[r],t,a)}else 1===t.length&&(e[t[0]]=a);return e},e.exports=new t}}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP7393def1e5144ffa80d6b4f7eb1d03fb/"},"acronym-gtag.js":{displayName:"Google Global Site Tag (gtag)",modules:{"acronym-gtag.js/src/lib/actions/pageview.js":{name:"send-gtag.js-pageview",displayName:"Send a page view",script:function(e,t,l,u){"use strict";e.exports=function(e){var t=l("../helpers/loadGtag")(),a=l("../helpers/castOptionTypes"),r=l("../helpers/getAccountId"),n=u.getExtensionSettings();if("object"==typeof e.accounts&&null!==e.accounts&&0<Object.keys(e.accounts).length){for(var i in e.accounts)if(e.accounts.hasOwnProperty(i)&&(!0===e.accounts[i].enabled||"true"===e.accounts[i].enabled)&&"object"==typeof n.accounts[i]){var s=n.accounts[i],o=r(s),c={};(s.options||[]).forEach(function(e){c[e[0]]=e[1]}),(e.accounts[i].options||[]).forEach(function(e){c[e[0]]=e[1]}),t("config",o,c=a(c)),u.logger.log("page view fired for account "+o+" with the options:",JSON.stringify(c))}}else u.logger.warn("no accounts enabled for this page view action")}}},"acronym-gtag.js/src/lib/actions/event.js":{name:"send-gtag.js-event",displayName:"Send an event",script:function(e,t,l,u){"use strict";e.exports=function(e){var t=l("../helpers/loadGtag")(),a=l("../helpers/castOptionTypes"),r=l("../helpers/getAccountId"),n=u.getExtensionSettings(),i={send_to:[]};if("object"==typeof(e=e||{}).accounts&&null!==e.accounts&&0<Object.keys(e.accounts).length){for(var s in e.accounts)if(e.accounts.hasOwnProperty(s)&&(!0===e.accounts[s].enabled||"true"===e.accounts[s].enabled)){var o=r(n.accounts[s]);if("string"==typeof e.accounts[s].label&&""!==e.accounts[s].label){var c=o+"/";i.send_to.push(c+e.accounts[s].label.replace(c,""))}else i.send_to.push(o)}"object"==typeof e.options&&e.options.length&&e.options.forEach(function(e){i[e[0]]=e[1]}),"function"==typeof e.callback&&(i.event_callback=function(){e.callback.call(this,t)}),i=a(i),t("event",e.name,i),u.logger.log("event fired for accounts "+i.send_to.join(", ")+" with the options:",JSON.stringify(i))}else u.logger.warn("no accounts selected for the "+e.name+" event")}}},"acronym-gtag.js/src/lib/actions/load.js":{name:"load-gtag.js-library",displayName:"Preload the gtag.js library",script:function(e,t,a,r){"use strict";e.exports=function(){_satellite.getVar("__acronym-gtag.loaded")?r.logger.info("library already loaded"):a("../helpers/loadGtag")()}}},"acronym-gtag.js/src/lib/helpers/loadGtag.js":{script:function(e,t,m,f){"use strict";e.exports=function(){var e=f.getExtensionSettings(),t=e.dataLayerName||"dataLayer",a=e.functionName||"gtag",r=m("@adobe/reactor-window"),n=m("@adobe/reactor-load-script"),i=m("../helpers/getAccountId"),s=m("../helpers/castOptionTypes"),o="";if(r[a]||(r[t]=r[t]||[],r[a]=function(){r[t].push(arguments)},r[a]("js",new Date)),!_satellite.getVar("__acronym_gtag_loaded")){if(_satellite.setVar("__acronym_gtag_loaded",!0),e.displayFeatures||(r[a]("set",{allow_ad_personalization_signals:!1}),f.logger.log("Display features are disabled")),"object"==typeof e.accounts&&null!==e.accounts&&0<Object.keys(e.accounts).length){for(var c in e.accounts)if(e.accounts.hasOwnProperty(c)){var l=e.accounts[c],u=l.settings||{};o=i(l),"object"==typeof l.custom_map&&l.custom_map.length&&(u.custom_map=u.custom_map||{},l.custom_map.forEach(function(e){u.custom_map[e[0]]=e[1]})),(l.options||[]).forEach(function(e){u[e[0]]=e[1]}),u.send_page_view=!1,u=s(u),r[a]("config",o,u),f.logger.log("account "+o+" was loaded with the options:",JSON.stringify(u))}if("function"==typeof e.configCode)try{e.configCode(r[a],r[t])}catch(p){f.logger.error("Custom config code error:",p)}}else f.logger.warn("There are no accounts setup");var d="gtag.js library";f.logger.log("loading "+d),n("https://www.googletagmanager.com/gtag/js?id="+o+"&l="+t).then(function(){f.logger.log(d+" successfully loaded")},function(){f.logger.error(d+" could not be loaded")})}return r[a]}},name:"get-gtag",shared:!0},"acronym-gtag.js/src/lib/helpers/castOptionTypes.js":{script:function(e){e.exports=function(a){var e={bool:function(e){return"string"==typeof e?"true"===e:Boolean(e)},"int":function(e){var t=parseInt(e);return isNaN(t)?0:t},csv:function(e){return"string"==typeof e?e.split(","):e},custom_map:function(e){var a={};return"string"==typeof e?e.split(",").forEach(function(e){var t=e.split(":");2===t.length&&(a[t[0]]=t[1])}):"object"==typeof e&&(a=e),a}},r={accept_incoming:e.bool,allow_ad_personalization_signals:e.bool,anonymize_ip:e.bool,checkout_step:e["int"],cookie_expires:e["int"],custom_map:e.custom_map,event_timeout:e["int"],fatal:e.bool,levels:e["int"],link_attribution:e.bool,linker:{domains:e.csv,accept_incoming:e.bool,decorate_forms:e.bool},non_interaction:e.bool,value:e["int"]};return Object.keys(a).forEach(function(t){"function"==typeof r[t]?a[t]=r[t](a[t]):"object"==typeof r[t]&&"object"==typeof a[t]&&null!==a[t]&&Object.keys(a[t]).forEach(function(e){"function"==typeof r[t][e]&&(a[t][e]=r[t][e](a[t][e]))})}),a}}},"acronym-gtag.js/src/lib/helpers/getAccountId.js":{script:function(e,t,a,r){"use strict";e.exports=function(e,t){return t||(t=r.buildInfo.environment),"string"==typeof e.accounts[t]&&""!==e.accounts[t]?e.accounts[t]:e.accounts.production}}}},settings:{accounts:{1556913832648:{id:"1556913832648",name:"BBY Google Ads",type:"aw",options:[],accounts:{production:"AW-1069262956"},settings:{conversion_linker:!0}},1560790534239:{id:"1560790534239",name:"BBY Google Analytics",type:"ga",options:[["campaign","%gaCampaign%"],["dimension9","%sha256FromSignIn%"],["user_id","%sha256FromSignIn%"]],accounts:{staging:"UA-122294325-3",production:"UA-122294325-1",development:"UA-122294325-2"},settings:{linker:{domains:"bestbuy.com,paypal.com,criteo.com",accept_incoming:!0},user_id:"%customer_identifier_cookie%"},custom_map:[]},1561570089694:{id:"1561570089694",name:"BBY New Google Floodlight",type:"dc",options:[],accounts:{production:"DC-9409176"},settings:{}}},configCode:function(){window.self!==window.top&&(window.ga=window.ga||function(e,t,a){var r="create"===e,n=window.ga.q=window.ga.q||[];if(n.push(arguments),r&&3<=arguments.length){var i=a.name;i&&n.push([i+".set","checkProtocolTask",null])}})},functionName:"",dataLayerName:"",displayFeatures:!0},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPca07282407504debb74eb0cd98ae1f2e/"},"facebook-pixel":{displayName:"Facebook Pixel",modules:{"facebook-pixel/src/lib/actions/sendCustomEvent.js":{name:"send-custom-event",displayName:"Send Custom Event",script:function(e,t,r,n){"use strict";e.exports=function(e){var t=r("../helpers/getFbQueue"),a=(e.parameters||[]).reduce(function(e,t){return e[t.key]=t.value,e},{});t("trackCustom",e.name,a),n.logger.log('Queue command: fbq("trackCustom", "'+e.name+'", '+JSON.stringify(a)+").")}}},"facebook-pixel/src/lib/actions/sendPageView.js":{name:"send-page-view",displayName:"Send Page View",script:function(e,t,a,r){"use strict";e.exports=function(){a("../helpers/getFbQueue")("track","PageView"),r.logger.log('Queue command: fbq("track", "PageView").')}}},"facebook-pixel/src/lib/helpers/getFbQueue.js":{script:function(e,t,a,r){"use strict";var n,i=a("@adobe/reactor-window"),s=a("@adobe/reactor-load-script"),o=function(){var e=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)};return(e.push=e).loaded=!0,e.version="2.0",e.queue=[],e};i.fbq||(n=o(),i.fbq=n,i._fbq||(i._fbq=n)),s("https://connect.facebook.net/en_US/fbevents.js").then(function(){r.logger.log("Facebook Pixel Base Code was successfully loaded.")},function(){r.logger.error("Facebook Pixel Base Code could not be loaded.")}),i.fbq("init",r.getExtensionSettings().pixelId),e.exports=i.fbq}}},settings:{pixelId:"1644504072475165"},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP4d5ec4961a3b4787af1153d531b4936f/"},"twitter-uwt":{displayName:"Twitter Universal Website Tag",modules:{"twitter-uwt/src/lib/actions/sendPageview.js":{name:"pageview",displayName:"Pageview",script:function(e,t,a,r){"use strict";e.exports=function(e){a("../helpers/getTwtrQueue")("track","Pageview",e),r.logger.log('Queue command: twtr("track", "Pageview", '+JSON.stringify(e)+").")}}},"twitter-uwt/src/lib/actions/sendPurchase.js":{name:"purchase",displayName:"Purchase",script:function(e,t,a,r){"use strict";e.exports=function(e){a("../helpers/getTwtrQueue")("track","Purchase",e),r.logger.log('Queue command: twtr("track", "Purchase", '+JSON.stringify(e)+").")}}},"twitter-uwt/src/lib/helpers/getTwtrQueue.js":{script:function(e,t,a,r){"use strict";var n=a("@adobe/reactor-window"),i=a("@adobe/reactor-load-script"),s=r.getExtensionSettings(),o=function(){var e=function(){e.exe?e.exe.apply(e,arguments):e.queue.push(arguments)};return e.version="1.1",e.queue=[],e};n.twq||(n.twq=o(),i("https://static.ads-twitter.com/uwt.js").then(function(){r.logger.log("Twitter Pixel Base Code was successfully loaded.")},function(){r.logger.error("Twitter Pixel Base Code could not be loaded.")})),n.twq("init",s.account_id),e.exports=n.twq}}},settings:{account_id:"nwd4o"},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP0393ce01ac3540acb78f103d8e58a5a0/"},"adobe-target-v2":{displayName:"Adobe Target v2",modules:{"adobe-target-v2/lib/addPageLoadParams.js":{name:"add-page-load-params",displayName:"Add Params to Page Load Request",script:function(e,t,a){"use strict";var r=a("./modules/params-store").mergePageLoadParams;e.exports=function(e){r(e.params)}}},"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,a,r){"use strict";function n(){return i.adobe&&i.adobe.target&&i.adobe.target.VERSION}var i=a("@adobe/reactor-window"),s=a("./modules/libs/at-launch"),o=s.initConfig,c=s.initDelivery,l=a("./modules/page-load"),u=a("./messages");e.exports=function(e){var t=l(e);n()?(o(t),c()):i.console&&r.logger.warn(u.NO_REQUEST)}}},"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,a,r){"use strict";function n(a,e){return new c(function(t){a?e.then(function(e){e&&(a.abort=!0),t()}):t()})}function i(e){if(e){var t=new c(function(t){var a=setTimeout(function(){t(!1)},y.targetSettings.timeout),r=function r(e){e.detail&&!0===e.detail.redirect?t(!0):t(!1),clearTimeout(a),f(o,e,r)},n=function n(e){t(!1),clearTimeout(a),f(o,e,n)};m(o,P,r),m(o,S,n)});e(function(e){return n(e,t)})}}var s=a("@adobe/reactor-window"),o=a("@adobe/reactor-document"),c=a("@adobe/reactor-promise"),l=a("./modules/load-target"),u=l.initLibrarySettings,d=l.overridePublicApi,p=a("./modules/event-util"),m=p.addEventListener,f=p.removeEventListener,g=a("./modules/optin"),v=g.shouldUseOptIn,b=g.isTargetApproved,h=r.getSharedModule("adobe-analytics","augment-tracker"),y=r.getExtensionSettings(),P="at-request-succeeded",S="at-request-failed";e.exports=function(){var e=u();e&&e.enabled?((0,a("./modules/libs/at-launch").init)(s,o,e),v()&&!b()||i(h)):d(s)}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,a){"use strict";function r(e){return!e.checked||!(!0===e.checked&&""===e.value)}function n(e){return e.value?e.value:e}function i(a){return Object.keys(a).filter(function(e){return r(a[e])}).reduce(function(e,t){return e[t]=n(a[t]),e},{})}function s(e){var t=i(e);u(d,t)}function o(e){var t=i(e);u(p,t)}function c(){return d}function l(){return p}var u=a("./object-override"),d={},p={};e.exports={mergeParams:s,mergePageLoadParams:o,getParams:c,getPageLoadParams:l}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function r(e,t,a,r){t[a]!==r&&(e[a]=t[a])}function n(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(t,a,e){Object.keys(a).filter(n,{subset:e}).forEach(function(e){r(t,a,e)})}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(e,t,a){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function s(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:0;return setTimeout(e,Number(a)||0)}function i(e){clearTimeout(e)}function b(e){return null==e}function n(e){return Ll.call(e)}function o(e){return n(e)}function d(e){var t=void 0===e?"undefined":Nl(e);return null!=e&&("object"===t||"function"===t)}function c(e){return!!d(e)&&o(e)===Ml}function l(e){return e}function u(e){return c(e)?e:l}function p(e){return b(e)?[]:Object.keys(e)}function m(e,t){return b(t)?[]:(Ol(t)?ql:Gl)(u(e),t)}function f(e){return e&&e.length?e[0]:undefined}function g(e){return b(e)?[]:[].concat.apply([],e)}function v(i){for(var s=this,o=i?i.length:0,e=o;e-=1;)if(!c(i[e]))throw new TypeError("Expected a function");return function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var r=0,n=o?i[r].apply(s,t):t[0];(r+=1)<o;)n=i[r].call(s,n);return n}}function h(e,t){b(t)||(Ol(t)?Ul:Bl)(u(e),t)}function y(e){return null!=e&&"object"===(void 0===e?"undefined":Nl(e))}function P(e){return"string"==typeof e||!Ol(e)&&y(e)&&o(e)===Hl}function S(e){if(!P(e))return-1;for(var t=0,a=e.length,r=0;r<a;r+=1)t=(t<<5)-t+e.charCodeAt(r)&4294967295;return t}function _(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=Ql}function k(e){return null!=e&&_(e.length)&&!c(e)}function w(e,t){return Wl(function(e){return t[e]},e)}function E(e){for(var t=0,a=e.length,r=Array(a);t<a;)r[t]=e[t],t+=1;return r}function C(e){return e.split("")}function V(e){return b(e)?[]:k(e)?P(e)?C(e):E(e):w(p(e),e)}function A(e){if(null==e)return!0;if(k(e)&&(Ol(e)||P(e)||c(e.splice)))return!e.length;for(var t in e)if(zl.call(e,t))return!1;return!0}function j(e){return b(e)?"":Yl.call(e)}function I(e){return P(e)?!j(e):A(e)}function T(e){return Object.getPrototypeOf(Object(e))}function D(e){if(!y(e)||o(e)!==Xl)return!1;var t=T(e);if(null===t)return!0;var a=Zl.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&Jl.call(a)===eu}function R(e){return y(e)&&1===e.nodeType&&!D(e)}function x(e){return"number"==typeof e||y(e)&&o(e)===au}function O(e,t){return Ol(t)?t.join(e||""):""}function L(e,t){return b(t)?[]:(Ol(t)?Wl:ru)(u(e),t)}function N(){}function F(){return(new Date).getTime()}function M(e,t,a){return b(a)?t:(Ol(a)?nu:iu)(u(e),t,a)}function U(e){return null==e?e:su.call(e)}function B(e,t){return I(t)?[]:t.split(e||"")}function q(e,t){return e+Math.floor(Math.random()*(t-e+1))}function G(){var a=F();return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(a+q(0,16))%16|0;return a=Math.floor(a/16),("x"===e?t:3&t|8).toString(16)})}function H(t,a){t[lp]&&(b(a[gp])||(t[zp]=a[gp]),h(function(e){b(a[e])||(t[e]=a[e])},Cm))}function Q(e){var t=e.documentMode;return!t||10<=t}function W(e){var t=e.compatMode;return t&&"CSS1Compat"===t}function z(e){return km.test(e)}function Y(e){if(z(e))return e;var t=U(B(".",e)),a=t.length;return 3<=a&&wm.test(t[1])?t[2]+"."+t[1]+"."+t[0]:1===a?t[0]:t[1]+"."+t[0]}function X(e,t,a){var r="";e.location.protocol===_m||(r=Y(e.location.hostname)),a[Tp]=r,a[lp]=W(t)&&Q(t),H(a,e[qp]||{})}function $(e){X(jl,Il,e);var t=jl.location.protocol===_m;(Em=Al({},e))[Pp]=e[Pp]/1e3,Em[Sp]=e[Sp]/1e3,Em[Ip]=Em[Vp]||t?"https:":""}function K(){return Em}function J(e){try{return decodeURIComponent(e)}catch(t){return e}}function Z(e){try{return encodeURIComponent(e)}catch(t){return e}}function ee(e){if(Tm[e])return Tm[e];Im.href=e;var t=Vm(Im.href);return t.queryKey=Am(t.query),Tm[e]=t,Tm[e]}function te(e,t,a){return{name:e,value:t,expires:a}}function ae(e){var t=B("#",e);return A(t)||t.length<3?null:isNaN(parseInt(t[2],10))?null:te(J(t[0]),J(t[1]),Number(t[2]))}function re(e){return I(e)?[]:B("|",e)}function ne(){var e=L(ae,re(Dm(Om))),t=Math.ceil(F()/1e3),a=function a(e){return d(e)&&t<=e.expires};return M(function(e,t){return e[t.name]=t,e},{},m(a,e))}function ie(e){var t=ne()[e];return d(t)?t.value:""}function se(e){return O("#",[Z(e.name),Z(e.value),e.expires])}function oe(e){return e.expires}function ce(e){var t=L(oe,e);return Math.max.apply(null,t)}function le(e,t){var a=V(e),r=Math.abs(1e3*ce(a)-F()),n=O("|",L(se,a)),i=new Date(F()+r);Rm(Om,n,{domain:t,expires:i})}function ue(e){var t=e.name,a=e.value,r=e.expires,n=e.domain,i=ne();i[t]=te(t,a,Math.ceil(r+F()/1e3)),le(i,n)}function de(e){return tu(Dm(e))}function pe(e,t){var a=e.location.search,r=Am(a);return tu(r[t])}function me(e,t){var a=ee(e.referrer).queryKey;return!b(a)&&tu(a[t])}function fe(e,t,a){return de(a)||pe(e,a)||me(t,a)}function ge(){var e=K()[Tp];Rm(Hu,Qu,{domain:e});var t=Dm(Hu)===Qu;return xm(Hu),t}function ve(){return fe(jl,Il,qu)}function be(){return K()[lp]&&ge()&&!ve()}function he(){return fe(jl,Il,Bu)}function ye(){return fe(jl,Il,Gu)}function Pe(e,t){var a=e.console;return!b(a)&&c(a[t])}function Se(e,t){var a=e.console;Pe(e,"warn")&&a.warn.apply(a,[Lm].concat(t))}function _e(e,t){var a=e.console;Pe(e,"debug")&&he()&&a.debug.apply(a,[Lm].concat(t))}function ke(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];Se(jl,t)}function we(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];_e(jl,t)}function Ee(a){return M(function(e,t){return e[t]=a[t],e},{},Cm)}function Ce(e,t,a){var r=e[Bp]||[];if(e[Bp]=r,a){var n=r.push;r[vp]=Nm,r[Fp]=Ee(t),r[Mp]=[],r[Up]=[],r.push=function i(e){r[Up].push(Al({timestamp:F()},e)),n.call(this,e)}}}function Ve(e,t,a,r){t===Up&&e[Bp].push(a),r&&t!==Up&&e[Bp][t].push(Al({timestamp:F()},a))}function Ae(){Ce(jl,K(),he())}function je(e){Ve(jl,Up,e,he())}function Ie(e){Ve(jl,Mp,e,he())}function Te(e){return new Rl(e)}function De(e){return Rl.resolve(e)}function Re(e){return Rl.reject(e)}function xe(e){return Ol(e)?Rl.race(e):Re(new TypeError(Fm))}function Oe(e){return Ol(e)?Rl.all(e):Re(new TypeError(Fm))}function Le(e,a,r){var n=-1;return xe([e,Te(function(e,t){n=s(function(){return t(new Error(r))},a)})]).then(function(e){return i(n),e},function(e){throw i(n),e})}function Ne(e){if(b(e[pm]))return!1;var t=e[pm];if(b(t[mm]))return!1;var a=t[mm];return c(a[gm])&&c(a[fm])}function Fe(e,t){return!!t&&Ne(e)}function Me(e,t){if(!Ne(e))return!0;var a=e[pm][mm],r=(e[pm][mm][vm]||{})[t];return a[fm](r)}function Ue(e,t){if(!Ne(e))return De(!0);var a=e[pm][mm],r=(e[pm][mm][vm]||{})[t];return Te(function(e,t){a[gm](function(){a[fm](r)?e(!0):t(Mm)},!0)})}function Be(){var e=K()[ym];return Fe(jl,e)}function qe(){return Me(jl,bm)}function Ge(){return Me(jl,hm)}function He(){return Ue(jl,bm)}function Qe(e,t){ue({name:Lp,value:e,expires:t[Sp],domain:t[Tp]})}function We(){if(Be()&&!qe())return Um;var e=K();return I(ie(Lp))&&Qe(Um,e),ie(Lp)}function ze(e){var t=K();ue({name:xp,value:e,expires:t[Pp],domain:t[Tp]})}function Ye(){return ie(xp)}function Xe(e){if(I(e))return"";var t=Bm.exec(e);return A(t)||2!==t.length?"":t[1]}function $e(){if(!K()[wp])return"";var e=Dm(Op);return I(e)?"":e}function Ke(e){var t=K();if(t[wp]){var a=t[Tp],r=new Date(F()+t[Ep]),n=Dm(Op),i={domain:a,expires:r};if(tu(n))Rm(Op,n,i);else{var s=Xe(e);I(s)||Rm(Op,s,i)}}}function Je(e,r){function t(e,t){var a=r.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:undefined},a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}c(e.CustomEvent)||(t.prototype=e.Event.prototype,e.CustomEvent=t)}function Ze(e,t){var a=e(),r=t(),n={};return n.sessionId=a,tu(r)&&(n.deviceId=r),n}function et(e,t,a,r){var n=new e.CustomEvent(a,{detail:r});t.dispatchEvent(n)}function tt(e,t){var a=t.mbox,r=t.error,n=t.url,i=t.analyticsDetails,s=t.responseTokens,o=t.execution,c={type:e,tracking:Ze(We,Ye)};return b(a)||(c.mbox=a),b(r)||(c.error=r),b(n)||(c.url=n),A(i)||(c.analyticsDetails=i),A(s)||(c.responseTokens=s),A(o)||(c.execution=o),c}function at(){var e=tt(Xm,{});et(jl,Il,Xm,e)}function rt(e){var t=tt($m,e);et(jl,Il,$m,t)}function nt(e,t){var a=tt(Km,e);a.redirect=t,et(jl,Il,Km,a)}function it(e){var t=tt(Jm,e);et(jl,Il,Jm,t)}function st(e){var t=tt(Zm,e);et(jl,Il,Zm,t)}function ot(e){var t=tt(ef,e);et(jl,Il,ef,t)}function ct(e){var t=tt(tf,e);et(jl,Il,tf,t)}function lt(e){var t=tt(af,e);et(jl,Il,af,t)}function ut(e){var t=tt(rf,e);et(jl,Il,rf,t)}function dt(e){var t=e.charAt(0),a=e.charAt(1),r=e.charAt(2),n={key:e};return n.val="-"===a?""+t+a+"\\3"+r+" ":t+"\\3"+a+" ",n}function pt(e){var t=e.match(lf);return A(t)?e:M(function(e,t){return e.replace(t.key,t.val)},e,L(dt,t))}function mt(e){for(var t=[],a=j(e),r=a.indexOf(sf),n=void 0,i=void 0,s=void 0,o=void 0;-1!==r;)n=j(a.substring(0,r)),o=(i=j(a.substring(r))).indexOf(of),s=j(i.substring(cf,o)),r=(a=j(i.substring(o+1))).indexOf(sf),n&&s&&t.push({sel:n,eq:Number(s)});return a&&t.push({sel:a}),t}function ft(e){if(R(e))return nf(e);if(!P(e))return nf(e);var t=pt(e);if(-1===t.indexOf(sf))return nf(t);var a=mt(t);return M(function(e,t){var a=t.sel,r=t.eq;return e=e.find(a),x(r)&&(e=e.eq(r)),e},nf(Il),a)}function gt(e){return 0<ft(e).length}function vt(e){return nf("<"+od+"/>").append(e)}function bt(e){return nf(e)}function ht(e){return ft(e).prev()}function yt(e){return ft(e).next()}function Pt(e){return ft(e).parent()}function St(e,t){return ft(t).is(e)}function _t(e,t){return ft(t).find(e)}function kt(e){return ft(e).children()}function wt(){jl[pf]=jl[pf]||{},jl[pf].querySelectorAll=ft}function Et(e){if(ye()){var t=e[am];jl[pf][ff]=t}}function Ct(){Il.addEventListener(td,function(e){c(jl[pf][mf])&&jl[pf][mf](e)},!0)}function Vt(){if(ye()){wt();var e=K()[jp],t=function t(){return Ct()},a=function a(){return ke(uf)};we(df),xl(e).then(t)["catch"](a)}}function At(e){return ft(e).empty().remove()}function jt(e,t){return ft(t).after(e)}function It(e,t){return ft(t).before(e)}function Tt(e,t){return ft(t).append(e)}function Dt(e,t){return ft(t).prepend(e)}function Rt(e,t){return ft(t).html(e)}function xt(e){return ft(e).html()}function Ot(e,t){return ft(t).text(e)}function Lt(e,t){return"<"+nd+" "+Zu+'="'+e+'" '+ed+'="'+sp+'">'+t+"</"+nd+">"}function Nt(e,t){return Lt(gf+S(t),t+" {"+e+"}")}function Ft(e){if(!0===e[yp]&&!gt(bf)){var t=e[hp];Tt(Lt(vf,t),ad)}}function Mt(e){!0===e[yp]&&gt(bf)&&At(bf)}function Ut(e,t){if(!A(t)){var a=e[bp],r=function r(e){return Nt(a,e)};Tt(O("\n",L(r,t)),ad)}}function Bt(){Ft(K())}function qt(){Mt(K())}function Gt(e){Ut(K(),e)}function Ht(e){At("#"+(gf+S(e)))}function Qt(e){return parseInt(e,10)}function Wt(e){var t=Qt(e);return isNaN(t)?null:t}function zt(e){return B(wf,e)}function Yt(e){var t=B(wf,e),a=Wt(t[0]);if(b(a))return null;var r={};r.activityIndex=a;var n=Wt(t[1]);return b(n)||(r.experienceIndex=n),r}function Xt(e){return m(Ef,L(Yt,e))}function $t(e){return Ol(e)?Xt(e):Xt([e])}function Kt(e){var t=Am(e),a=t[yf];if(I(a))return null;var r={};r.token=a;var n=t[Sf];tu(n)&&n===Qu&&(r.listedActivitiesOnly=!0);var i=t[_f];tu(i)&&(r.evaluateAsTrueAudienceIds=zt(i));var s=t[kf];tu(s)&&(r.evaluateAsFalseAudienceIds=zt(s));var o=t[Pf];return A(o)||(r.previewIndexes=$t(o)),r}function Jt(e){var t=Kt(e.location.search);if(!b(t)){var a=new Date(F()+186e4);Rm(hf,JSON.stringify(t),{expires:a})}}function Zt(){var e=Dm(hf);if(I(e))return{};try{return JSON.parse(e)}catch(t){return{}}}function ea(e,t,a){if(I(t))return null;if(b(e[Cf]))return null;if(!c(e[Cf][Vf]))return null;var r=e[Cf][Vf](t,{sdidParamExpiry:a});return d(r)&&c(r[Af])&&r[Af]()?r:null}function ta(e){return!b(e[Zu])}function aa(e){return!b(e[Yp])}function ra(e){switch(e){case 0:return"unknown";case 1:return"authenticated";case 2:return"logged_out";default:return"unknown"}}function na(e){return ta(e)||aa(e)}function ia(e){if(b(e))return[];if(!c(e[qf]))return[];var t=e[qf]();return d(t)?M(function(e,t,a){var r={};return r[$p]=a,ta(t)&&(r[Zu]=t[Zu]),aa(t)&&(r[Xp]=ra(t[Yp])),e.push(r),e},[],m(na,t)):[]}function sa(e,t){return b(e)?null:c(e[Bf])?e[Bf](t):null}function oa(e){return M(function(e,t){return Al(e,t)},{},e)}function ca(e,t,a){return a&&c(t[xf])&&!b(e[Cf][Of])}function la(e,t){var a={};return a[e]=t,a}function ua(e,t){if(b(e))return null;var a=e[t];return b(a)?null:a}function da(e,a,t){return ca(e,a,t)?Te(function(t){a[xf](function(e){return t(la(Uf,e))},e[Cf][Of].GLOBAL,!0)}):De(la(Uf,!1))}function pa(e,a,r){return c(e[a])?Te(function(t){e[a](function(e){return t(la(r,e))},!0)}):De({})}function ma(e,t,a){return Oe([pa(t,If,Mf),pa(t,Tf,Lf),pa(t,Df,Ff),pa(t,Rf,Nf),da(e,t,a)]).then(oa)}function fa(e){return we(Wf,e),{}}function ga(e,t,a,r){return b(t)?De({}):Le(ma(e,t,r),a,Qf)["catch"](fa)}function va(e,t,a){if(!ca(e,t,a))return la(Uf,!1);var r=t[xf](null,e[Cf][Of].GLOBAL);return la(Uf,r)}function ba(e,t,a){return c(e[t])?la(a,e[t]()):{}}function ha(e,t,a){return oa([ba(t,If,Mf),ba(t,Tf,Lf),ba(t,Df,Ff),ba(t,Rf,Nf),va(e,t,a)])}function ya(e,t,a){return b(t)?{}:ha(e,t,a)}function Pa(){var e=K(),t=e[dp],a=e[Ap];return ea(jl,t,a)}
function Sa(){var e=Pa(),t=K(),a=t[kp],r=t[Cp];return ga(jl,e,a,r)}function _a(){var e=Pa(),t=K()[Cp];return ya(jl,e,t)}function ka(){return ia(Pa())}function wa(e){return sa(Pa(),e)}function Ea(e){return ua(Pa(),e)}function Ca(e,t){zf[e]=t}function Va(e){return zf[e]}function Aa(e){var t=e[qp];if(b(t))return!1;var a=t[Hp];return!(!Ol(a)||A(a))}function ja(e){var t=e[$d];if(!P(t)||A(t))return!1;var a=e[vp];if(!P(a)||A(a))return!1;var r=e[mp];return!(!b(r)&&!x(r)||!c(e[np]))}function Ia(e){return Te(function(a,r){e(function(e,t){b(e)?a(t):r(e)})})}function Ta(e,t,a,r,n,i){var s={};s[e]=t,s[a]=r,s[n]=i;var o={};return o[Gp]=s,o}function Da(e){var a=e[$d],r=e[vp],t=e[mp]||$f;return Le(Ia(e[np]),t,Xf).then(function(e){var t=Ta($d,a,vp,r,Jd,e);return we(Yf,Qd,t),Ie(t),e})["catch"](function(e){var t=Ta($d,a,vp,r,Bd,e);return we(Yf,Bd,t),Ie(t),{}})}function Ra(e){var t=M(function(e,t){return Al(e,t)},{},e);return Ca(Hp,t),t}function xa(e){return Aa(e)?Oe(L(Da,m(ja,e[qp][Hp]))).then(Ra):De({})}function Oa(){var e=Va(Hp);return b(e)?{}:e}function La(){return xa(jl)}function Na(){return Oa(jl)}function Fa(e){var t=e.location.search,a=Am(t)[Kf];return I(a)?null:a}function Ma(){var e=Dm(Jf);return I(e)?null:e}function Ua(){var e=Fa(jl),t=Ma();return e||t}function Ba(e){return!A(e)&&2===e.length&&tu(e[0])}function qa(e){var t=e.indexOf("=");return-1===t?[]:[e.substr(0,t),e.substr(t+1)]}function Ga(e,a,r,n){h(function(e,t){d(e)?(a.push(t),Ga(e,a,r,n),a.pop()):A(a)?r[n(t)]=e:r[n(O(".",a.concat(t)))]=e},e)}function Ha(e){return m(function(e,t){return tu(t)},Am(e))}function Qa(e){return M(function(e,t){return e[J(j(t[0]))]=J(j(t[1])),e},{},m(Ba,M(function(e,t){return e.push(qa(t)),e},[],m(tu,e))))}function Wa(e,t){var a={};return b(t)?Ga(e,[],a,l):Ga(e,[],a,t),a}function za(e){if(!c(e))return{};var t=null;try{t=e()}catch(a){return{}}return b(t)?{}:Ol(t)?Qa(t):P(t)&&tu(t)?Ha(t):d(t)?Wa(t):{}}function Ya(e){return Al({},e,za(jl.targetPageParamsAll))}function Xa(e){return Al({},e,za(jl.targetPageParams))}function $a(e){var t=K(),a=t[fp],r=t[Dp],n=t[Rp];return a!==e?Ya(r||{}):Al(Ya(r||{}),Xa(n||{}))}function Ka(){var e=Il.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(b(t))return null;var a=t.getExtension("WEBGL_debug_renderer_info");if(b(a))return null;var r=t.getParameter(a.UNMASKED_RENDERER_WEBGL);return b(r)?null:r}function Ja(){var e=jl.devicePixelRatio;if(!b(e))return e;e=1;var t=jl.screen,a=t.systemXDPI,r=t.logicalXDPI;return!b(a)&&!b(r)&&r<a&&(e=a/r),e}function Za(){var e=jl.screen,t=e.orientation,a=e.width,r=e.height;if(b(t))return r<a?"landscape":"portrait";if(b(t.type))return null;var n=B("-",t.type);if(A(n))return null;var i=n[0];return b(i)?null:i}function er(){return Zf}function tr(e){return e===tg}function ar(e){return-1!==e.indexOf(eg)}function rr(e){return e===ag}function nr(e){return e===rg}function ir(e){return e===ng}function sr(e){return e===ig}function or(e){return e===sg}function cr(e){return e===og}function lr(e){return ar(e)||tr(e)||rr(e)||nr(e)||ir(e)||sr(e)||or(e)||cr(e)}function ur(e){return e.substring(eg.length)}function dr(e){return e[tg]}function pr(e){return e[ag]}function mr(e){return e[rg]}function fr(e){return e[ng]}function gr(e){var t=L(j,B(",",e[ig]));return m(tu,t)}function vr(e){return e[sg]}function br(e){return e[og]}function hr(e){return M(function(e,t,a){return lr(a)||(e[a]=b(t)?"":t),e},{},e)}function yr(e){return M(function(e,t,a){if(!ar(a))return e;var r=ur(a);return I(r)||(e[r]=b(t)?"":t),e},{},e)}function Pr(r,n,i){return r.onload=function(){var e=1223===r.status?204:r.status;if(e<100||599<e)i(new Error(lg));else{var t=JSON.parse(r.responseText),a=r.getAllResponseHeaders();n({status:e,headers:a,response:t})}},r}function Sr(e,t){return e.onerror=function(){t(new Error(lg))},e}function _r(e,t,a){return e.timeout=t,e.ontimeout=function(){a(new Error(ug))},e}function kr(a,e){return h(function(e,t){Ol(e)&&h(function(e){a.setRequestHeader(t,e)},e)},1<arguments.length&&e!==undefined?arguments[1]:{}),a}function wr(e){var r=e.url,n=e.headers,i=e.body,s=e.timeout,o=e.async;return Te(function(e,t){var a=new window.XMLHttpRequest;(a=Sr(a=Pr(a,e,t),t)).open(cg,r,o),a.withCredentials=!0,a=kr(a,n),o&&(a=_r(a,s,t)),a.send(JSON.stringify(i))}).then(function(e){var t=e.response,a=t.status,r=t.message;if(!b(a)&&!b(r))throw new Error(r);return t})}function Er(e){if(e[Uf])throw new Error(jf);return e}function Cr(){var e=Sa(),t=La();return Oe([e.then(Er),t])}function Vr(){return[_a(),Na()]}function Ar(e,t){return Al({},e,t)}function jr(){return-(new Date).getTimezoneOffset()}function Ir(){var e=jl.screen;return{width:e.width,height:e.height,orientation:Za(),colorDepth:e.colorDepth,pixelRatio:Ja()}}function Tr(){var e=Il.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function Dr(){return{host:jl.location.hostname,webGLRenderer:er()}}function Rr(){return{url:jl.location.href,referringUrl:Il.referrer}}function xr(e){return b(e)||e.channel!==dg?{userAgent:jl.navigator.userAgent,timeOffsetInMinutes:jr(),channel:dg,screen:Ir(),window:Tr(),browser:Dr(),address:Rr()}:e}function Or(e,t){if(!b(e))return e;var a={};if(A(t))return a;var r=t[Nf],n=parseInt(r,10);isNaN(n)||(a.locationHint=n);var i=t[Lf];return tu(i)&&(a.blob=i),a}function Lr(e){var t=e.id,a=e.integrationCode,r=e.authenticatedState,n={};return tu(t)&&(n.id=t),tu(a)&&(n.integrationCode=a),tu(r)&&(n.authenticatedState=r),n}function Nr(e){return L(Lr,e)}function Fr(e,t,a,r,n){var i={};tu(t)&&(i.tntId=t),tu(a)&&(i.thirdPartyId=a),tu(e.thirdPartyId)&&(i.thirdPartyId=e.thirdPartyId);var s=r[Mf];return tu(s)&&(i.marketingCloudVisitorId=s),tu(e.marketingCloudVisitorId)&&(i.marketingCloudVisitorId=e.marketingCloudVisitorId),A(e.customerIds)?A(n)||(i.customerIds=Nr(n)):i.customerIds=e.customerIds,i}function Mr(e,t){var a={},r=Or(e.audienceManager,t);return A(r)||(a.audienceManager=r),A(e.analytics)||(a.analytics=e.analytics),a}function Ur(e){if(!b(e)&&tu(e.token))return e;var t={},a=pr($a(K()[fp]));return tu(a)&&(t.token=a),t}function Br(e){if(!b(e)&&tu(e.authorizationToken))return e;var t={},a=Ua();return tu(a)&&(t.authorizationToken=a),t}function qr(e){return b(e)?Zt():e}function Gr(e){var t={},a=mr(e);b(a)||(t.id=a);var r=fr(e),n=parseFloat(r);isNaN(n)||(t.total=n);var i=gr(e);return A(i)||(t.purchasedProductIds=i),t}function Hr(e){var t={},a=vr(e);b(a)||(t.id=a);var r=br(e);return b(r)||(t.categoryId=r),t}function Qr(e,t){var a={},r=Al({},hr(t),e.parameters||{}),n=Al({},yr(t),e.profileParameters||{}),i=Al({},Gr(t),e.order||{}),s=Al({},Hr(t),e.product||{});return A(r)||(a.parameters=r),A(n)||(a.profileParameters=n),A(i)||(a.order=i),A(s)||(a.product=s),a}function Wr(e,t){var a=e.index,r=e.name,n=e.address,i=Qr(e,Al({},t,$a(r)));return b(a)||(i.index=a),tu(r)&&(i.name=r),A(n)||(i.address=n),i}function zr(e,t){var a=K()[fp],r=e.name,n=e.address,i=Qr(e,Al({},t,$a(a)));return tu(r)&&(i.name=r),A(n)||(i.address=n),i}function Yr(e,t){var a=K()[fp],r=e.execute,n=r===undefined?{}:r,i={};if(A(n))return i;var s=n.pageLoad;if(!b(s)){var o=Al({},t,$a(a));i.pageLoad=Qr(s,o)}var c=n.mboxes;if(!b(c)&&Ol(c)&&!A(c)){var l=m(mg,L(function(e){return Wr(e,t)},c));A(l)||(i.mboxes=l)}return i}function Xr(e,t){var a=e.prefetch,r=a===undefined?{}:a,n={};if(A(r))return n;var i=r.mboxes;b(i)||!Ol(i)||A(i)||(n.mboxes=L(function(e){return Wr(e,t)},i));var s=r.views;return b(s)||!Ol(s)||A(s)||(n.views=L(function(e){return zr(e,t)},s)),n}function $r(e,t){if(Be()&&!Ge())return null;var a=K(),r=wa(e),n=Ea(Gf),i=Ea(Hf),s=t.experienceCloud,o=(s===undefined?{}:s).analytics,c=o===undefined?{}:o,l=c.logging,u=c.supplementalDataId,d=c.trackingServer,p=c.trackingServerSecure,m={};return b(l)?m.logging=a[Pm]:m.logging=l,b(u)||(m.supplementalDataId=u),tu(r)&&(m.supplementalDataId=r),b(d)||(m.trackingServer=d),tu(n)&&(m.trackingServer=n),b(p)||(m.trackingServerSecure=p),tu(i)&&(m.trackingServerSecure=i),A(m)?null:m}function Kr(e,t,a){var r=Ye(),n=dr(a),i=ka(),s=Fr(e.id||{},r,n,t,i),o=Ur(e.property),c=Mr(e.experienceCloud||{},t),l=Br(e.trace),u=qr(e.qaMode),d=Yr(e,a),p=Xr(e,a),m=e.notifications,f={};return f.requestId=G(),f.context=xr(e.context),A(s)||(f.id=s),A(o)||(f.property=o),A(l)||(f.trace=l),A(c)||(f.experienceCloud=c),A(u)||(f.qaMode=u),A(d)||(f.execute=d),A(p)||(f.prefetch=p),A(m)||(f.notifications=m),f}function Jr(r,n){return Cr().then(function(e){var t=e[0],a=Ar(e[1],n);return Kr(r,t,a)})}function Zr(e,t){var a=Vr();return Kr(e,a[0],Ar(a[1],t))}function en(e,t){return x(t)?t<0?e[mp]:t:e[mp]}function tn(e){var t=e[up],a=e[pp];if(!e[wp])return a;var r=$e();return I(r)?a:a.replace(t,""+pg+r)}function an(e){var t=e[Ip],a=tn(e),r=e[Qp],n=e[up],i=We(),s=e[vp];return t+"//"+a+r+"?"+jm({client:n,sessionId:i,version:s})}function rn(t,e){var a=K(),r=an(a),n=Fl({},nm,[im]),i=en(a,e),s={url:r,headers:n,body:t,timeout:i,async:!0};return we(rp,t),Ie({request:t}),wr(s).then(function(e){return we(ap,e),Ie({response:e}),{request:t,response:e}})}function nn(e,t){return!Be()||qe()?rn(e,t):He().then(function(){return rn(e,t)})}function sn(e,t){return{status:Qd,type:e,data:t}}function on(e,t){return{status:Bd,type:e,data:t}}function cn(e){var t=e.id;return d(t)&&tu(t.tntId)}function ln(e,t){return cn(t)&&e(t.id.tntId),t}function un(e,t){return cn(t)&&e(t.id.tntId),e(null),t}function dn(e){var t=e.queryKey,a=t[Tg];if(!P(a))return t;if(I(a))return t;var r=Math.round(F()/1e3);return t[Tg]=a.replace(/\|TS=\d+/,"|TS="+r),t}function pn(e){return e.queryKey}function mn(e,t,a){var r=ee(e),n=r.protocol,i=r.host,s=r.path,o=""===r.port?"":":"+r.port,c=I(r.anchor)?"":"#"+r.anchor,l=a(r),u=jm(Al({},l,t));return n+"://"+i+o+s+(I(u)?"":"?"+u)+c}function fn(e,t){return mn(e,t,dn)}function gn(e,t){return mn(e,t,pn)}function vn(e){var t=e.content;if(I(t))return we(Dd,e),De(null);var a=Al({},e);return a.content=fn(t,{}),De(a)}function bn(e){throw new Error(e)}function hn(e){var t=e[Ng]||Og,a=e[Fg]||bn(xg),r=e[Mg]||{},n=e[Ug]||null,i=e[Bg]||!1,s=e[qg]||3e3,o=!!b(e[Gg])||!0===e[Gg],c={};return c[Ng]=t,c[Fg]=a,c[Mg]=r,c[Ug]=n,c[Bg]=i,c[qg]=s,c[Gg]=o,c}function yn(r,n,i){return r.onload=function(){var e=1223===r.status?204:r.status;if(e<100||599<e)i(new Error(Dg));else{var t=r.responseText,a=r.getAllResponseHeaders();n({status:e,headers:a,response:t})}},r}function Pn(e,t){return e.onerror=function(){t(new Error(Dg))},e}function Sn(e,t,a){return e.timeout=t,e.ontimeout=function(){a(new Error(Rg))},e}function _n(e,t){return!0===t&&(e.withCredentials=t),e}function kn(a,e){return h(function(e,t){h(function(e){return a.setRequestHeader(t,e)},e)},e),a}function wn(r,e){var t=hn(e),n=t[Ng],i=t[Fg],s=t[Mg],o=t[Ug],c=t[Bg],l=t[qg],u=t[Gg];return Te(function(e,t){var a=new r.XMLHttpRequest;(a=Pn(a=yn(a,e,t),t)).open(n,i,u),a=kn(a=_n(a,c),s),u&&(a=Sn(a,l,t)),a.send(o)})}function En(e){return wn(jl,e)}function Cn(e,t,a){var r={};return r[Ng]=Og,r[Fg]=gn(e,t),r[qg]=a,r}function Vn(e){return 200<=e&&e<300||304===e}function An(e){if(!Vn(e.status))return null;var t=e.response;if(I(t))return null;var a={};return a.type=Xu,a.content=t,a}function jn(e){return En(Cn(e.content,{},K()[qg])).then(An)["catch"](function(){return null})}function In(e){var t=e[vu];if(I(t))return"";var a=Hg.exec(t);return A(a)||2!==a.length?"":a[1]}function Tn(e,t){var a=document.createElement(od);a.innerHTML=t;var r=a.firstElementChild;return b(r)?t:(r.id=e,r.outerHTML)}function Dn(e){var t=e[cu],a=In(e);if(I(a)||I(t))return e;var r=e[vu];return e[vu]=r.replace(Qg,""),e[cu]=Tn(a,t),e}function Rn(e){var t=e.selector,a=e.cssSelector;return!b(t)&&!b(a)}function xn(e){if(!Rn(e))return null;var t=Dn(e);return P(t[cu])?t:(we(Cd,t),null)}function On(e){if(!Rn(e))return null;var t=Dn(e);return P(t[cu])?t:(we(Cd,t),null)}function Ln(e){if(!Rn(e))return null;var t=Dn(e);return P(t[cu])?t:(we(Cd,t),null)}function Nn(e){if(!Rn(e))return null;var t=Dn(e);return P(t[cu])?t:(we(Cd,t),null)}function Fn(e){if(!Rn(e))return null;var t=Dn(e);return P(t[cu])?t:(we(Cd,t),null)}function Mn(e){if(!Rn(e))return null;var t=Dn(e);return P(t[cu])?t:(we(Cd,t),null)}function Un(e){if(!Rn(e))return null;var t=Dn(e);return P(t[cu])?t:(we(Cd,t),null)}function Bn(e){return Rn(e)?P(e[cu])?e:(we(Cd,e),null):null}function qn(e){return Rn(e)?d(e[cu])?e:(we(Vd,e),null):null}function Gn(e){return Rn(e)?P(e[cu])?e:(we(Rd,e),null):null}function Hn(e){return Rn(e)?d(e[cu])?e:(we(Ad,e),null):null}function Qn(e){return Rn(e)?d(e[cu])?e:(we(jd,e),null):null}function Wn(e){return Rn(e)?d(e[cu])?e:(we(Id,e),null):null}function zn(e){return Rn(e)?e:null}function Yn(e){return Rn(e)?d(e[cu])?e:(we(Td,e),null):null}function Xn(e){var t=e.content;return I(t)?(we(Dd,e),null):(e.content=fn(t,{}),e)}function $n(e){var t=e[ou];if(I(t))return null;switch(t){case hu:return xn(e);case Pu:return On(e);case Ou:return Ln(e);case Nu:return Nn(e);case Mu:return Fn(e);case Ru:return Mn(e);case xu:return Un(e);case ju:return Bn(e);case _u:return qn(e);case ku:return Gn(e);case wu:return Hn(e);case Cu:return Qn(e);case Vu:return Wn(e);case Au:return zn(e);case Eu:return Yn(e);case Iu:return Xn(e);default:return null}}function Kn(e){var t=e[cu];if(!Ol(t))return De(null);if(A(t))return De(null);var a=m(Wg,L($n,t));if(A(a))return De(null);var r=Al({},e);return r.content=a,De(r)}function Jn(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).trace;A(t)||je(t)}function Zn(e){var t=e.response,a=t.execute,r=a===undefined?{}:a,n=t.prefetch,i=n===undefined?{}:n,s=r.pageLoad,o=s===undefined?{}:s,c=r.mboxes,l=c===undefined?[]:c,u=i.mboxes,d=u===undefined?[]:u,p=i.views,m=p===undefined?[]:p;return Jn(o),h(Jn,l),h(Jn,d),h(Jn,m),e}function ei(e){if(A(e))return!1;if(I(e.type))return!1;var t=e.content;return!!P(t)||!!d(t)||!!Ol(t)}function ti(e){return!!ei(e)&&!I(e.eventToken)}function ai(e){return!A(e)&&!I(e.type)&&!I(e.eventToken)}function ri(e){return!!ai(e)&&!I(e.selector)}function ni(e){switch(e.type){case Iu:return vn(e);case $u:return jn(e);case Zd:return Kn(e);default:return De(e)}}function ii(e,t){if(!Ol(e))return De([]);if(A(e))return De([]);var a=m(t,e);return A(a)?De([]):Oe(L(function(e){return ni(e)},a)).then(Sg)}function si(e,t){return Ol(e)?A(e)?De([]):De(m(t,e)):De([])}function oi(e){var t=e[0],a=e[1],r=!A(t),n=!A(a);if(!r&&!n)return null;var i={};return r&&(i.options=t),n&&(i.metrics=a),i}function ci(e){var t=e.response,a=t.execute;if(!d(a))return De(null);var r=a.pageLoad;if(!d(r))return De(null);var n=r.analytics,i=r.options,s=r.metrics;return Oe([ii(i,ei),si(s,ri)]).then(oi).then(function(e){return b(t)?null:(b(n)||(e.analytics=n),e)})}function li(e){var t=e.name,a=e.analytics,r=e.options,n=e.metrics;return Oe([ii(r,ei),si(n)]).then(oi).then(function(e){return b(e)?null:(b(a)||(e.analytics=a),e.name=t,e)})}function ui(e){var t=e.response.execute;if(!d(t))return De([]);var a=t.mboxes;return!Ol(a)||A(a)?De([]):Oe(L(li,m(Cg,a))).then(Sg)}function di(e,t,a){return e.index===t&&e.name===a}function pi(e,t,a){var r=e.prefetch,n=(r===undefined?{}:r).mboxes,i=n===undefined?[]:n;return A(i)?null:f(m(function(e){return di(e,t,a)},i))}function mi(e,t){var a=t.index,r=t.name,n=t.state,i=t.analytics,s=t.options,o=t.metrics;if(b(a))return De(null);if(I(r))return De(null);var c=pi(e,a,r);return Oe([ii(s,ei),si(o)]).then(oi).then(function(e){return b(e)?null:(b(i)||(e.analytics=i),e.name=r,e.state=n,b(c)||(e.parameters=c.parameters,e.profileParameters=c.profileParameters,e.order=c.order,e.product=c.product),e)})}function fi(e){var t=e.request,a=e.response.prefetch;if(!d(a))return De([]);var r=a.mboxes;if(!Ol(r)||A(r))return De([]);var n=m(Cg,r),i=function i(e){return mi(t,e)};return Oe(L(i,n)).then(Sg)}function gi(e){var t=e.prefetch,a=(t===undefined?{}:t).views,r=a===undefined?[]:a;return A(r)?null:r[0]}function vi(e,t){var a=t.name,r=t.state,n=t.analytics,i=t.options,s=t.metrics;if(I(a))return De(null);var o=gi(e);return Oe([ii(i,ti),si(s,ri)]).then(oi).then(function(e){return b(e)?null:(b(n)||(e.analytics=n),e.name=a,e.state=r,b(o)||(e.parameters=o.parameters,e.profileParameters=o.profileParameters,e.order=o.order,e.product=o.product),e)})}function bi(e){var t=e.request,a=e.response.prefetch;if(!d(a))return De([]);var r=a.views;if(!Ol(r)||A(r))return De([]);var n=m(Vg,r),i=function i(e){return vi(t,e)};return Oe(L(i,n)).then(Sg)}function hi(e){var t=e.response.prefetch;return d(t)?si(t.metrics,ri):De([])}function yi(e){var t=e.analytics;return A(t)?[]:[t]}function Pi(e){var t=e.execute||{},a=e.prefetch||{},r=t.pageLoad||{},n=t.mboxes||[],i=a.mboxes||[],s=a.views||[];return g([yi(r),g(L(yi,n)),g(L(yi,i)),g(L(yi,s))])}function Si(e){var t=e.options;return Ol(t)?A(t)?[]:Sg(L(wg,t)):[]}function _i(e){var t=e.execute||{},a=e.prefetch||{},r=t.pageLoad||{},n=t.mboxes||[],i=a.mboxes||[],s=a.views||[];return g([Si(r),g(L(Si,n)),g(L(Si,i)),g(L(Si,s))])}function ki(e){var t=e.execute||{},a=t.pageLoad||{},r=t.mboxes||[],n=g([_g(a)||[],g(L(_g,r))]),i=g(L(kg,m(yg,n))),s=m(Pg,n),o=m(Pg,i),c=s.concat(o),l={};if(A(c))return l;var u=c[0].content;return I(u)||(l.url=u),l}function wi(e){var t=e[0],a=e[1],r=e[2],n=e[3],i=e[4],s={},o={};d(t)&&(o.pageLoad=t),A(a)||(o.mboxes=a);var c={};return A(r)||(c.mboxes=r),A(n)||(c.views=n),A(i)||(c.metrics=i),A(o)||(s.execute=o),A(c)||(s.prefetch=c),s}function Ei(e){var t=function t(e){return ln(ze,e.response),e},a=function a(e){return un(Ke,e.response),e},r=v([Zn,t,a])(e);return Oe([ci(r),ui(r),fi(r),bi(r),hi(r)]).then(wi)}function Ci(e){var t=Pi(e),a=_i(e),r=!A(ki(e)),n={};return A(t)||(n.analyticsDetails=t),A(a)||(n.responseTokens=a),we(kd,e),nt(n,r),De(e)}function Vi(e,t){var a=_i(t),r=d(ki(t)),n={mbox:e};return A(a)||(n.responseTokens=a),we(kd,t),nt(n,r),De(t)}function Ai(e){return ke(_d,e),it({error:e}),Re(e)}function ji(e,t){return ke(_d,t),it({mbox:e,error:t}),Re(t)}function Ii(e){var t=K()[fp],a=e.mbox,r=e.timeout,n=d(e.params)?e.params:{},i=function i(e){return Vi(a,e)},s=function s(e){return ji(a,e)},o={},c={};a===t?c.pageLoad={}:c.mboxes=[{index:0,name:a}],o.execute=c;var l=$r(a,o);if(!A(l)){var u={};u.analytics=l,o.experienceCloud=u}return rt({mbox:a}),Jr(o,n).then(function(e){return nn(e,r)}).then(Ei).then(i)["catch"](s)}function Ti(e){var t=K()[fp],a=e.consumerId,r=a===undefined?t:a,n=e.request,i=e.timeout,s=$r(r,n),o=function o(e){return Ci(e)},c=function c(e){return Ai(e)};if(!A(s)){var l=n.experienceCloud||{};l.analytics=s,n.experienceCloud=l}return rt({}),Jr(n,{}).then(function(e){return nn(e,i)}).then(Ei).then(o)["catch"](c)}function Di(e,t){return ft(t).addClass(e)}function Ri(e,t){return ft(t).css(e)}function xi(e){zg=e}function Oi(){return zg}function Li(e){var t=e.name.toLowerCase(),a=Va(Zp)||{};a[t]=e,Ca(Zp,a)}function Ni(e){var t=e.toLowerCase();return(Va(Zp)||{})[t]}function Fi(e){if(b(e))return null;var t=e.viewName,a=e.page,r=Ni(t);if(b(r))return null;var n=Al({},r);return n.page=a,n}function Mi(){return!A(Va(Zp)||{})}function Ui(e){A(e)||h(Li,e)}function Bi(e,t){return ft(t).attr(e)}function qi(e,t,a){return ft(a).attr(e,t)}function Gi(e,t){return ft(t).removeAttr(e)}function Hi(e,t,a){var r=Bi(e,a);tu(r)&&(Gi(e,a),qi(t,r,a))}function Qi(e,t){return tu(Bi(e,t))}function Wi(e){return new Error("Could not find: "+e)}function zi(){return c(Xg)}function Yi(r,n,i){return Te(function(t,e){var a=new Xg(function(){var e=i(r);A(e)||(a.disconnect(),t(e))});s(function(){a.disconnect(),e(Wi(r))},n),a.observe(Il,Yg)})}function Xi(){return Il[$g]===Kg}function $i(r,n,i){return Te(function(t,e){function a(){var e=i(r);A(e)?jl.requestAnimationFrame(a):t(e)}a(),s(function(){e(Wi(r))},n)})}function Ki(r,n,i){return Te(function(t,e){function a(){var e=i(r);A(e)?s(a,Jg):t(e)}a(),s(function(){e(Wi(r))},n)})}function Ji(e,t,a){var r=1<arguments.length&&t!==undefined?arguments[1]:K()[_p],n=2<arguments.length&&a!==undefined?arguments[2]:ft,i=n(e);return A(i)?zi()?Yi(e,r,n):Xi()?$i(e,r,n):Ki(e,r,n):De(i)}function Zi(e){return Bi(zu,e)}function es(e){return Qi(zu,e)}function ts(e){return h(function(e){return Hi(Ju,zu,e)},V(_t(sd,e))),e}function as(e){return h(function(e){return Hi(zu,Ju,e)},V(_t(sd,e))),e}function rs(e){return we(Od,e),Bi(Ju,qi(Ju,e,bt("<"+sd+"/>")))}function ns(e){var t=m(es,V(_t(sd,e)));return A(t)||h(rs,L(Zi,t)),e}function is(e){return v([ts,ns,as])(e)}function ss(e){var t=Bi(Ju,e);return tu(t)?t:null}function os(e){return m(tu,L(ss,V(_t(Ku,e))))}function cs(e){return M(function(e,t){return e.then(function(){return we(Ud,t),Ie({remoteScript:t}),xl(t)})},De(),e)}function ls(e){return e}function us(e,t){return ke(Sd,t),Ie({action:e,error:t}),e}function ds(e,t){var a=ft(t[vu]),r=is(vt(t[cu])),n=os(r),i=void 0;try{i=De(e(a,r))}catch(s){return Re(us(t,s))}return A(n)?i.then(function(){return ls(t)})["catch"](function(e){return us(t,e)}):i.then(function(){return cs(n)}).then(function(){return ls(t)})["catch"](function(e){return us(t,e)})}function ps(e){var t=vt(e);return O("",M(function(e,t){return e.push(xt(vt(t))),e},[],V(_t(Zg,t))))}function ms(e){var t=Al({},e),a=t[cu];if(I(a))return t;var r=ft(t[vu]);return St(ad,r)&&(t[ou]=Ou,t[cu]=ps(a)),t}function fs(e){return e.indexOf("px")===e.length-2?e:e+"px"}function gs(e,t){return Rt(xt(t),e)}function vs(e){return we(Ed,e),ds(gs,e)}function bs(e){var t=ft(e[vu]),a=e[cu];return we(Ed,e),Ie({action:e}),Ot(a,t),De(e)}function hs(e,t){return Tt(xt(t),e)}function ys(e){return we(Ed,e),ds(hs,e)}function Ps(e,t){return Dt(xt(t),e)}function Ss(e){return we(Ed,e),ds(Ps,e)}function _s(e,t){var a=Pt(e);return At(It(xt(t),e)),a}function ks(e){return we(Ed,e),ds(_s,e)}function ws(e,t){return ht(It(xt(t),e))}function Es(e){return we(Ed,e),ds(ws,e)}function Cs(e,t){return yt(jt(xt(t),e))}function Vs(e){return we(Ed,e),ds(Cs,e)}function As(e,t){return Pt(It(xt(t),e))}function js(e){return we(Ed,e),ds(As,e)}function Is(e){var t=e[cu],a=ft(e[vu]);return we(Ed,e),Ie({action:e}),Gi(Ju,a),qi(Ju,rs(t),a),De(e)}function Ts(e){var t=e[cu],a=ft(e[vu]);return we(Ed,e),Ie({action:e}),h(function(e,t){return qi(t,e,a)},t),De(e)}function Ds(e,t,r){h(function(a){h(function(e,t){return a.style.setProperty(t,e,r)},t)},V(e))}function Rs(e){var t=ft(e[vu]),a=e[cu],r=a[gu];return we(Ed,e),Ie({action:e}),I(r)?Ri(a,t):Ds(t,a,r),De(e)}function xs(e){var t=ft(e[vu]),a=e[cu];return a[uu]=fs(a[uu]),a[lu]=fs(a[lu]),we(Ed,e),Ie({action:e}),Ri(a,t),De(e)}function Os(e){var t=ft(e[vu]),a=e[cu];return a[du]=fs(a[du]),a[pu]=fs(a[pu]),we(Ed,e),Ie({action:e}),Ri(a,t),De(e)}function Ls(e){var t=ft(e[vu]);return we(Ed,e),Ie({action:e}),At(t),De(e)}function Ns(e){var t=ft(e[vu]),a=e[cu],r=a[mu],n=a[fu],i=V(kt(t)),s=i[r],o=i[n];return gt(s)&&gt(o)?(we(Ed,e),Ie({action:e}),r<n?jt(s,o):It(s,o),De(e)):(we(xd,e),Re(e))}function Fs(e){var t=ms(e);switch(t[ou]){case hu:return vs(t);case Pu:return bs(t);case Ou:return ys(t);case Nu:return Ss(t);case Mu:return ks(t);case Ru:return Es(t);case xu:return Vs(t);case ju:return js(t);case _u:return Ts(t);case ku:return Is(t);case wu:return Rs(t);case Cu:return xs(t);case Vu:return Os(t);case Au:return Ls(t);case Eu:return Ns(t);default:return De(t)}}function Ms(e){return e[ou]===Tu||e[ou]===Du}function Us(e){var t=e[vu];return tu(t)||R(t)}function Bs(e){var t=e.key;if(!I(t)&&Us(e)){var a=e[vu];qi(ev,t,a)}}function qs(e){var t=e[bu];I(t)||Ht(t)}function Gs(e){if(Us(e)){var t=e[vu];Ms(e)?Di(cp,t):(Di(op,t),qs(e))}else qs(e)}function Hs(e){h(Gs,e)}function Qs(e){var t=e.key;if(I(t))return!0;if(e[ou]===ju)return e[Kp];var a=e[vu];return Bi(ev,a)!==t}function Ws(a){return Qs(a)?Fs(a).then(function(){return we(wd,a),Ie({action:a}),Bs(a),Gs(a),a})["catch"](function(e){ke(Sd,e),Ie({action:a,error:e}),Gs(a);var t=Al({},a);return t[Bd]=!0,t}):(Gs(a),a)}function zs(e){var t=m(function(e){return!0===e[Bd]},e);return A(t)?De():(Hs(t),Re(e))}function Ys(t){return Ji(t[vu]).then(function(){return t})["catch"](function(){var e=Al({},t);return e[Bd]=!0,e})}function Xs(e){return Ys(e).then(Ws)}function $s(e){return Oe(L(Xs,e)).then(zs)}function Ks(e,t,a){return ft(a).on(e,t)}function Js(e){return Ji(e[vu]).then(function(){return Ie({metric:e}),e})["catch"](function(){return ke(tv,e),Ie({metric:e,message:tv}),Re(e)})}function Zs(e,t,a){return e[av][rv](t,a)}function eo(e,t,a){var r={};r[nm]=[im];var n={};n[Ng]=Lg,n[Fg]=t,n[Ug]=a,n[Bg]=!0,n[Gg]=!1,n[Mg]=r;try{e(n)}catch(i){return!1}return!0}function to(e){return av in e&&rv in e[av]}function ao(e,t){return to(jl)?Zs(jl,e,t):eo(En,e,t)}function ro(e,t,a){var r=$r(e,{}),n={};if(!A(r)){var i={};i.analytics=r,n.experienceCloud=i}var s=Zr(n,t);return s.notifications=a,s}function no(e,t,a){var r={id:G(),type:t,timestamp:F(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return A(a)||(r.tokens=a),r}function io(e,t,a){var r=e.name,n=e.state,i=no(e,t,a);return i.mbox={name:r,state:n},i}function so(e,t,a){var r=e.name,n=e.state,i=no(e,t,a);return i.view={name:r,state:n},i}function oo(e){if(Be()&&!qe())return!1;var t=an(K());return ao(t,JSON.stringify(e))?(we(nv,t,e),!0):(ke(iv,t,e),!1)}function co(e,t,a){var r=K()[fp],n=$a(r),i=no(Qr({},n),t,[a]),s=ro(r,n,[i]);we(lv,e,i),Ie({source:e,event:t,request:s}),oo(s)}function lo(e,t,a){var r=$a(e),n=no(Qr({},r),t,[a]);n.mbox={name:e};var i=ro(e,r,[n]);we(uv,e,n),Ie({mbox:e,event:t,request:i}),oo(i)}function uo(e){var t=K()[fp],i=[],s=rm;if(h(function(e){var t=e.mbox,a=e.data;if(!b(a)){var r=a.eventTokens,n=r===undefined?[]:r;A(n)||i.push(io(t,s,n))}},e),!A(i)){var a=ro(t,{},i);we(cv,i),Ie({source:pv,event:mv,request:a}),oo(a)}}function po(e,t,a){var r=$a(K()[fp]),n=no(Qr({},r),t,[a]);n.view={name:e};var i=ro(e,r,[n]);we(dv,e,n),Ie({view:e,event:t,request:i}),oo(i)}function mo(e){var t=$a(K()[fp]),a=no(Qr({},t),rm,[]);a.view={name:e};var r=ro(e,t,[a]);we(sv,e),Ie({view:e,event:fv,request:r}),nn(r).then(we)["catch"](ke)}function fo(e){if(!b(e)){var t=e.view,a=e.data,r=(a===undefined?{}:a).eventTokens,n=r===undefined?[]:r;if(!A(n)){var i=t.name,s=Ni(i);if(!b(s)){var o=ro(i,{},[so(s,rm,n)]);we(ov,i,n),Ie({view:i,event:mv,request:o}),nn(o).then(we)["catch"](ke)}}}}function go(e,t){e===td&&Di(cp,t)}function vo(e,t){var a=t.type,r=t.selector,n=t.eventToken,i=function i(){return co(e,a,n)};go(a,r),Ks(a,i,r)}function bo(e,t){var a=t.type,r=t.selector,n=t.eventToken,i=function i(){return lo(e,a,n)};go(a,r),Ks(a,i,r)}function ho(e,t){var a=t.type,r=t.selector,n=t.eventToken,i=function i(){return po(e,a,n)};go(a,r),Ks(a,i,r)}function yo(t,e){return Oe(L(Js,e)).then(function(e){return h(function(e){return vo(t,e)},e),hv()})["catch"](yv)}function Po(e){var t=e.name;return Oe(L(Js,bv(e))).then(function(e){return h(function(e){return bo(t,e)},e),hv()})["catch"](yv)}function So(e){var t=e.name;return Oe(L(Js,bv(e))).then(function(e){return h(function(e){return ho(t,e)},e),hv()})["catch"](yv)}function _o(e){return yo(gv,bv(e))}function ko(e){return yo(vv,bv(e))}function wo(e){var t=L(Sv,e);Gt(Sg(t))}function Eo(e){var t=m(yg,_g(e));return g(L(Pv,t))}function Co(e,t,a){return L(function(e){return Al({key:t,page:a},e)},e)}function Vo(e,t,a){var r=e.eventToken;return $s(Co(e.content,t,a)).then(function(){return _v(r)})["catch"](kv)}function Ao(e,t){return L(e,m(yg,_g(t)))}function jo(e,t,a){var r=Fl({status:Qd},e,t),n=L(jg,m(hg,a)),i={};return A(n)||(r.status=Bd,i.errors=n),A(i)||(r.data=i),r}function Io(e,t,a){var r=Fl({status:Qd},e,t),n=L(jg,m(hg,a)),i=L(jg,m(wv,a)),s={};return A(n)||(r.status=Bd,s.errors=n),A(i)||(s.eventTokens=i),A(s)||(r.data=s),r}function To(t,e,a){var r=function r(e){return Vo(e,!0)};return Oe(Ao(r,t)).then(e).then(function(e){return a(t),e})}function Do(t,a,r,n){var i=a.name,s=function s(e){return Vo(e,i,r)};return Oe(Ao(s,a)).then(function(e){return Io(t,a,e)}).then(function(e){return n(a),e})}function Ro(t){var a=function a(e){return jo(Yd,t,e)};return To(t,a,Po)}function xo(e){return Do(Yd,e,!0,Po)}function Oo(e){wo(Eo(e))}function Lo(e){var t=e.execute,a=(t===undefined?{}:t).pageLoad,r=a===undefined?{}:a;A(r)||Oo(r);var n=Oi();if(!b(n)){var i=Fi(n);b(i)||Oo(i)}}function No(t){var a=function a(e){return jo(ip,t,e)};return To(t,a,_o)}function Fo(e){return Oe(L(Ro,e))}function Mo(e){return Oe(L(xo,e))}function Uo(e){return Oe([ko(e)]).then(jo)}function Bo(e){var t=e.page;return Do(Jp,e,t,So)}function qo(e){return{type:Iu,content:e.url}}function Go(e){var t={};return t.type=hu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Ho(e){var t={};return t.type=Pu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Qo(e){var t={};return t.type=Ou,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Wo(e){var t={};return t.type=Nu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function zo(e){var t={};return t.type=Mu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Yo(e){var t={};return t.type=Ru,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Xo(e){var t={};return t.type=xu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function $o(e){var t={};return t.type=ju,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Ko(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===Ju)return t.type=ku,t.content=e.value,t;t.type=_u;var a={};return a[e.attribute]=e.value,t.content=a,t}function Jo(e){var t=e.style,a=t===undefined?{}:t,r={};return r.selector=e.selector,r.cssSelector=e.cssSelector,b(a.left)||b(a.top)?b(a.width)||b(a.height)?r.type=wu:r.type=Cu:r.type=Vu,r.content=a,r}function Zo(e){var t={};return t.type=Au,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ec(e){var t={};t.from=e.from,t.to=e.to;var a={};return a.type=Eu,a.selector=e.selector,a.cssSelector=e.cssSelector,a.content=t,a}function tc(e){return tu(e.selector)&&tu(e.cssSelector)}function ac(e){var t={};if(A(e))return t;var a=[],r=[],n=[];h(function(e){switch(e.action){case yu:tc(e)?n.push(Go(e)):a.push({type:Xu,content:e.content});break;case Su:A(e.content)||h(function(e){return a.push({type:Yu,content:e})},e.content);break;case Pu:n.push(Ho(e));break;case Lu:n.push(Qo(e));break;case Fu:n.push(Wo(e));break;case Uu:n.push(zo(e));break;case Ru:n.push(Yo(e));break;case xu:n.push(Xo(e));break;case ju:n.push($o(e));break;case _u:n.push(Ko(e));break;case wu:n.push(Jo(e));break;case Au:n.push(Zo(e));break;case Eu:n.push(ec(e));break;case Iu:a.push(qo(e));break;case Tu:r.push({type:td,selector:e.selector,eventToken:e.clickTrackId})}},e);var i={};if(!A(n)&&a.push({type:Zd,content:n}),!A(a)&&(i.options=a),!A(r)&&(i.metrics=r),A(i))return t;var s={};return s.pageLoad=i,t.execute=s,t}function rc(e,t){var a={};if(A(t))return a;var r=[],n=[];h(function(e){switch(e.action){case yu:r.push({type:Xu,content:e.content});break;case Su:A(e.content)||h(function(e){return r.push({type:Yu,content:e})},e.content);break;case Iu:r.push(qo(e));break;case Du:n.push({type:td,eventToken:e.clickTrackId})}},t);var i={name:e};if(!A(r)&&(i.options=r),!A(n)&&(i.metrics=n),A(i))return a;var s={},o=[i];return s.mboxes=o,a.execute=s,a}function nc(e,t,a){return a?ac(t):rc(e,t)}function ic(e){var t=e.status,a=e.data,r={status:t,pageLoad:!0};return b(a)||(r.data=a),r}function sc(e){var t=e.status,a=e.mbox,r=e.data,n={status:t,mbox:a.name};return b(r)||(n.data=r),n}function oc(e){var t=e.status,a=e.view,r=e.data,n={status:t,view:a.name};return b(r)||(n.data=r),n}function cc(e){var t=e.status,a=e.data,r={status:t,prefetchMetrics:!0};return b(a)||(r.data=a),r}function lc(e){if(b(e))return[null];var t=L(ic,[e]);return jv(t)&&ke(Ev,e),t}function uc(e){if(b(e))return[null];var t=L(sc,e);return jv(t)&&ke(Cv,e),t}function dc(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:uo;if(b(e))return[null];var r=L(sc,e);return jv(r)&&ke(Cv,e),a(e),r}function pc(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:fo;if(b(e))return[null];var r=L(oc,[e]);return jv(r)&&ke(Vv,e),e.view.page&&a(e),r}function mc(e){if(b(e))return[null];var t=L(cc,[e]);return jv(t)&&ke(Av,e),t}function fc(e){var t=g([lc(e[0]),uc(e[1]),dc(e[2]),pc(e[3]),mc(e[4])]),a=m(vg,t),r=m(hg,a);return A(r)?De(a):Re(r)}function gc(e){return Re(e)}function vc(r,e){if(!A(e)){var t=e.options;A(t)||h(function(e){if(e.type===Xu){var t=hu,a=e.content;e.type=Zd,e.content=[{type:t,selector:r,content:a}]}},t)}}function bc(t,e){var a=e.metrics;if(!A(a)){var r=e.name;h(function(e){e.name=r,e.selector=e.selector||t},a)}}function hc(t,e){var a=Al({},e),r=a.execute,n=r===undefined?{}:r,i=a.prefetch,s=i===undefined?{}:i,o=n.pageLoad,c=o===undefined?{}:o,l=n.mboxes,u=l===undefined?[]:l,d=s.mboxes,p=d===undefined?[]:d;return vc(t,c),h(function(e){return vc(t,e)},u),h(function(e){return bc(t,e)},u),h(function(e){return vc(t,e)},p),h(function(e){return bc(t,e)},p),a}function yc(e){var t=[],a=e.execute,
r=a===undefined?{}:a,n=r.pageLoad,i=n===undefined?{}:n,s=r.mboxes,o=s===undefined?[]:s;A(i)?t.push(De(null)):t.push(No(i)),Ol(o)&&!A(o)?t.push(Fo(o)):t.push(De(null));var c=e.prefetch,l=c===undefined?{}:c,u=l.mboxes,d=u===undefined?[]:u,p=l.metrics,m=p===undefined?[]:p,f=!A(l);Ol(d)&&!A(d)?t.push(Mo(d)):t.push(De(null)),f&&Ui(l.views);var g=Oi();if(b(g))t.push(De(null));else{var v=Fi(g);b(v)?t.push(De(null)):t.push(Bo(v))}return Ol(m)&&!A(m)?t.push(Uo(l)):t.push(De(null)),qt(),Oe(t).then(fc)["catch"](gc)}function Pc(e,t){s(function(){return e.location.replace(t)})}function Sc(e){return tu(e)?e:R(e)?e:ad}function _c(e){Di(op,e)}function kc(e){var t=e.mbox,a=e.selector,r=e.offer,n=K(),i=t===n[fp];if(A(r))return we(Fd),_c(a),qt(),void lt({mbox:t});var s=hc(a,nc(t,r,i)),o=ki(s);if(!A(o)){var c=o.url;return we(Md,o),ut({url:c}),void Pc(jl,c)}st({mbox:t}),Lo(s),yc(s).then(function(e){A(e)||ot({mbox:t,execution:e})})["catch"](function(e){return ct({error:e})})}function wc(e,t){var a=e.selector,r=e.response;if(A(r))return we(Fd),_c(a),qt(),lt({}),De();var n=hc(a,r),i=ki(n);if(A(i))return st({}),b(t)&&Lo(n),yc(n).then(function(e){A(e)||ot({execution:e})})["catch"](function(e){return ct({error:e})});var s=i.url;return we(Md,i),ut({url:s}),Pc(jl,s),De()}function Ec(e){var t=e[Sm];if(A(t))return!1;var a=t.request,r=t.response;return!A(a)&&!A(r)}function Cc(e){return e[Sm]}function Vc(e){ke(Iv,om,e),Ie({source:Iv,error:e}),qt()}function Ac(e,t){we(Iv,ap,e),Ie({source:Iv,response:e}),wc({selector:ad,response:e},t)["catch"](Vc)}function jc(e){var t=Cc(e),a=t.request,r=t.response;we(Iv,dm),Ie({source:Iv,serverState:t}),Lo(r),Ei({request:a,response:r}).then(function(e){return Ac(e,!0)})["catch"](Vc)}function Ic(){if(!be())return ke(Iv,cd),void Ie({source:Iv,error:cd});Jt(jl);var e=K();if(Ec(e))jc(e);else{var t=e[zp],a=e[Wp];if(!t&&!a)return we(Iv,um),void Ie({source:Iv,error:um});Bt();var r={};if(t){var n={pageLoad:{}};r.execute=n}if(a){var i={views:[{}]};r.prefetch=i}var s=e[mp];we(Iv,rp,r),Ie({source:Iv,request:r}),Ti({request:r,timeout:s}).then(Ac)["catch"](Vc)}}function Tc(){var e={};return e[Hd]=!0,e}function Dc(e){var t={};return t[Hd]=!1,t[Bd]=e,t}function Rc(e){return I(e)?Dc(vd):e.length>Wu?Dc(bd):Tc()}function xc(e){if(!d(e))return Dc(ud);var t=Rc(e[Yd]);return t[Hd]?c(e[Qd])?c(e[Bd])?Tc():Dc(yd):Dc(hd):t}function Oc(e){if(!d(e))return Dc(ud);var t=e.request;if(!d(t))return Dc(dd);var a=t.execute,r=t.prefetch;return d(a)||d(r)?Tc():Dc(md)}function Lc(e){if(!d(e))return Dc(ud);var t=e.request;if(!d(t))return Dc(dd);var a=t.execute,r=t.prefetch,n=t.notifications;return d(a)||d(r)?Dc(fd):Ol(n)?Tc():Dc(gd)}function Nc(e){if(!d(e))return Dc(ud);var t=Rc(e[Yd]);if(!t[Hd])return t;var a=e[Xd];return Ol(a)?Tc():Dc(Pd)}function Fc(e){return d(e)?d(e.response)?Tc():Dc(pd):Dc(ud)}function Mc(e){if(!d(e))return Dc(ud);var t=Rc(e[Yd]);return t[Hd]?Tc():t}function Uc(e){return{action:Iu,url:e.content}}function Bc(e){var t={};return t.action=yu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function qc(e){var t={};return t.action=Pu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Gc(e){var t={};return t.action=Lu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Hc(e){var t={};return t.action=Fu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Qc(e){var t={};return t.action=Uu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Wc(e){var t={};return t.action=Ru,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function zc(e){var t={};return t.action=xu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Yc(e){var t={};return t.action=ju,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Xc(e){var t=p(e.content)[0],a={};return a.action=_u,a.attribute=t,a.value=e.content[t],a.selector=e.selector,a.cssSelector=e.cssSelector,a}function $c(e){var t={};return t.action=_u,t.attribute=Ju,t.value=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Kc(e){var t={};return t.action=wu,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Jc(e){var t={};return t.action=wu,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Zc(e){var t={};return t.action=wu,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function el(e){var t={};return t.action=Au,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function tl(e){var t={};return t.action=Eu,t.from=e.content.from,t.to=e.content.to,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function al(e){var t=[];return h(function(e){switch(e.type){case hu:t.push(Bc(e));break;case Pu:t.push(qc(e));break;case Ou:t.push(Gc(e));break;case Nu:t.push(Hc(e));break;case Mu:t.push(Qc(e));break;case Ru:t.push(Wc(e));break;case xu:t.push(zc(e));break;case ju:t.push(Yc(e));break;case _u:t.push(Xc(e));break;case ku:t.push($c(e));break;case wu:t.push(Kc(e));break;case Cu:t.push(Jc(e));break;case Vu:t.push(Zc(e));break;case Au:t.push(el(e));break;case Eu:t.push(tl(e));break;case Iu:t.push(Uc(e))}},e),t}function rl(e){if(A(e))return[];var t=[];return h(function(e){e.type===td&&(Ag(e)?t.push({action:Tu,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:Du,clickTrackId:e.eventToken}))},e),t}function nl(e){if(A(e))return[];var t=[],a=[],r=[],n=e.options,i=n===undefined?[]:n,s=e.metrics,o=s===undefined?[]:s;h(function(e){switch(e.type){case Xu:t.push(e.content);break;case Yu:a.push(e.content);break;case Iu:r.push(Uc(e));break;case Zd:r.push.apply(r,al(e.content))}},i),A(t)||r.push({action:yu,content:t.join("")}),A(a)||r.push({action:Su,content:a});var c=rl(o);return A(c)||r.push.apply(r,c),r}function il(e){var t=e.execute,a=t===undefined?{}:t,r=a.pageLoad,n=r===undefined?{}:r,i=a.mboxes,s=i===undefined?[]:i,o=[];return o.push.apply(o,nl(n)),o.push.apply(o,g(L(nl,s))),o}function sl(e,t){var a=il(t);e[Qd](a)}function ol(e,t){var a=t[Kd]||Gd;e[Bd](a,t)}function cl(t){var e=xc(t),a=e[Bd];if(!e[Hd])return ke(Tv,a),void Ie({source:Tv,options:t,error:a});if(!be())return s(t[Bd](qd,cd)),ke(Tv,cd),void Ie({source:Tv,options:t,error:cd});var r=function r(e){return sl(t,e)},n=function n(e){return ol(t,e)};we(Tv,t),Ie({source:Tv,options:t}),Ii(t).then(r)["catch"](n)}function ll(e){var t=Oc(e),a=t[Bd];return t[Hd]?be()?(we(Dv,e),Ie({source:Dv,options:e}),Ti(e)):(ke(Dv,cd),Ie({source:Dv,options:e,error:cd}),Re(new Error(cd))):(ke(Dv,a),Ie({source:Dv,options:e,error:a}),Re(t))}function ul(e){var t=Sc(e.selector),a=Nc(e),r=a[Bd];return a[Hd]?be()?(e.selector=t,we(Rv,e),Ie({source:Rv,options:e}),void kc(e)):(ke(Rv,cd),Ie({source:Rv,options:e,error:cd}),void _c(t)):(ke(Rv,e,r),Ie({source:Rv,options:e,error:r}),void _c(t))}function dl(e){var t=Sc(e.selector),a=Fc(e),r=a[Bd];return a[Hd]?be()?(e.selector=t,we(xv,e),Ie({source:xv,options:e}),wc(e)):(ke(xv,cd),Ie({source:xv,options:e,error:cd}),_c(t),Re(new Error(cd))):(ke(xv,e,r),Ie({source:xv,options:e,error:r}),_c(t),Re(a))}function pl(e){var t=K()[fp],a=e.consumerId,r=a===undefined?t:a,n=e.request,i=Lc(e),s=i[Bd];return i[Hd]?be()?(we(Ov,e),Ie({source:Ov,options:e}),void oo(ro(r,{},n.notifications))):(ke(Ov,cd),void Ie({source:Ov,options:e,error:cd})):(ke(Ov,s),void Ie({source:Ov,options:e,error:s}))}function ml(e,t){var a=t[Yd],r=Al({},t),n=d(t.params)?t.params:{};return r[Jd]=Al({},$a(a),n),r[mp]=en(e,t[mp]),r[Qd]=c(t[Qd])?t[Qd]:N,r[Bd]=c(t[Bd])?t[Bd]:N,r}function fl(e){var t=e[ou],a=e[vu];return tu(t)&&(tu(a)||R(a))}function gl(e){var t=e.mbox,a=d(e.params)?e.params:{},r=Al({},$a(t),a),n=rm,i=no(Qr({},r),n,[]);if(i.mbox={name:t},oo(ro(t,r,[i])))return we(Ld,e),void e[Qd]();ke(Nd,e),e[Bd](Gd,Nd)}function vl(e){return gl(e),!e.preventDefault}function bl(e){var t=e[vu],a=e[ou],r=V(ft(t)),n=function n(){return vl(e)};h(function(e){return Ks(a,n,e)},r)}function hl(e){var t=Mc(e),a=t[Bd];if(!t[Hd])return ke(Lv,a),void Ie({source:Lv,options:e,error:a});var r=ml(K(),e);if(!be())return ke(Lv,cd),s(r[Bd](qd,cd)),void Ie({source:Lv,options:e,error:cd});we(Lv,r),Ie({source:Lv,options:r}),fl(r)?bl(r):gl(r)}function yl(e,t){var a={};return a.viewName=e,a.page=!0,A(t)||(a.page=!!t.page),a}function Pl(e){if(Et(e),xi(e),Mi()){var t=Oi(),a=t.viewName,r=Fi(t);b(r)?mo(a):wc({selector:ad,response:{prefetch:{views:[r]}}})["catch"](function(e){return ke(sm,e)})}else we(cm)}function Sl(e,t){if(!P(e)||I(e))return ke(Nv,lm,e),void Ie({source:Nv,view:e,error:lm});var a=e.toLowerCase(),r=yl(a,t);we(Nv,a,r),Ie({source:Nv,view:a,options:r}),Pl(r)}function _l(){ke(Mv,arguments)}function kl(){ke(Uv,arguments)}function wl(){ke(Bv,arguments)}function El(){ke(qv,arguments)}function Cl(e){var t=function t(){},a=function a(){return De()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:a,applyOffer:t,applyOffers:a,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function Vl(e,t,a){if(e.adobe&&e.adobe.target&&"undefined"!=typeof e.adobe.target.getOffer)ke(ld);else{$(a);var r=K(),n=r[vp];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=n,e.adobe.target.event={LIBRARY_LOADED:Xm,REQUEST_START:$m,REQUEST_SUCCEEDED:Km,REQUEST_FAILED:Jm,CONTENT_RENDERING_START:Zm,CONTENT_RENDERING_SUCCEEDED:ef,CONTENT_RENDERING_FAILED:tf,CONTENT_RENDERING_NO_OFFERS:af,CONTENT_RENDERING_REDIRECT:rf},!r[lp])return Cl(e),void ke(cd);Ae(),Vt(),e.adobe.target.getOffer=cl,e.adobe.target.getOffers=ll,e.adobe.target.applyOffer=ul,e.adobe.target.applyOffers=dl,e.adobe.target.sendNotifications=pl,e.adobe.target.trackEvent=hl,e.adobe.target.triggerView=Sl,e.adobe.target.registerExtension=_l,e.mboxCreate=kl,e.mboxDefine=wl,e.mboxUpdate=El,at()}}var Al=r(a("@adobe/reactor-object-assign")),jl=r(a("@adobe/reactor-window")),Il=r(a("@adobe/reactor-document")),Tl=r(a("@adobe/reactor-query-string")),Dl=r(a("@adobe/reactor-cookie")),Rl=r(a("@adobe/reactor-promise")),xl=r(a("@adobe/reactor-load-script")),Ol=Array.isArray,Ll=Object.prototype.toString,Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},Ml="[object Function]",Ul=function Ul(e,t){return t.forEach(e)},Bl=function Bl(t,a){Ul(function(e){return t(a[e],e)},p(a))},ql=function ql(e,t){return t.filter(e)},Gl=function Gl(a,e){var r={};return Bl(function(e,t){a(e,t)&&(r[t]=e)},e),r},Hl="[object String]",Ql=9007199254740991,Wl=function Wl(e,t){return t.map(e)},zl=Object.prototype.hasOwnProperty,Yl=String.prototype.trim,Xl="[object Object]",$l=Function.prototype,Kl=Object.prototype,Jl=$l.toString,Zl=Kl.hasOwnProperty,eu=Jl.call(Object),tu=function tu(e){return!I(e)},au="[object Number]",ru=function ru(a,e){var r={};return Bl(function(e,t){r[t]=a(e,t)},e),r},nu=function nu(e,t,a){return a.reduce(e,t)},iu=function iu(a,e,t){var r=e;return Bl(function(e,t){r=a(r,e,t)},t),r},su=Array.prototype.reverse,ou="type",cu="content",lu="height",uu="width",du="left",pu="top",mu="from",fu="to",gu="priority",vu="selector",bu="cssSelector",hu="setHtml",yu="setContent",Pu="setText",Su="setJson",_u="setAttribute",ku="setImageSource",wu="setStyle",Eu="rearrange",Cu="resize",Vu="move",Au="remove",ju="customCode",Iu="redirect",Tu="trackClick",Du="signalClick",Ru="insertBefore",xu="insertAfter",Ou="appendHtml",Lu="appendContent",Nu="prependHtml",Fu="prependContent",Mu="replaceHtml",Uu="replaceContent",Bu="mboxDebug",qu="mboxDisable",Gu="mboxEdit",Hu="check",Qu="true",Wu=250,zu="data-at-src",Yu="json",Xu="html",$u="dynamic",Ku="script",Ju="src",Zu="id",ed="class",td="click",ad="head",rd="script",nd="style",id="link",sd="img",od="div",cd='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',ld="Adobe Target has already been initialized.",ud="options argument is required",dd="request option is required",pd="response option is required",md="execute or prefetch is required",fd="execute or prefetch is not allowed",gd="notifications are required",vd="mbox option is required",bd="mbox option is too long",hd="success option is required",yd="error option is required",Pd="offer option is required",Sd="Unexpected error",_d="request failed",kd="request succeeded",wd="Action rendered successfully",Ed="Rendering action",Cd="Action has no content",Vd="Action has no attributes",Ad="Action has no CSS properties",jd="Action has no height or width",Id="Action has no left, top or position",Td="Action has no from or to",Dd="Action has no url",Rd="Action has no image url",xd="Rearrange elements are missing",Od="Loading image",Ld="Track event request succeeded",Nd="Track event request failed",Fd="No actions to be rendered",Md="Redirect action",Ud="Script load",Bd="error",qd="warning",Gd="unknown",Hd="valid",Qd="success",Wd="render",zd="metric",Yd="mbox",Xd="offer",$d="name",Kd="status",Jd="params",Zd="actions",ep="responseTokens",tp="data",ap="response",rp="request",np="provider",ip="pageLoad",sp="at-flicker-control",op="at-element-marker",cp="at-element-click-tracking",lp="enabled",up="clientCode",dp="imsOrgId",pp="serverDomain",mp="timeout",fp="globalMboxName",gp="globalMboxAutoCreate",vp="version",bp="defaultContentHiddenStyle",hp="bodyHiddenStyle",yp="bodyHidingEnabled",Pp="deviceIdLifetime",Sp="sessionIdLifetime",_p="selectorsPollingTimeout",kp="visitorApiTimeout",wp="overrideMboxEdgeServer",Ep="overrideMboxEdgeServerTimeout",Cp="optoutEnabled",Vp="secureOnly",Ap="supplementalDataIdParamTimeout",jp="authoringScriptUrl",Ip="scheme",Tp="cookieDomain",Dp="mboxParams",Rp="globalMboxParams",xp="PC",Op="mboxEdgeCluster",Lp="session",Np="Traces",Fp="settings",Mp="client"+Np,Up="server"+Np,Bp="___target_traces",qp="targetGlobalSettings",Gp="dataProvider",Hp=Gp+"s",Qp="endpoint",Wp="viewsEnabled",zp="pageLoadEnabled",Yp="authState",Xp="authenticatedState",$p="integrationCode",Kp="page",Jp="view",Zp="views",em="options",tm="metrics",am="viewName",rm="display",nm="Content-Type",im="text/plain",sm="View rendering failed",om="View delivery error",cm="View delivery, no saved views",lm="View name should be a non-empty string",um="Page load disabled",dm="Using server state",pm="adobe",mm="optIn",fm="isApproved",gm="fetchPermissions",vm="Categories",bm="TARGET",hm="ANALYTICS",ym="optinEnabled",Pm="analyticsLogging",Sm="serverState",_m="file:",km=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,wm=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,Em={},Cm=[lp,up,dp,pp,Tp,mp,Dp,Rp,bp,"defaultContentVisibleStyle",hp,yp,_p,kp,wp,Ep,Cp,ym,Vp,Ap,jp,"urlSizeLimit",Qp,zp,Wp,Pm,Sm],Vm=function Hv(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},a=r.parser[t.strictMode?"strict":"loose"].exec(e),n={},i=14;i--;)n[r.key[i]]=a[i]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(e,t,a){t&&(n[r.q.name][t]=a)}),n},Am=Tl.parse,jm=Tl.stringify,Im=Il.createElement("a"),Tm={},Dm=Dl.get,Rm=Dl.set,xm=Dl.remove,Om="mbox",Lm="AT:",Nm="1",Fm="Expected an array of promises",Mm="Adobe Target is not opted in",Um=G(),Bm=/.*\.(\d+)_\d+/;Je(jl,Il);var qm,Gm,Hm,Qm,Wm,zm,Ym,Xm="at-library-loaded",$m="at-request-start",Km="at-request-succeeded",Jm="at-request-failed",Zm="at-content-rendering-start",ef="at-content-rendering-succeeded",tf="at-content-rendering-failed",af="at-content-rendering-no-offers",rf="at-content-rendering-redirect",nf=(qm=window,function(d){function p(e){return e._zid||(e._zid=t++)}function s(e,t,a,r){if((t=m(t)).ns)var n=i(t.ns);return(k[p(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||n.test(e.ns))&&(!a||p(e.fn)===p(a))&&(!r||e.sel==r)})}function m(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function f(e,t){return e.del&&!a&&e.e in r||!!t}function g(e){return w[e]||a&&r[e]||e}function v(i,e,t,s,o,c,l){var a=p(i),u=k[a]||(k[a]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return d(document).ready(t);var a=m(e);a.fn=t,a.sel=o,a.e in w&&(t=function n(e){var t=e.relatedTarget;if(!t||t!==this&&!d.contains(this,t))return a.fn.apply(this,arguments)});var r=(a.del=c)||t;a.proxy=function(e){if(!(e=h(e)).isImmediatePropagationStopped()){e.data=s;var t=r.apply(i,e._args==P?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},a.i=u.length,u.push(a),"addEventListener"in i&&i.addEventListener(g(a.e),a.proxy,f(a,l))})}function b(t,e,a,r,n){var i=p(t);(e||"").split(/\s/).forEach(function(e){s(t,e,a,r).forEach(function(e){delete k[i][e.i],"removeEventListener"in t&&t.removeEventListener(g(e.e),e.proxy,f(e,n))})})}function h(r,n){if(n||!r.isDefaultPrevented){n||(n=r),d.each(u,function(e,t){var a=n[e];r[e]=function(){return this[t]=c,a&&a.apply(n,arguments)},r[t]=E});try{r.timeStamp||(r.timeStamp=(new Date).getTime())}catch(e){}(n.defaultPrevented!==P?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(r.isDefaultPrevented=c)}return r}function y(e){var t,a={originalEvent:e};for(t in e)l.test(t)||e[t]===P||(a[t]=e[t]);return h(a,e)}var P,t=1,S=Array.prototype.slice,n=d.isFunction,_=function _(e){return"string"==typeof e},k={},o={},a="onfocusin"in qm,r={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents",d.event={add:v,remove:b},d.proxy=function(e,t){var a=2 in arguments&&S.call(arguments,2);if(n(e)){var r=function r(){return e.apply(t,a?a.concat(S.call(arguments)):arguments)};return r._zid=p(e),r}if(_(t))return a?(a.unshift(e[t],e),d.proxy.apply(null,a)):d.proxy(e[t],e);throw new TypeError("expected function")},d.fn.bind=function(e,t,a){return this.on(e,t,a)},d.fn.unbind=function(e,t){return this.off(e,t)},d.fn.one=function(e,t,a,r){return this.on(e,t,a,r,1)};var c=function c(){return!0},E=function E(){return!1},l=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,u={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};d.fn.delegate=function(e,t,a){return this.on(t,e,a)},d.fn.undelegate=function(e,t,a){return this.off(t,e,a)},d.fn.live=function(e,t){return d(document.body).delegate(this.selector,e,t),this},d.fn.die=function(e,t){return d(document.body).undelegate(this.selector,e,t),this},d.fn.on=function(a,i,s,o,c){var l,u,r=this;return a&&!_(a)?(d.each(a,function(e,t){r.on(e,i,s,t,c)}),r):(_(i)||n(o)||!1===o||(o=s,s=i,i=P),o!==P&&!1!==s||(o=s,s=P),!1===o&&(o=E),r.each(function(e,r){c&&(l=function t(e){return b(r,e.type,o),o.apply(this,arguments)}),i&&(u=function n(e){var t,a=d(e.target).closest(i,r).get(0);if(a&&a!==r)return t=d.extend(y(e),{currentTarget:a,liveFired:r}),(l||o).apply(a,[t].concat(S.call(arguments,1)))}),v(r,a,o,s,i,u||l)}))},d.fn.off=function(e,a,t){var r=this;return e&&!_(e)?(d.each(e,function(e,t){r.off(e,a,t)}),r):(_(a)||n(t)||!1===t||(t=a,a=P),!1===t&&(t=E),r.each(function(){b(this,e,t,a)}))},d.fn.trigger=function(e,t){return(e=_(e)||d.isPlainObject(e)?d.Event(e):h(e))._args=t,this.each(function(){e.type in r&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):d(this).triggerHandler(e,t)})},d.fn.triggerHandler=function(a,r){var n,i;return this.each(function(e,t){(n=y(_(a)?d.Event(a):a))._args=r,n.target=t,d.each(s(t,a.type||a),function(e,t){if(i=t.proxy(n),n.isImmediatePropagationStopped())return!1})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){d.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),d.Event=function(e,t){_(e)||(e=(t=e).type);var a=document.createEvent(o[e]||"Events"),r=!0;if(t)for(var n in t)"bubbles"==n?r=!!t[n]:a[n]=t[n];return a.initEvent(e,r,!0),h(a)}}(Ym=function(){function l(e){return null==e?String(e):X[$.call(e)]||"object"}function s(e){return"function"==l(e)}function i(e){return null!=e&&e==e.window}function o(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(e){return"object"==l(e)}function c(e){return r(e)&&!i(e)&&Object.getPrototypeOf(e)==Object.prototype}function u(e){var t=!!e&&"length"in e&&e.length,a=C.type(e);return"function"!=a&&!i(e)&&("array"==a||0===t||"number"==typeof t&&0<t&&t-1 in e)}function n(e){return D.call(e,function(e){return null!=e})}function d(e){return 0<e.length?C.fn.concat.apply([],e):e}function p(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function a(e){return e in t?t[e]:t[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function m(e,t){return"number"!=typeof t||L[p(e)]?t:t+"px"}function e(e){var t,a;return O[e]||(t=x.createElement(e),x.body.appendChild(t),a=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==a&&(a="block"),O[e]=a),O[e]}function f(e){return"children"in e?R.call(e.children):C.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function g(e,t){var a,r=e?e.length:0;for(a=0;a<r;a++)this[a]=e[a];this.length=r,this.selector=t||""}function v(e,t,a){for(E in t)a&&(c(t[E])||ee(t[E]))?(c(t[E])&&!c(e[E])&&(e[E]={}),ee(t[E])&&!ee(e[E])&&(e[E]=[]),v(e[E],t[E],a)):t[E]!==w&&(e[E]=t[E])}function b(e,t){return null==t?C(e):C(e).filter(t)}function h(e,t,a,r){return s(t)?t.call(e,a,r):t}function y(e,t,a){null==a?e.removeAttribute(t):e.setAttribute(t,a)}function P(e,t){var a=e.className||"",r=a&&a.baseVal!==w;if(t===w)return r?a.baseVal:a;r?a.baseVal=t:e.className=t}function S(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?C.parseJSON(e):e):e}catch(t){return e}}function _(e,t){t(e);for(var a=0,r=e.childNodes.length;a<r;a++)_(e.childNodes[a],t)}function k(e,t){var a=e.getElementsByTagName("script")[0];if(a){var r=a.parentNode;if(r){var n=e.createElement("script");n.innerHTML=t,r.appendChild(n),r.removeChild(n)}}}var w,E,C,V,A,j,I=[],T=I.concat,D=I.filter,R=I.slice,x=qm.document,O={},t={},L={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},N=/^\s*<(\w+|!)[^>]*>/,F=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,M=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,U=/^(?:body|html)$/i,B=/([A-Z])/g,q=["val","css","html","text","data","width","height","offset"],G=["after","prepend","before","append"],H=x.createElement("table"),Q=x.createElement("tr"),W={tr:x.createElement("tbody"),tbody:H,thead:H,tfoot:H,td:Q,th:Q,"*":x.createElement("div")},z=/complete|loaded|interactive/,Y=/^[\w-]*$/,X={},$=X.toString,K={},J=x.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},ee=Array.isArray||function(e){return e instanceof Array};return K.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var a=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(a)return a.call(e,t);var r,n=e.parentNode,i=!n;return i&&(n=J).appendChild(e),r=~K.qsa(n,t).indexOf(e),i&&J.removeChild(e),r},A=function A(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},j=function j(a){return D.call(a,function(e,t){return a.indexOf(e)==t})},K.fragment=function(e,t,a){var r,n,i;return F.test(e)&&(r=C(x.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(M,"<$1></$2>")),t===w&&(t=N.test(e)&&RegExp.$1),t in W||(t="*"),(i=W[t]).innerHTML=""+e,r=C.each(R.call(i.childNodes),function(){i.removeChild(this)})),c(a)&&(n=C(r),C.each(a,function(e,t){-1<q.indexOf(e)?n[e](t):n.attr(e,t)})),r},K.Z=function(e,t){return new g(e,t)},K.isZ=function(e){return e instanceof K.Z},K.init=function(e,t){var a;if(!e)return K.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&N.test(e))a=K.fragment(e,RegExp.$1,t),e=null;else{if(t!==w)return C(t).find(e);a=K.qsa(x,e)}else{if(s(e))return C(x).ready(e);if(K.isZ(e))return e;if(ee(e))a=n(e);else if(r(e))a=[e],e=null;else if(N.test(e))a=K.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==w)return C(t).find(e);a=K.qsa(x,e)}}return K.Z(a,e)},(C=function C(e,t){return K.init(e,t)}).extend=function(t){var a,e=R.call(arguments,1);return"boolean"==typeof t&&(a=t,t=e.shift()),e.forEach(function(e){v(t,e,a)}),t},K.qsa=function(e,t){var a,r="#"==t[0],n=!r&&"."==t[0],i=r||n?t.slice(1):t,s=Y.test(i);return e.getElementById&&s&&r?(a=e.getElementById(i))?[a]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:R.call(s&&!r&&e.getElementsByClassName?n?e.getElementsByClassName(i):e.getElementsByTagName(t):e.querySelectorAll(t))},C.contains=x.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},C.type=l,C.isFunction=s,C.isWindow=i,C.isArray=ee,C.isPlainObject=c,C.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},C.isNumeric=function(e){var t=Number(e),a=void 0===e?"undefined":Nl(e);return null!=e&&"boolean"!=a&&("string"!=a||e.length)&&!isNaN(t)&&isFinite(t)||!1},C.inArray=function(e,t,a){return I.indexOf.call(t,e,a)},C.camelCase=A,C.trim=function(e){return null==e?"":String.prototype.trim.call(e)},C.uuid=0,C.support={},C.expr={},C.noop=function(){},C.map=function(e,t){var a,r,n,i=[];if(u(e))for(r=0;r<e.length;r++)null!=(a=t(e[r],r))&&i.push(a);else for(n in e)null!=(a=t(e[n],n))&&i.push(a);return d(i)},C.each=function(e,t){var a,r;if(u(e)){for(a=0;a<e.length;a++)if(!1===t.call(e[a],a,e[a]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},C.grep=function(e,t){return D.call(e,t)},qm.JSON&&(C.parseJSON=JSON.parse),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()}),C.fn={constructor:K.Z,length:0,forEach:I.forEach,reduce:I.reduce,push:I.push,sort:I.sort,splice:I.splice,indexOf:I.indexOf,concat:function te(){var e,t,a=[];for(e=0;e<arguments.length;e++)t=arguments[e],a[e]=K.isZ(t)?t.toArray():t;return T.apply(K.isZ(this)?this.toArray():this,a)},map:function ae(a){return C(C.map(this,function(e,t){return a.call(e,t,e)}))},slice:function re(){return C(R.apply(this,arguments))},ready:function ne(e){return z.test(x.readyState)&&x.body?e(C):x.addEventListener("DOMContentLoaded",function(){e(C)},!1),this},get:function ie(e){return e===w?R.call(this):this[0<=e?e:e+this.length]},toArray:function se(){return this.get()},size:function oe(){return this.length},remove:function ce(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function le(e){for(var t,a=this.length,r=0;r<a&&(t=this[r],!1!==e.call(t,r,t));)r++;return this},filter:function ue(t){return s(t)?this.not(this.not(t)):C(D.call(this,function(e){return K.matches(e,t)}))},add:function de(e,t){return C(j(this.concat(C(e,t))))},is:function pe(e){return 0<this.length&&K.matches(this[0],e)},not:function me(t){var a=[];if(s(t)&&t.call!==w)this.each(function(e){t.call(this,e)||a.push(this)});else{var r="string"==typeof t?this.filter(t):u(t)&&s(t.item)?R.call(t):C(t);this.forEach(function(e){r.indexOf(e)<0&&a.push(e)})}return C(a)},has:function fe(e){return this.filter(function(){return r(e)?C.contains(this,e):C(this).find(e).size()})},eq:function ge(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function ve(){var e=this[0];return e&&!r(e)?e:C(e)},last:function be(){var e=this[this.length-1];return e&&!r(e)?e:C(e)},find:function he(e){var a=this;return e?"object"==(void 0===e?"undefined":Nl(e))?C(e).filter(function(){var t=this;return I.some.call(a,function(e){return C.contains(e,t)})}):1==this.length?C(K.qsa(this[0],e)):this.map(function(){return K.qsa(this,e)}):C()},closest:function ye(a,r){var n=[],i="object"==(void 0===a?"undefined":Nl(a))&&C(a);return this.each(function(e,t){for(;t&&!(i?0<=i.indexOf(t):K.matches(t,a));)t=t!==r&&!o(t)&&t.parentNode;t&&n.indexOf(t)<0&&n.push(t)}),C(n)},parents:function Pe(e){for(var t=[],a=this;0<a.length;)a=C.map(a,function(e){if((e=e.parentNode)&&!o(e)&&t.indexOf(e)<0)return t.push(e),e});return b(t,e)},parent:function Se(e){return b(j(this.pluck("parentNode")),e)},children:function _e(e){return b(this.map(function(){return f(this)}),e)},contents:function ke(){return this.map(function(){return this.contentDocument||R.call(this.childNodes)})},siblings:function we(e){return b(this.map(function(e,t){return D.call(f(t.parentNode),function(e){return e!==t})}),e)},empty:function Ee(){return this.each(function(){this.innerHTML=""})},pluck:function Ce(t){return C.map(this,function(e){return e[t]})},show:function Ve(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=e(this.nodeName))})},replaceWith:function Ae(e){return this.before(e).remove()},wrap:function je(t){var a=s(t);if(this[0]&&!a)var r=C(t).get(0),n=r.parentNode||1<this.length;return this.each(function(e){C(this).wrapAll(a?t.call(this,e):n?r.cloneNode(!0):r)})},wrapAll:function Ie(e){if(this[0]){var t;for(C(this[0]).before(e=C(e));(t=e.children()).length;)e=t.first();C(e).append(this)}return this},wrapInner:function Te(n){var i=s(n);return this.each(function(e){var t=C(this),a=t.contents(),r=i?n.call(this,e):n;a.length?a.wrapAll(r):t.append(r)})},unwrap:function De(){return this.parent().each(function(){C(this).replaceWith(C(this).children())}),this},clone:function Re(){return this.map(function(){return this.cloneNode(!0)})},hide:function xe(){return this.css("display","none")},toggle:function Oe(t){return this.each(function(){var e=C(this);(t===w?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function Le(e){return C(this.pluck("previousElementSibling")).filter(e||"*")},next:function Ne(e){return C(this.pluck("nextElementSibling")).filter(e||"*")},html:function Fe(a){return 0 in arguments?this.each(function(e){var t=this.innerHTML;C(this).empty().append(h(this,a,e,t))}):0 in this?this[0].innerHTML:null},text:function Me(a){return 0 in arguments?this.each(function(e){var t=h(this,a,e,this.textContent);this.textContent=null==t?"":""+t}):0 in this?this.pluck("textContent").join(""):null},attr:function Ue(t,a){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(r(t))for(E in t)y(this,E,t[E]);else y(this,t,h(this,a,e,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(e=this[0].getAttribute(t))?e:w},removeAttr:function Be(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function qe(t,a){return t=Z[t]||t,1 in arguments?this.each(function(e){this[t]=h(this,a,e,this[t])}):this[0]&&this[0][t]},removeProp:function Ge(e){return e=Z[e]||e,this.each(function(){delete this[e]})},data:function e(t,a){var r="data-"+t.replace(B,"-$1").toLowerCase(),e=1 in arguments?this.attr(r,a):this.attr(r);return null!==e?S(e):w},val:function He(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=h(this,t,e,this.value)})):this[0]&&(this[0].multiple?C(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function Qe(i){if(i)return this.each(function(e){var t=C(this),a=h(this,i,e,t.offset()),r=t.offsetParent().offset(),n={top:a.top-r.top,left:a.left-r.left};"static"==t.css("position")&&(n.position="relative"),t.css(n)});if(!this.length)return null;if(x.documentElement!==this[0]&&!C.contains(x.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+qm.pageXOffset,top:e.top+qm.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function e(t,a){if(arguments.length<2){var r=this[0]
;if("string"==typeof t){if(!r)return;return r.style[A(t)]||getComputedStyle(r,"").getPropertyValue(t)}if(ee(t)){if(!r)return;var n={},i=getComputedStyle(r,"");return C.each(t,function(e,t){n[t]=r.style[A(t)]||i.getPropertyValue(t)}),n}}var e="";if("string"==l(t))a||0===a?e=p(t)+":"+m(t,a):this.each(function(){this.style.removeProperty(p(t))});else for(E in t)t[E]||0===t[E]?e+=p(E)+":"+m(E,t[E])+";":this.each(function(){this.style.removeProperty(p(E))});return this.each(function(){this.style.cssText+=";"+e})},index:function We(e){return e?this.indexOf(C(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function ze(e){return!!e&&I.some.call(this,function(e){return this.test(P(e))},a(e))},addClass:function Ye(a){return a?this.each(function(e){if("className"in this){V=[];var t=P(this);h(this,a,e,t).split(/\s+/g).forEach(function(e){C(this).hasClass(e)||V.push(e)},this),V.length&&P(this,t+(t?" ":"")+V.join(" "))}}):this},removeClass:function Xe(t){return this.each(function(e){if("className"in this){if(t===w)return P(this,"");V=P(this),h(this,t,e,V).split(/\s+/g).forEach(function(e){V=V.replace(a(e)," ")}),P(this,V.trim())}})},toggleClass:function $e(a,r){return a?this.each(function(e){var t=C(this);h(this,a,e,P(this)).split(/\s+/g).forEach(function(e){(r===w?!t.hasClass(e):r)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function Ke(e){if(this.length){var t="scrollTop"in this[0];return e===w?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function Je(e){if(this.length){var t="scrollLeft"in this[0];return e===w?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function Ze(){if(this.length){var e=this[0],t=this.offsetParent(),a=this.offset(),r=U.test(t[0].nodeName)?{top:0,left:0}:t.offset();return a.top-=parseFloat(C(e).css("margin-top"))||0,a.left-=parseFloat(C(e).css("margin-left"))||0,r.top+=parseFloat(C(t[0]).css("border-top-width"))||0,r.left+=parseFloat(C(t[0]).css("border-left-width"))||0,{top:a.top-r.top,left:a.left-r.left}}},offsetParent:function et(){return this.map(function(){for(var e=this.offsetParent||x.body;e&&!U.test(e.nodeName)&&"static"==C(e).css("position");)e=e.offsetParent;return e})}},C.fn.detach=C.fn.remove,["width","height"].forEach(function(r){var n=r.replace(/./,function(e){return e[0].toUpperCase()});C.fn[r]=function(t){var e,a=this[0];return t===w?i(a)?a["inner"+n]:o(a)?a.documentElement["scroll"+n]:(e=this.offset())&&e[r]:this.each(function(e){(a=C(this)).css(r,h(this,t,e,a[r]()))})}}),G.forEach(function(t,o){var c=o%2;C.fn[t]=function(){var a,n,i=C.map(arguments,function(e){var t=[];return"array"==(a=l(e))?(e.forEach(function(e){return e.nodeType!==w?t.push(e):C.zepto.isZ(e)?t=t.concat(e.get()):void(t=t.concat(K.fragment(e)))}),t):"object"==a||null==e?e:K.fragment(e)}),s=1<this.length;return i.length<1?this:this.each(function(e,t){n=c?t:t.parentNode,t=0==o?t.nextSibling:1==o?t.firstChild:2==o?t:null;var a=C.contains(x.documentElement,n),r=/^(text|application)\/(javascript|ecmascript)$/;i.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!n)return C(e).remove();n.insertBefore(e,t),a&&_(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!r.test(e.type.toLowerCase())||e.src||k(x,e.innerHTML)})})})},C.fn[c?t+"To":"insert"+(o?"Before":"After")]=function(e){return C(e)[t](this),this}}),K.Z.prototype=g.prototype=C.fn,K.uniq=j,K.deserializeValue=S,C.zepto=K,C}()),function(){try{getComputedStyle(undefined)}catch(e){var a=getComputedStyle;qm.getComputedStyle=function(e,t){try{return a(e,t)}catch(_Ca){return null}}}}(),Hm=(Gm=Ym).zepto,Qm=Hm.qsa,Wm=/^\s*>/,zm="Zepto"+ +new Date,Hm.qsa=function(e,t){var a,r,n=t;try{n?Wm.test(n)&&(r=Gm(e).addClass(zm),n="."+zm+" "+n):n="*",a=Qm(e,n)}catch(i){throw i}finally{r&&r.removeClass(zm)}return a},Ym),sf=":eq(",of=")",cf=sf.length,lf=/((\.|#)(-)?\d{1})/g,uf="Unable to load target-vec.js",df="Loading target-vec.js",pf="_AT",mf="clickHandlerForExperienceEditor",ff="currentView",gf="at-",vf="at-body-style",bf="#"+vf,hf="at_qa_mode",yf="at_preview_token",Pf="at_preview_index",Sf="at_preview_listed_activities_only",_f="at_preview_evaluate_as_true_audience_ids",kf="at_preview_evaluate_as_false_audience_ids",wf="_",Ef=function Ef(e){return!b(e)},Cf="Visitor",Vf="getInstance",Af="isAllowed",jf="Disabled due to optout",If="getMarketingCloudVisitorID",Tf="getAudienceManagerBlob",Df="getAnalyticsVisitorID",Rf="getAudienceManagerLocationHint",xf="isOptedOut",Of="OptOut",Lf="MCAAMB",Nf="MCAAMLH",Ff="MCAID",Mf="MCMID",Uf="MCOPTOUT",Bf="getSupplementalDataID",qf="getCustomerIDs",Gf="trackingServer",Hf=Gf+"Secure",Qf="Visitor API requests timed out",Wf="Visitor API requests error",zf={},Yf="Data provider",Xf="timed out",$f=2e3,Kf="authorization",Jf="mboxDebugTools",Zf=Ka(),eg="profile.",tg="mbox3rdPartyId",ag="at_property",rg="orderId",ng="orderTotal",ig="productPurchasedId",sg="productId",og="categoryId",cg="POST",lg="Network request failed",ug="Request timed out",dg="web",pg="mboxedge",mg=function mg(e){return!A(e)},fg=function fg(t){return function(e){return e[t]}},gg=function gg(t){return function(e){return!t(e)}},vg=gg(b),bg=function bg(t){return function(e){return m(t,e)}},hg=function hg(e){return e.status===Bd},yg=function yg(e){return e.type===Zd},Pg=function Pg(e){return e.type===Iu},Sg=bg(vg),_g=fg(em),kg=fg(cu),wg=fg(ep),Eg=function Eg(e){return tu(e.name)},Cg=function Cg(e){return d(e)&&Eg(e)},Vg=function Vg(e){return d(e)&&Eg(e)},Ag=function Ag(e){return tu(e.selector)},jg=fg(tp),Ig=v([jg,vg]),Tg="adobe_mc_sdid",Dg="Network request failed",Rg="Request timed out",xg="URL is required",Og="GET",Lg="POST",Ng="method",Fg="url",Mg="headers",Ug="data",Bg="credentials",qg="timeout",Gg="async",Hg=/CLKTRK#(\S+)/,Qg=/CLKTRK#(\S+)\s/,Wg=function Ef(e){return!b(e)},zg=null,Yg={childList:!0,subtree:!0},Xg=jl.MutationObserver,$g="visibilityState",Kg="visible",Jg=100,Zg=rd+","+id+","+nd,ev="at-action-key",tv="metric element not found",av="navigator",rv="sendBeacon",nv="Beacon data sent",iv="Beacon data sent failed",sv="View triggered notification",ov="View rendered notification",cv="Mboxes rendered notification",lv="Event handler notification",uv="Mbox event handler notification",dv="View event handler notification",pv="prefetchMboxes",mv="rendered",fv="triggered",gv="pageLoadMetrics",vv="prefetchMetrics",bv=fg(tm),hv=function hv(){return sn(zd)},yv=function yv(e){return on(zd,e)},Pv=fg(cu),Sv=fg(bu),_v=function _v(e){return sn(Wd,e)},kv=function kv(e){return on(Wd,e)},wv=function wv(e){return gg(hg)(e)&&Ig(e)},Ev="Page load rendering failed",Cv="Mboxes rendering failed",Vv="View rendering failed",Av="Prefetch rendering failed",jv=function jv(e){return!A(m(hg,e))},Iv="[page-init]",Tv="[getOffer()]",Dv="[getOffers()]",Rv="[applyOffer()]",xv="[applyOffers()]",Ov="[sendNotifications()]",Lv="[trackEvent()]",Nv="[triggerView()]",Fv="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",Mv="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",Uv="mboxCreate() "+Fv,Bv="mboxDefine() "+Fv,qv="mboxUpdate() "+Fv,Gv={init:Vl,initConfig:$,initDelivery:Ic};e.exports=Gv}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,a,r){"use strict";var n=a("@adobe/reactor-window"),i=a("./object-override"),s=a("./params-store"),o=s.getParams,c=s.getPageLoadParams;e.exports=function(e){var t=r.getExtensionSettings().targetSettings||{};return t.mboxParams=o(),t.globalMboxParams=c(),i(t,e,["bodyHidingEnabled","bodyHiddenStyle"]),i(t,n.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),t}}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,a,r){"use strict";function n(e){var t=e.compatMode,a=e.documentMode;return t&&"CSS1Compat"===t&&(!a||9<=a)}function i(e){var t=function t(){},a=function a(){return u.resolve()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:a,applyOffer:t,applyOffers:a,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function s(){return c.adobe&&c.adobe.target&&"undefined"!=typeof c.adobe.target.getOffer}function o(){if(s())return r.logger.warn(d.ALREADY_INITIALIZED),null;var e=r.getExtensionSettings().targetSettings||{};return e.mboxParams=m(),e.globalMboxParams=f(),g(e,c.targetGlobalSettings||{},v),n(l)||(e.enabled=!1,r.logger.warn(d.DELIVERY_DISABLED)),e}var c=a("@adobe/reactor-window"),l=a("@adobe/reactor-document"),u=a("@adobe/reactor-promise"),d=a("../messages"),p=a("./params-store"),m=p.getParams,f=p.getPageLoadParams,g=a("./object-override"),v=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState"];e.exports={initLibrarySettings:o,overridePublicApi:i}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";function t(e,t,a){e.addEventListener(t,a)}function a(e,t,a){e.removeEventListener(t,a)}e.exports={addEventListener:t,removeEventListener:a}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,a,r){"use strict";function n(e){return"undefined"===(void 0===e?"undefined":d(e))||null===e}function i(e){var t=void 0===e?"undefined":d(e);return null!==e&&("object"===t||"function"===t)}function s(e){return i(e[v])&&i(e[m])}function o(e,t){return!!t&&!n(e)&&!n(e[g])&&s(e[g])}function c(e,t){return e[m](t)}function l(){var e=p[g];return c(e,e[b][h])}function u(){var e=r.getExtensionSettings().targetSettings[f];return o(p,e)}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=a("@adobe/reactor-window").adobe,m="isApproved",f="optinEnabled",g="optIn",v="fetchPermissions",b="Categories",h="TARGET";e.exports={shouldUseOptIn:u,isTargetApproved:l}}}},settings:{targetSettings:{enabled:!0,timeout:3e3,version:"2.1.0",endpoint:"/rest/v1/delivery",imsOrgId:"D6E638125859683E0A495D2D@AdobeOrg",clientCode:"bestbuycanada",secureOnly:!1,serverState:{},optinEnabled:!1,serverDomain:"bestbuycanada.tt.omtrdc.net",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP81616484442f4176bc13308823f49edb/"}},company:{orgId:"D6E638125859683E0A495D2D@AdobeOrg"},property:{name:"Best Buy Canada",settings:{domains:["bestbuy.ca"],undefinedVarsReturnEmpty:!0}},rules:[{id:"RL56ed7600cc134db596260942e410c927",name:"Checkout/Cart_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:cart/ANALYTICS_CART_LOADED",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCa08b0676a004482d9492424444e828b3-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){if(_satellite.getVar("getGlobalVars"),AppEventData.computedState.state.cart.shipments){if(e.detail.state.cart.totalShippingPrice!=undefined&&(window.s.eVar32=AppEventData.computedState.state.cart.totalShippingPrice.toFixed(2)),e.detail.payload.state.totalSavings!=undefined){var t=window.getPercentage(e.detail.payload.state.totalSavings,e.detail.payload.state.totalProductPrice);window.s.eVar35=t!=undefined&&"NaN%"!==t?t:"0%"}e.detail.state.cart.shipments.flatMap(function(e){return e.lineItems.flatMap(function(e){return e.availableServicePlans||[]}).filter(function(e){return"PSP"==e.servicePlanType})}).length&&(window.s.events+=",event51"),sessionStorage.AA_orderDiscountsOnCart=AppEventData.computedState.state.cart.totalSavings}}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"dth cart"},{name:"eVar3",type:"value",value:"shopping cart"},{name:"eVar1",type:"value",value:"cart"}],props:[{name:"prop34",type:"value",value:"Shopping Cart"},{name:"prop3",type:"alias",value:"eVar3"}],events:[{name:"scView"},{name:"event9"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"cart |dth cart"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray Cart%",productStringEvars:[{eVarId:"eVar10",eVarPath:"parentSku"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar21",eVarPath:"discountType"},{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"},{eVarId:"eVar170",eVarPath:"itemLevelDiscounts"},{eVarId:"eVar11",eVarPath:"parentName"},{eVarId:"eVar80",eVarPath:"parentSeller"}],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"quantity",productStringUnitPrice:"totalPurchasePrice",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"collection-item-path",productStringQuantityVariableType:"collection-item-path",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC02be2ccc56eb4316a8dccd8143fffd3d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"begin_checkout",options:[["items","%basketLineItemsForGA%"]],accounts:{1560790534239:{enabled:!0}},callback:null}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","cart"],["page_location","%fullUrl%"],["page_path","%URL_path%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}}]},{id:"RL9f7bf80113954a528570eebff80d1cf4",name:"Checkout/Visa_Click",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-visa-click",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event87"}],pageURL:"%fullUrl%",pageName:"%pageName%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Checkout Visa",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLa345eb2675e5469bb06759120abff6d8",name:"APEX/PDP_AddToCart_WarrantyAddLocation",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"PDP Add to Cart WarrantyAddLocation"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.warrantyIsRPU&&(t.linkTrackEvents=t.apl(t.linkTrackEvents,"event996",",",1),t.events=t.apl(t.events,"event996",",",1));var a=AppEventData.computedState.state.product.product.warranties.find(function(e){if(e.sku==window.warrantySkuBeingAdded)return e});t.linkTrackVars="prop61",t.prop61=a.termMonths/12,sessionStorage.setItem("warranty_added","true"),delete window.warrantyIsRPU,delete window.warrantySkuBeingAdded}},trackerProperties:{events:[{name:"event54"},{name:"scAdd"}],channel:"Mdot"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray PDP Warranty ATC%",productStringEvars:[{eVarId:"eVar10",eVarPath:"parentSku"},{eVarId:"eVar11",eVarPath:"parentName"},{eVarId:"eVar12",eVarPath:"warrantySkuBeingAdded"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar17",eVarPath:"customerRating"},{eVarId:"eVar20",eVarPath:"deliveryPromise"},{eVarId:"eVar21",eVarPath:"discountType"},{eVarId:"eVar26",eVarPath:"brand"},{eVarId:"eVar31",eVarPath:"singleSavingsPercentage"},{eVarId:"eVar36",eVarPath:"bundleSavingsPercentage"},{eVarId:"eVar45",eVarPath:"marketplaceSellerID"},{eVarId:"eVar47",eVarPath:"marketplaceSellerName"},{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"},{eVarId:"eVar58",eVarPath:"numProductReviews"},{eVarId:"eVar62",eVarPath:"dthStatus"},{eVarId:"eVar63",eVarPath:"rpuStatus"},{eVarId:"eVar64",eVarPath:"pdpFindingMethod"},{eVarId:"eVar67",eVarPath:"marketplaceSellerNum"},{eVarId:"eVar80",eVarPath:"vendor"},{eVarId:"eVar96",eVarPath:"singleProductPrice"},{eVarId:"eVar126",eVarPath:"warrantyAddLocation"},{eVarId:"eVar127",eVarPath:"specialOffersIDs"}],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"warrantyadd",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL0f297edb21c34b358922f33268ac1760",name:"Orders/GiftCardBalanceChecker_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-gift-card-balance-checker-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"check gift card balance"},{name:"eVar3",type:"value",value:"my account"},{name:"eVar4",type:"value",value:"check gift card balance"}],props:[{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop34",type:"value",value:"Check Gift Card Balance"}],pageName:"my account |check gift card balance"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL3d2d0f7e0fbf4cbc92e10b9d36d16115",name:"Orders/OrderHistory_Search",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-order-history-search"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.prop53=e.detail.totalOrders.toString(),t.linkTrackVars=t.apl(t.linkTrackVars,"prop53",",",1)}},trackerProperties:{props:[{name:"prop52",type:"value",value:"%event.detail.query%"}],channel:"Mdot",pageName:"my account |order history "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Order History Search",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLda886f9ea9b64cfb8176660803b5d5d4",name:"Init_Facebook_Functions",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#triggerNode"},ruleOrder:15}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"AppChannel",value:"/S",valueIsRegex:!0},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC504eeb96123d4889b9987d6e79cc1def-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1b02fc2402854aa8a9c2a49c351f6bf3",name:"Checkout/VBV_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-vbv-pageload",elementSelector:"#root, body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"checkout"},{name:"eVar2",type:"value",value:"dth checkout"},{name:"eVar3",type:"value",value:"verify by visa wrapper"},{name:"eVar93",type:"value",value:"%purchase-ab-scheduler%"}],props:[{name:"prop34",type:"value",value:"Verify by Visa Wrapper"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop62",type:"alias",value:"eVar93"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"checkout |dth checkout |verify by visa wrapper"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLccf8fd6f81614615acd92fe33cb3feeb",name:"Orders/EditPayment_Success",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-edit-payment-success",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){window.s.linkName="",e.detail&&e.detail.linkName&&(window.s.linkName=e.detail.linkName)}},trackerProperties:{pageName:"my account |order details"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Order Payment Update Success",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLbbd006649a5443538d55016c8030f281",name:"APEX/RPU_Review_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-rpu-review-pageload",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-target-v2/lib/addPageLoadParams.js",settings:{params:{mboxURL:{value:"https://m.bestbuy.ca/checkout/#/en-CA/reserve-pickup/review",checked:!1},mboxHost:{value:"bestbuy.ca",checked:!1}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"cart"},{name:"eVar2",type:"value",value:"rpu cart"},{name:"eVar3",type:"value",value:"reservation details"}],props:[{name:"prop3",type:"alias",value:"eVar3"},{name:"prop34",type:"value",value:"Reservation Details"}],events:[{name:"event30"}],pageName:"cart |rpu cart |reservation details"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray RPU Checkout Flow%",productStringEvars:[{eVarId:"eVar52",eVarPath:"productName"},{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar21",eVarPath:"saleType"},{eVarId:"eVar30",eVarPath:"rpuFrom"},{eVarId:"eVar10",eVarPath:"parentBundle"}],productStringEvents:[],productCollectionPath:"products",productStringCategory:"",productStringQuantity:"qty",productStringUnitPrice:"unitPrice",productStringProductIdPath:"sku",productStringCategorySelected:!1,productStringQuantitySelected:!0,productStringProductIdSelected:!0,productStringUnitPriceSelected:!0,productStringCategoryVariableType:"collection-item-path",productStringQuantityVariableType:"collection-item-path",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","cart |rpu cart |reservation details "],["page_location","%fullUrl%"],["page_path","%URL_hash%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]},1561570089694:{enabled:!0,options:[]}}}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"set_checkout_option",options:[["checkout_step","3"],["checkout_option","RPU"]],accounts:{1560790534239:{enabled:!0}},callback:null}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"checkout_progress",options:[["items","%checkoutLineItemsForGA%"]],accounts:{1560790534239:{enabled:!0}},callback:null}}]},{id:"RL617e411af910406583a79862bfdc97d0",name:"APEX/Video Clicked",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"video-clicked"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar54",type:"value",value:"BBY Video |PDP Gallery Video"}],props:[{name:"prop74",type:"alias",value:"eVar54"}],events:[{name:"event76"}]}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray PDP PageLoad%",productStringEvars:[],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"collection-item-path",productStringQuantityVariableType:"collection-item-path",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"PDP Gallery Video Click",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLc771afa5517e4b8188df2f237f1f1106",name:"Orders/submit mp escalation success",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"send-escalation-message-success"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop35",type:"value",value:"%seller id from payload%"},{name:"prop36",type:"value",value:"%seller name from payload%"},{name:"prop72",type:"value",value:"%event.detail.payload.topic%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Successful Marketplace Escalation",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL153bafbc2ec4407e84a2158d0fcbe8d1",name:"APEX/Search_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"SEARCH_PAGE_LOAD"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return!!(e.detail.state.search&&e.detail.state.search.searchResult&&e.detail.state.search.searchResult.total)}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC813d1c8b248e4624b0bf2360e533dfd4-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){_satellite.getVar("getGlobalVars");var a=AppEventData.computedState.state&&AppEventData.computedState.state.search;a&&a.searchResult&&a.searchResult.products&&1==a.searchResult.products[0].isMarketplace&&(t.events=t.apl(t.events,"event131",",",1));var r={},n=a.searchResult.products.map(function(e){return e.sku});r.page=a.page,r.searchResultSkus=n,r.layout="extraSmall"===AppEventData.computedState.state.app.screenSize.mediaType?"list-view":"grid-view",window.persistentMetaData.previousSearch=r}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"search results"},{name:"eVar40",type:"value",value:"+1"},{name:"eVar83",type:"value",value:"%event.detail.state.search.searchResult.total%"},{name:"eVar1",type:"value",value:"products"}],props:[{name:"prop18",type:"alias",value:"eVar83"},{name:"prop34",type:"value",value:"Search Results"}],events:[{name:"event60"}],channel:"Mdot",pageName:"products |search results |%searchedQuery%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLd4dc00b24160449e8ffa139e392d6794",name:"APEX/RPU-Newsletter-Subscribe-Error",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-rpu-newsletter-failure"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1);var a=e.detail.error;if(a){var r="";r=(r=(a.name?a.name:"Unknown Error")+" |"+(a.statusCode?a.statusCode:"Unknown Status")+" |"+(a.uri?a.uri:"Unknown Uri")+" |").slice(0,r.length-2),window.s.list1=r||"500"}}},trackerProperties:{eVars:[{name:"eVar74",type:"value",value:"rpu order confirm"}],events:[{name:"event66"}],pageName:"cart |rpu order confirmation"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Newsletter Signup Failure",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLdba1f53187d14ca1825d92e927e41ee6",name:"Account/Create_Account_Error_Order_Confirmation",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-create-account-error-order-confirmation"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){window.s.linkTrackVars=window.s.linkTrackVars&&""!==window.s.linkTrackVars?window.s.linkTrackVars+",list1":"list1",window.s.list1=e.detail.errorCode.toString()}},trackerProperties:{eVars:[{name:"eVar9",type:"value",value:"dth order confirmation |order complete"}],events:[{name:"event66"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"dth order confirmation |order complete"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Create account error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLad0852f697de4026afb77e97878e5d60",name:"Get/Cancel_Order_Escalate",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-cancel-order-escalate"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop72",type:"value",value:"%event.detail.escalationMethod%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Customer Support Requested",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLd240aac8aaff43659b420f7e5f8923aa",name:"Search_Item_Click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[itemprop="url"] li[itemprop="itemListElement"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},
ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(search|chercher)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC928ada1c4a75478da8f23b20fcdd93de-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa4f716b7917c4c34a7f100dafb51ab0c",name:"find/Geeksquad_Membership_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"GEEK_SQUAD_MEMBERSHIP_PAGE_LOAD"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars");var e=function(){var e=new RegExp(/^\(?[0-9]{3}\)?\s?[0-9]{3}?\s?[0-9]{4}$/),t=new RegExp(/[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,64}/);document.getElementById("company").value&&document.getElementById("name").value&&document.getElementById("phone").value&&e.test(document.getElementById("phone").value)&&document.getElementById("email").value&&t.test(document.getElementById("email").value)&&AppEventData.push({event:"geeksquad-business-confirmation"})};document.querySelector("[class*=contentContainer] [class*=bbyForm]").addEventListener("submit",e)}},trackerProperties:{pageName:"services |geek squad business membership"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLff9c5d67a67546bca2bb622901994de3",name:"Account/Create_Account_SignIn_Error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-create-account-signin-error",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1);var a=e.detail.error;if(a){var r="";r=(r=(a.name?a.name:"Unknown Error")+" |"+(a.statusCode?a.statusCode:"Unknown Status")+" |"+(a.uri?a.uri:"Unknown Uri")+" |").slice(0,r.length-2),window.s.list1=r||"500"}}},trackerProperties:{eVars:[{name:"eVar61",type:"value",value:"header sign in page"}],events:[{name:"event66"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |create account"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Create Account Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL8acf5b7d7ee24ffa9ed7ceead67eb1e0",name:"3rd_Party/Search_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"SEARCH_PAGE_LOAD"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return!!(e.detail.state.search&&e.detail.state.search.searchResult&&e.detail.state.search.searchResult.total)}}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(search|chercher)",valueIsRegex:!0}]}}],actions:[]},{id:"RLd60c4206748d4c42b8b6e3245c8b52b3",name:"Account/Sign_Out_Dashboard",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:Sign_Out_From_Dashboard",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Sign Out from Dashboard",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL0c2670b8d5564670b1ee85151039cac1",name:"Find/Category Facet Click",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"ANALYTICS_CATEGORY_FACET"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar33",type:"value",value:"%event.detail.payload.label%:%event.detail.payload.link%"}],props:[{name:"prop22",type:"alias",value:"eVar33"}],events:[{name:"event162"}]}}}]},{id:"RL76ef2f910c7344b8a2e2f455fd96efe0",name:"Find/Geeksquad_Confirmation",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"geeksquad-business-confirmation"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event77"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"gsfb form submit",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL6506c9a77e584734acb40c551b0c27bb",name:"APEX/Search_Filter || Search_Sort",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:SEARCH_SELECT_FILTER",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:SEARCH_SORT",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){if(e&&e.detail&&e.detail.payload&&e.detail.payload.label!=undefined&&e.detail.payload.link!=undefined)return!0}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar33",type:"value",value:"%event.detail.payload.label%:%event.detail.payload.link%"}],props:[{name:"prop22",type:"value",value:"%event.detail.payload.label%:%event.detail.payload.link%"},{name:"prop69",type:"value",value:"%screenSize%"}],events:[{name:"event162"}],channel:"Mdot",pageURL:"%fullUrl%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"facet:%event.detail.payload.label%:%event.detail.payload.link%",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLc8ab185b88724ec4b8a777ee2ac9d812",name:"Error_500_PageLoad",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#error-page"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="500 Error Page",t.pageType="errorPage",window.isGlobalError=!0,_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"error"},{name:"eVar2",type:"value",value:"error"}],props:[{name:"prop34",type:"value",value:"Error Page"}],channel:"Mdot",pageName:"500 Error Page"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL02bbcec5a4c24fd3a9b7c1960bb5d014",name:"Orders/OrderDetails_TrackShipment",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-order-details-track-shipment",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"my account |order details"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Shipping Status Link Clicked",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL36388479b732481ca509d6fe33a17e9f",name:"Checkout/Common_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:checkout-common-pageload",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){sessionStorage.AA_checkoutTimeStart==undefined&&(sessionStorage.AA_checkoutTimeStart=(Date.now()/1e3).toFixed(0)),"true"!==_satellite.cookie.get("AA_hasSeenCheckoutThisVisit")&&(t.events=t.apl(t.events,"event10,scCheckout",",",1)),_satellite.cookie.set("AA_hasSeenCheckoutThisVisit","true",{expires:new Date((new Date).getTime()+18e5),path:"/"}),_satellite.getVar("getGlobalVars"),AppEventData.computedState.checkout.products&&(AppEventData.computedState.checkout.shippingTotal!=undefined&&(window.s.eVar32=AppEventData.computedState.checkout.shippingTotal.toFixed(2)),AppEventData.computedState.checkout.paymentTypes&&(window.s.list2=AppEventData.computedState.checkout.paymentTypes))}},trackerProperties:{eVars:[{name:"eVar93",type:"value",value:"%purchase-ab-scheduler%"}],props:[{name:"prop62",type:"alias",value:"eVar93"}]}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray Checkout%",productStringEvars:[{eVarId:"eVar10",eVarPath:"parentSku"},{eVarId:"eVar11",eVarPath:"parentName"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar21",eVarPath:"discountType"},{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"},{eVarId:"eVar20",eVarPath:"deliveryPromise"}],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"collection-item-path",productStringQuantityVariableType:"collection-item-path",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL6c216e625bcc4899beaac80bfb2cc08b",name:"APEX/PDP_Variant_Clicked",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:PRODUCT_VARIANT_INTERACTION",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar81",type:"value",value:"%event.detail.payload.sku%"}],events:[{name:"event154"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Colour Variant Interaction",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLa4ba81e5a64747d693704e631e02a6ef",name:"Account/Add_New_Shipping_Address_Unsuccessful",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-add-new-address-unsuccessful",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"New Shipping Address Saved Unsuccessfully",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL78afc7be1a9b472baf900fb8f11a04d5",name:"Paypal_Click",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-paypal-click",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event17"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"%pageName%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Checkout Paypal",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLef95c17cc5d94ee7806426775f4679da",name:"Checkout/Guest_Checkout_SignIn_Error",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-guest-checkout-sign-in-error"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1);var a=e.detail.error;if(a){var r="";r=(r=(a.name?a.name:"Unknown Error")+" |"+(a.statusCode?a.statusCode:"Unknown Status")+" |"+(a.uri?a.uri:"Unknown Uri")+" |").slice(0,r.length-2),window.s.list1=r||"500"}}},trackerProperties:{events:[{name:"event66"}],pageName:"dth order confirmation |order complete"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Sign In Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL3c779aa7033a4fa58e4a422042a546ba",name:"3rd_Party/DTH_Review_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-review-pageload",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:51}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC9d0d6055b1ca4f3da2990a2266f08808-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9df1f3dec9e04a94b321c5f999aed2df",name:"APEX/Seller_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:SELLER_PROFILE_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"products"},{name:"eVar2",type:"value",value:"seller profile"}],pageURL:"%URL%",pageName:"products |seller profile |%sellerName%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL52965d054ea14b4083198cbd27d00de4",name:"Customer Reviews Load More Button Click",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:CUSTOMER_REVIEWS_PAGE_BUTTON_LOAD_MORE_CLICK",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar9",type:"value",value:"D=pageName"}]}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%event.detail%",productStringEvars:[],productStringEvents:[],productCollectionPath:"state.product.product",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"sku",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Show More",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL5600df100fc643f8a6b48768f4d55416",name:"Orders/price match success",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-request-price-match-success-bby",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"my account |order details "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Price Match; Email Submit Success",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL2c9c78eef168488f8e3b50a2aee8deb9",name:"3rd_Party/Cart_Item_Removed",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:cart/ANALYTICS_ITEM_REMOVED",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=e.detail.payload.lineItem.lineItemType;return"PSP"!==t&&"PRP"!==t}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC5822254e820d45838a5ebaa53eb4ba05-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL451c58ab9a6b4d04a993bb6b8b4e513f",name:"APEX/Search_Redirect",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"SEARCH_REDIRECT"},ruleOrder:40}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){var t=e.detail;t&&t.payload&&t.payload.query&&(window.persistentMetaData.isRedirect=!0)}},trackerProperties:{}}}]},{id:"RLf8ab71046e7f44279895398ba475cd42",name:"Checkout/PromoCode_Error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-promoCode-error",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.list1="",window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1,prop38",",",1),e.detail&&e.detail.errorCodes&&(window.s.list1=e.detail.errorCodes.toString())}},trackerProperties:{props:[{name:"prop38",type:"value",value:"%event.detail.promoCodes%"}],events:[{name:"event66"}]}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%event.detail%",productStringEvars:[],productStringEvents:[],productCollectionPath:"products",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"sku",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Promo Code Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLeb8df6f568774e9db5ea84f7f81fc8d6",name:"Apex/Clear_Fetch_Badges",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC8ad22ea665a148db93449508833f9bfe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL61eabac82cd546db86776e3114be8261",name:"Orders/price match bby",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-email-request-price-match-bby",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"my account |order details "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Price Match; Email Us",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLefa4a36250e94bed8b1435610c1e9019",name:"APEX/Help_Centre_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:HELP_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"help centre"},{name:"eVar3",type:"value",value:"%help_breadcrumb2%"},{name:"eVar4",type:"value",value:"%help_breadcrumb3%"},{name:"eVar5",type:"value",value:"%help_breadcrumb4%"},{name:"eVar6",type:"value",value:"%help_breadcrumb5%"},{name:"eVar7",type:"value",value:"%help_breadcrumb6%"},{name:"eVar40",type:"value",value:"+1"},{name:"eVar117",type:"value",value:"%fullHelpBreadcrumb%"},{name:"eVar1",type:"value",value:"help centre"}],props:[{name:"prop3",type:"value",value:"D=v3"},{name:"prop4",type:"value",value:"D=v4"},{name:"prop5",type:"value",value:"D=v5"},{name:"prop6",type:"value",value:"D=v6"},{name:"prop7",type:"value",value:"D=v7"},{name:"prop34",type:"value",value:"Help Centre"}],channel:"Mdot",pageName:"%fullHelpCentrePageName%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL36d71c96805947dfbc2027859b94944a",name:"APEX/Submit_Product_Review_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:SUBMIT_PRODUCT_REVIEW_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"products"},{name:"eVar2",type:"value",value:"pdp"},{name:"eVar3",type:"value",value:"review submitted"},{name:"eVar76",type:"value",value:"products |pdp |review and rate product |%productSku%"}],props:[{name:"prop29",type:"value",value:"review submitted"},{name:"prop34",type:"value",value:"review submitted"}],events:[{name:"event48"}],channel:"Mdot",pageName:"products |pdp |review submitted |%productSku%"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray PDP PageLoad%",productStringEvars:[],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL9a3db7936979447d97240a9b81f3885d",name:"3rd_Party/PDP_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"PRODUCT_PAGE_LOAD"},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCf8550bd81a03421b90e11fdaf29ee34f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC2be11d1b902a4a9595f7b4d9cf146531-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC24ed246fe608476ba7fe985eb25470b5-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"facebook-pixel/src/lib/actions/sendPageView.js",settings:{}},{modulePath:"facebook-pixel/src/lib/actions/sendCustomEvent.js",settings:{name:"ViewContent",parameters:[{key:"content_type",value:"product"},{key:"currency",value:"CAD"},{key:"value",value:"%event.detail.state.product.product.priceWithoutEhf%"},{key:"content_ids",value:"%productSkuAsArray%"},{key:"content_category",value:"%event.detail.state.product.category.name%"}]}},{modulePath:"twitter-uwt/src/lib/actions/sendPageview.js",settings:{value:"%event.detail.state.product.product.priceWithoutEhf%",currency:"CAN"}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"page_view",options:[["ecomm_prodid","%productSkuAsArray%"],["ecomm_pagetype","product"],["ecomm_totalvalue","%event.detail.state.product.product.priceWithoutEhf%"],["google_business_vertical","retail"],["u4","%event.detail.state.product.product.sku%"],["u9","%event.detail.state.product.product.priceWithoutEhf%"]],accounts:{1556913832648:{enabled:!0}},callback:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC43de4992b4a147ffba0eb3eeeb0282a0-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCee2adf94f0b943908dc6b810c3577082-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u5","%productSku%"],["u4","%productNameFromAppEventDataPDP%"],["u7","%event.detail.state.product.product.priceWithoutEhf%"]],accounts:{1561570089694:{label:"pageb0/bestb000+unique",enabled:!0}},callback:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCc138569ccd9748f79682b74710e55b15-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC17002935d58a4b34a44b234e9ee1c7d4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc7f88195e2c74d43bccd7dd65d5eba68",name:"3rd_Party/Home_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:HOME_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"page_view",options:[["u5","%language%"],["ecomm_pagetype","home"],["google_business_vertical","retail"]],accounts:{1556913832648:{enabled:!0}},callback:null}},{modulePath:"facebook-pixel/src/lib/actions/sendPageView.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC66914c8c19994e229a73d95943f86f6f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC7c0ad92edd5544fab5455d378746f69f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1561570089694:{label:"pageb0/bestb00+unique",enabled:!0}},callback:null}}]},{id:"RL59d1773867374ce188ac32697f9acc13",name:"Orders/Edit_Payment_Loaded",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-edit-payment-load"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Edit Payment Loaded",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLa626e843b4c94cba87c3a1f14759a28f",name:"Checkout/Payment_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-payment-pageload",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCeea4f341871b4803b4a817452e47cc76-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){var t={event:"checkout-common-pageload"};t.checkout=e.detail,window.AppEventData==undefined&&(window.AppEventData=[]),window.AppEventData.push(t)}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"dth checkout"},{name:"eVar3",type:"value",value:"billing"},{name:"eVar1",type:"value",value:"checkout"}],props:[{name:"prop3",type:"alias",value:"eVar3"},{name:"prop34",type:"value",value:"Billing"},{name:"prop29",type:"value",value:"secure checkout"}],events:[{name:"event139"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"checkout |dth checkout |billing "}}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","checkout |dth checkout |billing"],["page_location","%fullUrl%"],["page_path","%URL_hash%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"set_checkout_option",options:[["checkout_step","2"],["checkout_option","DTH"]],accounts:{1560790534239:{enabled:!0}},callback:null}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"checkout_progress",options:[["items","%checkoutLineItemsForGA%"]],accounts:{1560790534239:{enabled:!0}},callback:null}}]},{id:"RL1ed57b33784246dfaa2244c1ee05c99f",name:"SignIn_SetNewPasswordError",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-change-password-error ",elementSelector:"#root",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){window.s.linkTrackVars+=",list1",window.s.list1=e.detail.payload.errorCodes.toString()}},trackerProperties:{events:[{name:"event66"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"%pageName%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Set new password error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL9bc3e6beea624d589287f2db61a24f87",name:"Seller_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:SELLER_SUCCESS",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:SELLER_REVIEW_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(review)|(avis)",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"\\/seller\\/",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"marketplace"},{name:"eVar2",type:"value",value:"marketplace profile"},{name:"eVar3",type:"value",value:"%sellerName%"}],props:[{name:"prop3",type:"value",value:"D=v3"},{name:"prop34",type:"value",value:"Marketplace profile"}],pageURL:"%fullUrl%",pageName:"marketplace |marketplace profile |%sellerName%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL02ec3a21796948ac936f1ec981650ed2",name:"3rd_Party/Cart_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:cart/ANALYTICS_CART_LOADED",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 0<_satellite.getVar("skuArrayFromAppEventDataCart").length}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCebb6879457ab48e48281dfbe62cd1dd2-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/load.js",settings:{}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"page_view",options:[["google_business_vertical","retail"],["ecomm_pagetype","cart"],["ecomm_prodid","%skuArrayFromAppEventDataCart%"],["ecomm_totalvalue","%cartSumFromAppEventDataCart%"],["u4",
"%skuArrayFromAppEventDataCart%"],["u5","%language%"],["u6","%cartTotalQuantityFromAppEventDataCart%"],["u7","%cartSumFromAppEventDataCart%"]],accounts:{1556913832648:{enabled:!0}},callback:null}},{modulePath:"facebook-pixel/src/lib/actions/sendPageView.js",settings:{}},{modulePath:"facebook-pixel/src/lib/actions/sendCustomEvent.js",settings:{name:"AddToCart",parameters:[{key:"content_name",value:"cart"},{key:"value",value:"%cartSumFromAppEventDataCart%"},{key:"content_ids",value:"%skuArrayFromAppEventDataCart%"},{key:"currency",value:"CAD"},{key:"content_type",value:"product"}]}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["value","%cartSumFromAppEventDataCart%"],["u5","%skuArrayFromAppEventDataCart%"],["u6","%cartTotalQuantityFromAppEventDataCart%"],["u7","%skuPriceArrayFromAppEventCart%"]],accounts:{1561570089694:{label:"pageb0/bestb001+unique",enabled:!0}},callback:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC4d6630eaa4804a6a8f48a0fbfb49a1dc-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC8f60c73a9ca0482b8132cdd43763019a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd749cac7c4e147979e8c38bf892b7bfa",name:"UI_Action",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-ui-event",elementSelector:"#root",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar111",type:"value",value:"%event.detail.action%"}],events:[{name:"event161"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.detail.action%",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLb347d8e6e6044c35befea51bef17695a",name:"Account/Delete_Credit_Card_Successful",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-delete-credit-card-successful",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Delete Credit Card Successful",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL015889a5a12e45029f8d1b23430bcbc7",name:"Account/Create_Account_SignIn_Success",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-create-account-signin-success",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar61",type:"value",value:"header sign in page"}],events:[{name:"event64"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |create account"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Create Account Success",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLf5bd3c851df7467baf74e3b693d72b54",name:"Account/SignIn_Password_Reset_Email_Sent",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-password-reset-email-sent-pageload",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"password reset email sent confirmation "},{name:"eVar3",type:"value",value:"password reset email sent confirmation "}],props:[{name:"prop1",type:"value",value:"my account"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |password reset email sent confirmation "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL058468dde5824378a72e3bf73bd3c9e1",name:"Global/AEDBacklog_Cleared",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"backlog-cleared"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC6e3f3abb18b74dffbb2d279108bf9c70-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8af8c8d582cd4d20b1d4d2580fd6a57c",name:"Account/Newsletter_Preferences_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-newsletter-preferences-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"update newsletter preferences"},{name:"eVar3",type:"value",value:"update newsletter preferences"},{name:"eVar1",type:"value",value:"newsletter"}],props:[{name:"prop1",type:"value",value:"D=v1"},{name:"prop2",type:"value",value:"D=v2"},{name:"prop3",type:"value",value:"D=v3"},{name:"prop34",type:"value",value:"Newsletter Unsubscribe"}],pageURL:"%fullUrl%",pageName:"newsletter |update newsletter preferences"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLf1dea8945d1d4ded87ae5058f3bd7510",name:"Order/Details_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-order-details-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){_satellite.getVar("getGlobalVars"),e.detail.error&&(window.s.events&&window.s.events.length||(window.s.events=[]),window.s.events.push("event66"))}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"order details"},{name:"eVar3",type:"value",value:"my account"},{name:"eVar4",type:"value",value:"order details"}],props:[{name:"prop34",type:"value",value:"Order Details"},{name:"prop16",type:"value",value:"%event.detail.orderNumber%"}],channel:"Mdot",pageName:"my account |order details"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL7b48532f3c8b4e25ab31eb53eec23e59",name:"Account/Newsletter_Subscribe_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-newsletter-subscribe-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"newsletter"},{name:"eVar2",type:"value",value:"newsletter sign up"},{name:"eVar3",type:"value",value:"newsletter sign up"}],props:[{name:"prop1",type:"value",value:"D=v1"},{name:"prop2",type:"value",value:"D=v2"},{name:"prop3",type:"value",value:"D=v3"},{name:"prop34",type:"value",value:"Newsletter Sign Up"}],pageURL:"%full%fullUrl%",pageName:"newsletter |newsletter sign up"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL99c2e7f37ab24bf89512ae6af72251f3",name:"Special_Offer_Page_load",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:SPECIAL_OFFER_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"products"},{name:"eVar2",type:"value",value:"group"},{name:"eVar3",type:"value",value:"promotionpopup"}],props:[{name:"prop34",type:"value",value:"Special Offer"},{name:"prop3",type:"alias",value:"eVar3"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"products |group |promotionpopup"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL3284a67bda574bd0bd3f1284f464aae5",name:"Order/SignIn_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-order-signin-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"check order status sign in"},{name:"eVar3",type:"value",value:"my account"},{name:"eVar4",type:"value",value:"check order status sign in"}],props:[{name:"prop34",type:"value",value:"Check Order Status Sign In"},{name:"prop29",type:"value",value:"best buy"},{name:"prop3",type:"alias",value:"eVar3"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |check order status sign in"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLc59892c70fe044c29a57476a32b4cf7b",name:"Account/SignIn_Error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-signin-error",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1);var a=e.detail.error;if(a){var r="";r=(r=(a.name?a.name:"Unknown Error")+" |"+(a.statusCode?a.statusCode:"Unknown Status")+" |"+(a.uri?a.uri:"Unknown Uri")+" |").slice(0,r.length-2),window.s.list1=r||"500"}}},trackerProperties:{events:[{name:"event66"}],channel:"Mdot",pageURL:"%fullUrl%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Sign In Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL7a69eb1de56b478a884d03dde517cb16",name:"APEX/RPU_AddToCart",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"RPU_REQUEST"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars=t.apl(t.linkTrackVars,"products,prop15",",",1),"pdp"===e.detail.payload.rpuFrom?(t.prop15=e.detail.payload.sku,e&&e.detail&&e.detail.state&&e.detail.state.cart&&0===e.detail.state.cart.totalQuantity&&(t.linkTrackEvents=t.apl(t.linkTrackEvents,"event20,scOpen",",",1),t.events=t.apl(t.events,"event20,scOpen",",",1))):"cart"===e.detail.payload.rpuFrom&&(t.linkTrackEvents=t.apl(t.linkTrackEvents,"event20",",",1),t.events=t.apl(t.events,"event20",",",1)),e.detail.payload.warrantySku!=undefined&&(t.linkTrackEvents=t.apl("s.linkTrackEvents","event997",",",1),t.events=t.apl("s.events","event997",",",1))}},trackerProperties:{events:[{name:"scAdd"},{name:"event4"},{name:"event18"},{name:"event26"}],channel:"Mdot"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray RPU ATC%",productStringEvars:[{eVarId:"eVar10",eVarPath:"parentSku"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar30",eVarPath:"rpuFrom"},{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"},{eVarId:"eVar21",eVarPath:"discountType"},{eVarId:"eVar70",eVarPath:"postalCode"},{eVarId:"eVar11",eVarPath:"parentName"},{eVarId:"eVar20",eVarPath:"deliveryPromise"},{eVarId:"eVar17",eVarPath:"customerRating"},{eVarId:"eVar26",eVarPath:"brand"},{eVarId:"eVar62",eVarPath:"dthStatus"},{eVarId:"eVar63",eVarPath:"rpuStatus"},{eVarId:"eVar64",eVarPath:"pdpFindingMethod"},{eVarId:"eVar80",eVarPath:"vendor"},{eVarId:"eVar36",eVarPath:"bundleSavingsPercentage"},{eVarId:"eVar31",eVarPath:"singleSavingsPercentage"},{eVarId:"eVar96",eVarPath:"singleProductPrice"},{eVarId:"eVar127",eVarPath:"specialOffersIDs"}],productStringEvents:[{eventId:"event4",eventPath:"singleProductPrice",isBooleanFlag:!1},{eventId:"event26",eventPath:"singleProductPrice",isBooleanFlag:!1}],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"collection-item-path",productStringQuantityVariableType:"collection-item-path",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"RPU Add To Cart",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCa69fd74cf0d740dda2e926ff8a624c60-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLde698ef671db4f81ae0cfdbc9ebd2e27",name:"PowerBI/PDP_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:PRODUCT_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:85}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCd9614cd9f43e4f2f8858afc7bbe1e98c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1e640821abc54311ad89245f6fce90f3",name:"Checkout_PromoCode_Success",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-promoCode-applied",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=Number(sessionStorage.AA_orderDiscountsOnCart?sessionStorage.AA_orderDiscountsOnCart:0);isNaN(a)&&(a=0),window.s.eVar27=window.getPercentage(e.detail.totalSavings-a,e.detail.totalProductPrice),window.s.prop38=e.detail.promoCodes,window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"eVar27,prop38",",",1)}},trackerProperties:{}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%event.detail%",productStringEvars:[],productStringEvents:[],productCollectionPath:"products",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"sku",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Promo Code Success",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL2565973fb99c49dbbc75f5ee59d5c3bd",name:"APEX/RPU_Confirmation_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-rpu-confirmation-pageload",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-target-v2/lib/addPageLoadParams.js",settings:{params:{mboxURL:{value:"https://m.bestbuy.ca/checkout/#/en-CA/reserve-pickup/confirmation",checked:!1},mboxHost:{value:"bestbuy.ca",checked:!1}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(e.detail.products,e.detail.bundleData){var a=e.detail.bundleData.bundlePurchasePrice;t.linkTrackEvents=t.linkTrackEvents+",event80, event81, event82",t.events=t.events+",event23="+a+",event80="+a+",event81=1,event82"}t.purchaseID=e.detail.purchaseID,t.list2="none",_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"cart"},{name:"eVar2",type:"value",value:"rpu order confirmation"},{name:"eVar3",type:"value",value:"reservation received page"},{name:"eVar79",type:"value",value:"%event.detail.storeID%"},{name:"eVar85",type:"value",value:"%event.detail.purchaseID%"},{name:"eVar92",type:"value",value:"regular"}],props:[{name:"prop3",type:"alias",value:"eVar3"},{name:"prop34",type:"value",value:"RPU Order Confirmation"},{name:"prop16",type:"value",value:"%event.detail.purchaseID%"}],events:[{name:"event23"},{name:"event24"},{name:"event25"},{name:"purchase"}],pageName:"cart |rpu order confirmation"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray RPU Checkout Flow%",productStringEvars:[{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar18",eVarPath:"pickupType"},{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"productName"},{eVarId:"eVar57",eVarPath:"price.percentSaved"},{eVarId:"eVar30",eVarPath:"rpuFrom"},{eVarId:"eVar10",eVarPath:"parentBundle"}],productStringEvents:[{eventId:"event23",eventPath:"price.totalPurchasePrice",isBooleanFlag:!1},{eventId:"event25",eventPath:"qty",isBooleanFlag:!1},{eventId:"event39",eventPath:"price.totalSavings",isBooleanFlag:!1}],productCollectionPath:"products",productStringCategory:"",productStringQuantity:"qty",productStringUnitPrice:"unitPrice",productStringProductIdPath:"sku",productStringCategorySelected:!1,productStringQuantitySelected:!0,productStringProductIdSelected:!0,productStringUnitPriceSelected:!0,productStringCategoryVariableType:"collection-item-path",productStringQuantityVariableType:"collection-item-path",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCf354a9ecc2174508aca2067ecba0e2e8-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","cart |rpu order confirmation"],["page_location","%fullUrl%"],["page_path","%URL_hash%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"set_checkout_option",options:[["checkout_step","4"],["checkout_option","RPU"]],accounts:{1560790534239:{enabled:!0}},callback:null}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"purchase",options:[["value","%event.detail.products.0.price.totalPurchasePrice%"],["currency","CAD"],["items","%checkoutLineItemsForGA%"],["transaction_id","%event.detail.purchaseID%"],["shipping","0"]],accounts:{1560790534239:{enabled:!0}},callback:null}}]},{id:"RL9adc57fea8cf43e0b723118d2d0918d7",name:"DOM/TV_Variants_Clicked",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"[class*=sizeVariantWrapper] a div[class*=optionBox]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){_satellite.logger.log(e.detail)}},trackerProperties:{eVars:[{name:"eVar82",type:"value",value:"%tvVariantClicked%"}],props:[{name:"prop15",type:"value",value:"%productSku%"}],events:[{name:"event155"}],pageURL:"%fullUrl%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"TV Variant Clicked",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL3e752a4e20cd4a38b4bb9131910deb2b",name:"Set_VisitorID_Sign_In",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#triggerNode"},ruleOrder:25}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"tia",value:"\\S",valueIsRegex:!0}}],actions:[{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%sha256FromSignIn%",authState:1,integrationCode:"dsdmeid"}]}}]},{id:"RL28c74286e50b412ab4edcfbcae332d3d",name:"Error_404_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:PAGE_NOT_FOUND_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"body#page-not-found"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageType="errorpage",window.isGlobalError=!0,_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"error"},{name:"eVar2",type:"value",value:"error"}],props:[{name:"prop34",type:"value",value:"Page Not Found"}],channel:"Mdot",pageName:"404 Error Page"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC0c3efd9c630642808f26d803b3a8f8e9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL94735dd4a4b3414aac2e668ac398a2e9",name:"Account/Edit_Card_Loaded",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-edit-card-loaded-pageload",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-edit-card-pageload",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Update Credit Card Loaded",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLacf7793cef9a48f4b8fc628001e01ce1",name:"Account/Manage_Payments_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-manage-payments-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"manage your credit cards"},{name:"eVar3",type:"value",value:"my account"},{name:"eVar4",type:"value",value:"manage your credit cards"}],props:[{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop29",type:"value",value:"manage credit cards"},{name:"prop34",type:"value",value:"Manage your Credit Cards "}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |manage your credit cards "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL596203cb6f7c49b6b8f1f0e0860e03e4",name:"Account/Sign_Out_Left_Drawer_Navigation",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:Sign_Out_From_LeftDrawerNavigation",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Sign Out from Left Drawer Navigation",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL5569b79ba2b643b2a62b28e492640ea3",name:"Account/Manage_Addresses_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-manage-addresses-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"manage your addresses"},{name:"eVar3",type:"value",value:"my account"},{name:"eVar4",type:"value",value:"manage your addresses"}],props:[{name:"prop29",type:"value",value:"manage your addresses"},{name:"prop34",type:"value",value:"manage your addresses"}],channel:"Mdot",pageName:"my account |manage your addresses"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL2d5f745614414f8ea631af680a6595a9",name:"3rd_Party/Pinterest_Init",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:2}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCcb42cde6d347444e9ca8b39924d884e9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL638ee94045224c85812bde20ae35cf27",name:"Account/Create_Account_Loaded_Order_Confirmation",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-create-account-loaded-order-confirmation"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"create account"},{name:"eVar3",type:"value",value:"create account"},{name:"eVar9",type:"value",value:"dth order confirmation |order complete"},{name:"eVar1",type:"value",value:"my account"}],props:[{name:"prop3",type:"alias",value:"eVar3"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"dth order confirmation |order complete"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Account Create Loaded",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL1792e39138744bd2a24730a383a2f2ad",name:"Account/Create_Account_SignIn_Newsletter_Error",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-create-account-signin-newsletter-error"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1);var a=e.detail.error;if(a){var r="";r=(r=(a.name?a.name:"Unknown Error")+" |"+(a.statusCode?a.statusCode:"Unknown Status")+" |"+(a.uri?a.uri:"Unknown Uri")+" |").slice(0,r.length-2),window.s.list1=r||"500"}}},trackerProperties:{eVars:[{name:"eVar74",type:"value",value:"create account page"}],events:[{name:"event66"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |create account"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Newsletter Signup Failure",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL3a29452335a54fc08db49c704fa260d3",name:"Account/SignIn_Reset_Password_Confirmation",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-reset-password-confirmation-pageload",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"password reset confirmation"},{name:"eVar3",type:"value",value:"password reset confirmation"}],props:[{name:"prop1",type:"value",value:"my account"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |password reset confirmation"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL0f54cbdf648343ae999f56b6fba39fd9",name:"APEX/Fetch_Badges_Mbox",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"HOME_PAGE_LOAD"},ruleOrder:100},{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"CATEGORY_PAGE_LOAD"},ruleOrder:100},{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"PRODUCT_PAGE_LOAD"},ruleOrder:100},{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"SEARCH_PAGE_LOAD"},ruleOrder:100},{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"BRAND_PAGE_LOAD"},ruleOrder:100},{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"cart/ANALYTICS_CART_LOADED"},ruleOrder:100},{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"COLLECTION_PAGE_LOAD"},ruleOrder:100},{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"DYNAMIC_CONTENT_PAGE_LOAD"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(!window.sessionStorage.getItem("badgesFetched"))return!0}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCdeb34d39e75f484ba877c6670e27ddeb-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC008283ff158043988e05a5aac2de7c06-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa3acac40aaab444486f04852064271a8",name:"Checkout/Guest_Checkout_Account_Exist_Order",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-guest-checkout-account-exist-order"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"dth order confirmation |order complete"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Associate Existing Account with Order Loaded",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLc108bc70a9dd49aaa1a4b4bc0ad7dde0",name:"NPS_Survey_Popup",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:NPS_Survey_Popup",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event101"}],pageName:"%pageName%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"NPS Survey Popup",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL01c9e803f0394ef9a5c9841201e88cc8",name:"Checkout/Cart_Warranty_Error",events:[{
modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:servicePlan/HIGHLIGHT_ACCEPT_SERVICE_PLAN",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar111",type:"value",value:"Warranty:View:Cart Error"}],events:[{name:"event161"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Warranty:View:Cart Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL3dacba907057473da10bebd492e480fb",name:"TEMP/RPU_Confirmation_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-rpu-confirmation-pageload",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:85}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC21b97fef55a045ec9eae5e548405c43a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1e9557d7b12842c0be2714007b0dc8c6",name:"Orders/OrderDetails_Error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-order-details-error",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1),window.s.list1=e.detail.error.match(/\[([^\]]+)\]/g).join(",").replace(/\[/g,"").replace(/\]/g,"")}},trackerProperties:{events:[{name:"event66"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Order Details Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL17b53e10d9b7437cab040a7f61c234f3",name:"APEX/RPU_Cancel_Button_Click",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-rpu-cancel-click",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop9",type:"value",value:"%event.detail.parentUrl%"}],events:[{name:"event19"},{name:"scRemove"}],pageURL:"%event.detail.parentUrl%"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray RPU Checkout Flow%",productStringEvars:[{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"productName"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar21",eVarPath:"saleType"},{eVarId:"eVar30",eVarPath:"rpuFrom"}],productStringEvents:[],productCollectionPath:"products",productStringCategory:"",productStringQuantity:"qty",productStringUnitPrice:"unitPrice",productStringProductIdPath:"sku",productStringCategorySelected:!1,productStringQuantitySelected:!0,productStringProductIdSelected:!0,productStringUnitPriceSelected:!0,productStringCategoryVariableType:"collection-item-path",productStringQuantityVariableType:"collection-item-path",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Cancel Reservation",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL40cdc97f46d14125b2f196895e00df60",name:"Global/Init_Target",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:10}],conditions:[],actions:[{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC751cb6dc99a14a48acaca6b0f311667b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCc8bb381179494d5a91bb61406e6b7554-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLba5370c021ae4d64951bb80201793749",name:"Account/Add_New_Card_Loaded",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-add-new-card-loaded",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Add New Card Loaded",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLe33c588a6e1741eaa60e96cfe807cdc3",name:"APEX/Search_Change_Query",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"SEARCH_CHANGE_QUERY"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC95630c1821c54b299053475952389ad1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3d4bd8e794c4458b9e7dd75d787807ca",name:"APEX/DynamicContent_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"DYNAMIC_CONTENT_PAGE_LOAD"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.querySelector('[data-automation="phone-finder-include-carrier"]')}},negate:!0}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%PageType_fromKey%"},{name:"eVar2",type:"value",value:"%dynamic_content_pagename%"}],channel:"Mdot",pageName:"%PageType_fromKey% |%dynamic_content_pagename%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL8391a91707794de498da5ce4a6fec905",name:"Orders/contact seller error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-contact-seller-error-marketplace",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1),window.s.list1="Error Status code: "+(e.detail.error||500)}},trackerProperties:{events:[{name:"event66"}],pageName:"my account |order details "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Contact Seller; Email Submit Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL6f15b389fb2247608c3fd56a9ee5304c",name:"Orders/ start a return bby",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-email-start-return-bby",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"my account |order details "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"BBY; Return; Email Us",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL40288c55f8f643728d8429699f793026",name:"Checkout_Order_Submit_Click",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-click-place-order-button",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event63"}],channel:"Mdot"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Order Submit",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLbca287f4734b43869ffc5e6614778f31",name:"Orders/GSP_chat_customLink",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-custom-link"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail.linkName%",rightOperand:"Contact Us"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC735f90aff3c7479cb63ef8a05b572e6e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1e6565c0b11643099286a0193a5e0045",name:"APEX/Injected_Page",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:INJECTED_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{pageName:"%url ICMP%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL6d41c2d4acb74559818a742c42c1a953",name:"Orders/EditPayment_Error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-edit-payment-error",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1),e.detail&&(window.s.list1=e.detail.errorCode||"500",window.s.linkName=e.detail.linkName)}},trackerProperties:{events:[{name:"event66"}],pageName:"my account |order details"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Order Payment Update Unsuccessful",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL08579a903a4f40c8a4a7e712f4114bda",name:"Account/Delete_Shipping_Address_Successful",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-delete-address-successful",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Shipping Address Deleted",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL3c189a6872fe4d2689834fabf3d9b844",name:"3rd_Party/DTH_Confirmation",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-confirmation-pageload",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:80}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"dth order confirmation |order complete"!==window.persistentMetaData.previousPageName}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCa3dd21d839b04b8992f3e5ab2b3dd333-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCc4ec8beab21d48b1a91d09a2d77a7b59-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC641228e0fe924204a7a2f3604166d796-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCa8585f0b6eeb43faaf5d9c10b4c7274a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"facebook-pixel/src/lib/actions/sendPageView.js",settings:{}},{modulePath:"facebook-pixel/src/lib/actions/sendCustomEvent.js",settings:{name:"Purchase",parameters:[{key:"content_type",value:"product"},{key:"contents",value:"%facebookContentsArrayFromEvents%"},{key:"value",value:"%event.detail.totalProductPrice%"},{key:"currency",value:"CAD"},{key:"content_name",value:"dth"},{key:"contents_category",value:"%categoryArrayFromCheckoutLineItems%"},{key:"content_ids",value:"%skuArrayFromEvents%"}]}},{modulePath:"twitter-uwt/src/lib/actions/sendPurchase.js",settings:{value:"%event.detail.totalProductPrice%",currency:"CAN",order_id:"%event.detail.orderNumber%",content_ids:["%skuArrayFromEvents%"],content_type:"product"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC5e9328607eea4ac18d7ac6bff2b9c108-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC0d4061e96baf4b76b49f6bc90b5a177c-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC9fa125b54ef6489aa8b082ac7fe78aa2-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"purchase",options:[["value","%dthTotalSaleRevenue%"],["currency","CAD"],["google_business_vertical","retail"],["ecomm_pagetype","confirmation"],["transaction_id","%event.detail.orderNumber%"],["ecomm_prodid","%skuArrayFromEvents%"],["ecomm_totalvalue","%priceArrayFromEvents%"],["confirmation_pagetype","dth"]],accounts:{1556913832648:{label:"4IvxCPzH13sQ7NDu_QM",enabled:!0}},callback:null}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"purchase",options:[["value","%dthTotalSaleRevenue%"],["transaction_id","%event.detail.orderNumber%"],["u5","%skuArrayFromEvents%"],["u6","%totalQuantityFromEvents%"],["u7","%priceArrayFromEvents%"],["u12","%event.detail.shippingTotal%"]],accounts:{1561570089694:{label:"trans0/bestb00+transactions",enabled:!0}},callback:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCd5c5407711e1458a934e2d7348ddbebd-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC892361f1e4f649cbaea27485d0b16161-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCee1a0fa7dd5e482fbd593d12256955f9-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC2b651e984b8f4afc88bfc1ab59c10c46-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcb50bfbbdb714c9c899ffdb5c2bd66e1",name:"Orders/start a return bby error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-start-return-error-bby",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1),window.s.list1="Error Status code: "+(e.detail.error||500)}},trackerProperties:{events:[{name:"event66"}],pageName:"my account |order details "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"BBY; Return; Email Submit Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL396b372c438a4160b2eb67b7f316a29f",name:"Global/ActivityMap_in_iFrame",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-set-activitymap",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:49}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.cookieDomain=".bestbuy.ca",t.contextData["a.activitymap.link"]=e.detail.linkName,t.contextData["a.activitymap.page"]=e.detail.prevPage||t.pageName||"",t.contextData["a.activitymap.pageIDType"]="1",t.contextData["a.activitymap.region"]=e.detail.region||"root"}},trackerProperties:{}}}]},{id:"RL29d47234ff554974bbe4ec4cc1cb52a4",name:"Checkout/Cart_Warranty_Checkout_Buttons_Clicked",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-cart-continue-to-checkout",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"true"!=sessionStorage.warranty_added&&"true"==sessionStorage.cart_warranty_changed?(sessionStorage.removeItem("cart_warranty_changed"),sessionStorage.setItem("warranty_added","true"),!0):(sessionStorage.removeItem("cart_warranty_changed"),!1)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=e.detail.state.cart.shipments.flatMap(function(e){return e.lineItems.flatMap(function(e){return e.children.filter(function(e){return"PSP"==e.lineItemType})})}),r=e.detail.state.cart.shipments.flatMap(function(e){return e.lineItems.flatMap(function(e){return e.availableServicePlans.filter(function(e){return e.sku.id===a[0].sku.id})})});e.detail.state.cart.totalQuantity!=undefined&&(window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"prop61",",",1),window.s.prop61=r[0].termMonths/12);var n="scAdd,event54,event6";window.s.linkTrackEvents=t.apl(window.s.linkTrackEvents,n,",",1),window.s.events=t.apl(window.s.events,n,",",1)}},trackerProperties:{channel:"Mdot",pageName:"cart |dth cart"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray Cart Warranty ATC%",productStringEvars:[{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"},{eVarId:"eVar126",eVarPath:"addLocation"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar80",eVarPath:"vendorType"}],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"sku.id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"warrantyadd_c",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLe57bc7fb70414cd38f4fa60e0391cd90",name:"APEX/Product_Rating_Link_Click",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:CUSTOMER_REVIEWS_COUNT_LINK_CLICK",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop9",type:"value",value:"%event.detail.parentUrl%"}],pageURL:"%event.detail.parentUrl%"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray PDP PageLoad%",productStringEvars:[],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"PDP Star Rating Click",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL8156c47e70ed494c94900dc763a9fe66",name:"OrderStatus SetCampaign",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#triggerNode"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(order-status)|(ma-commande)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC6d90617244494d67a11feef9999d589a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4bf38cc1b85343a3890ff8d380d6444a",name:"Orders/start a return marketplace",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-start-return-marketplace",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"my account |order details "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"MP; Start a Return",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLd75638a1e5854787962fea1af8c6f7d8",name:"Get/Cancel_Order_Load",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-cancel-order-load"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"cancel order"},{name:"eVar4",type:"value",value:"cancel order"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Cancel Order Loaded",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLf1bc90a1b2114a57a3eaf4fa60ceac51",name:"Global/Load_AED_Backlog",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:51}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC05b379d9e407485ea31ca408bcba6003-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd66b6d49861a4aa1ba364da46a25283a",name:"Orders/price match error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEventanalytics-request-price-match-error-bby",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1),window.s.list1="Error Status code: "+(e.detail.error||500)}},trackerProperties:{events:[{name:"event66"}],pageName:"my account |order details "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Price Match; Email Submit Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLe715634ee2804d6db06b2f4fd9b0691f",name:"APEX/No_Search_Results_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"SEARCH_PAGE_LOAD"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return!(!e.detail.state.search||!e.detail.state.search.searchResult||0!==e.detail.state.search.searchResult.total)}}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(search|chercher)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCafea865c4c6040a5ac244e98dcb5ee93-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL86ebcb1ae3b1416fa047a1e6333374f9",name:"Account/Add_New_Card_Unsuccessful",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-add-new-card-unsuccessful",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Add New Card Unsuccessful",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL485999a70ee240d18c14e3d3a6ef8d93",name:"Checkout/Confirmation_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-confirmation-pageload",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:51}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"dth order confirmation |order complete"!==window.persistentMetaData.previousPageName}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(sessionStorage.removeItem("warranty_added"),sessionStorage.removeItem("cart_warranty_changed"),sessionStorage.AA_checkoutTimeStart!=undefined){var a=Number((Date.now()/1e3).toFixed(0))-Number(sessionStorage.AA_checkoutTimeStart);!isNaN(a)&&_satellite.cookie.get("ta")?t.eVar102=a.toString():isNaN(a)||_satellite.cookie.get("ta")||(t.eVar101=a.toString()),sessionStorage.removeItem("AA_checkoutTimeStart")}if(_satellite.cookie.set("AA_hasSeenCheckoutThisVisit","false",{expires:new Date((new Date).getTime()+18e5),path:"/"}),_satellite.getVar("getGlobalVars"),_satellite.cookie.set("AA_pagePathingCount",0,{expires:new Date((new Date).getTime()+18e5),path:"/"}),sessionStorage.AA_cartItems="0",e.detail&&e.detail.products){var r=[];if(e.detail.products.find(function(e){return e.bundleName!=undefined})!=undefined&&r.push("event82"),e.detail.products.find(function(e){return"PSP"==e.lineItemType})!=undefined&&r.push("event159"),t.events=t.apl(t.events,r.join(","),",",1),e.detail.shippingTotal!=undefined&&(window.s.eVar32=e.detail.shippingTotal.toFixed(2)),e.detail.totalSavings!=undefined){var n=window.getPercentage(e.detail.totalSavings,e.detail.totalProductPrice);window.s.eVar35=n!=undefined&&"NaN%"!==n?n:"0%"}e.detail.billingCity&&(window.s.eVar84=e.detail.billingCity),e.detail.email&&(window.s.eVar88=sha256(e.detail.email)),e.detail.paymentGateway&&(window.s.eVar92=e.detail.paymentGateway),e.detail.paymentTypes&&(window.s.list2=e.detail.paymentTypes),e.detail.orderNumber&&(window.s.purchaseID=e.detail.orderNumber),_satellite.cookie.get("irclickid")&&(t.events+="event172,");var i=Number(sessionStorage.AA_orderDiscountsOnCart?sessionStorage.AA_orderDiscountsOnCart:0);isNaN(i)&&(i=0),window.s.eVar27=window.getPercentage(e.detail.totalSavings-i,e.detail.totalProductPrice),window.s.prop38=e.detail.promoCodes.join(",")}}},trackerProperties:{eVars:[{name:"eVar85",type:"value",value:"%event.detail.orderNumber%"},{name:"eVar2",type:"value",value:"order complete"},{name:"eVar1",type:"value",value:"dth order confirmation"},{name:"eVar93",type:"value",value:"%purchase-ab-scheduler%"}],props:[{name:"prop16",type:"value",value:"%event.detail.orderNumber%"},{name:"prop34",type:"value",value:"Order Complete"},{name:"prop29",type:"value",value:"order complete"},{name:"prop62",type:"alias",value:"eVar93"}],events:[{name:"event11"},{name:"event12"},{name:"event13"},{name:"purchase"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"dth order confirmation |order complete"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray Checkout%",productStringEvars:[{eVarId:"eVar10",eVarPath:"parentSku"},{eVarId:"eVar11",eVarPath:"parentName"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar18",eVarPath:"fulfillmentType"},{eVarId:"eVar21",eVarPath:"discountType"},{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"},{eVarId:"eVar57",eVarPath:"savingsPercentage"}],productStringEvents:[{eventId:"event11",eventPath:"price",isBooleanFlag:!1},{eventId:"event13",eventPath:"qty",isBooleanFlag:!1},{eventId:"event80",eventPath:"e80Price",isBooleanFlag:!1},{eventId:"event81",eventPath:"e81Qty",isBooleanFlag:!1},{eventId:"event157",eventPath:"e157Qty",isBooleanFlag:!1},{eventId:"event158",eventPath:"e158Price",isBooleanFlag:!1}],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"qty",productStringUnitPrice:"unitPrice",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!0,productStringProductIdSelected:!0,productStringUnitPriceSelected:!0,productStringCategoryVariableType:"",productStringQuantityVariableType:"collection-item-path",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC87133d3815c7459caee10e41bc1bd887-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCb7c6123d84724d14b9a1fffba933de1c-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","dth order confirmation |order complete"],["page_location","%fullUrl%"],["page_path","%URL_hash%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"set_checkout_option",options:[["checkout_step","5"],["checkout_option","DTH"]],accounts:{1560790534239:{enabled:!0}},callback:null}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"purchase",options:[["value","%event.detail.totalProductPrice%"],["currency","CAD"],["items","%checkoutLineItemsForGA%"],["transaction_id","%event.detail.orderNumber%"],["shipping","%event.detail.shippingTotal%"]],accounts:{1560790534239:{enabled:!0}},callback:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC27ef03a7686a4b8da2ac35b22e4b9d4b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbb813cbf5ba849c6b0102c631171cf3f",name:"Checkout/SignIn_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-checkout-signin-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"cart"},{name:"eVar2",type:"value",value:"dth cart login"},{name:"eVar3",type:"value",value:"cart login"},{name:"eVar93",type:"value",value:"%purchase-ab-scheduler%"}],props:[{name:"prop34",type:"value",value:"DTH Cart Login"},{name:"prop29",type:"value",value:"best buy"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop62",type:"alias",value:"eVar93"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"cart |dth cart login"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC0ad3f171cacc4051abfaf3912c4b208b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","cart |dth cart login"],["page_location","%fullUrl%"],["page_path","%URL_path%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}}]},{id:"RLa4a49d99a9dd496e997aa165d8b5d4dd",name:"Account/Delete_Shipping_Address_Unsuccessful",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-delete-address-unsuccessful",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Shipping Address Deleted Unsuccessfully",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL2ae16249e72f40698f352b3f728eea3f",name:"TEMP/Note 10 listeners",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"MOBILE_PREORDER_PAGELOAD"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCc2cc2b175dcd4b529e422dee3497c1e8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0d2a28209c5c45e2a3821b6840b4996d",name:"Orders/OrderHistory_Error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-order-history-error",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1),window.s.list1=e.detail.error.match(/\[([^\]]+)\]/g).join(",").replace(/\[/g,"").replace(/\]/g,"")}},trackerProperties:{events:[{name:"event66"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Order History Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLa56a7357955c45858c420ccc21a20037",name:"Stay/Help_Chat_CustomLink",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"HELP_PAGE_LOAD"},ruleOrder:60}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCa4b2b89d7bed41c4807fda525aa2c3a0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfbaec3c5cfef4788a6a66a1dfdf07cc9",name:"Account/Add_New_Card_Successful",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-add-new-card-successful",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Add New Card Successful",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLdea4d1f805fc44d1af737dd41cb11bf2",name:"Account/Create_Account_SignIn_Loaded",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-create-account-loaded",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar61",type:"value",value:"header sign in page"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Create Account Loaded",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLa581941255fb437384ac7fa72203c88b",name:"Checkout_Error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-checkout-error",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){window.s.linkTrackVars+=",list1",e.detail&&e.detail&&e.detail.errorCodes&&(window.s.list1=e.detail.errorCodes.toString())}},trackerProperties:{events:[{name:"event66"}],channel:"Mdot"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Checkout Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL6f326a6fa5c940baa8737f79615cb500",name:"Orders/start return marketplace error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-start-return-error-marketplace",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1),window.s.list1="Error Status code: "+(e.detail.error||500)}},trackerProperties:{events:[{name:"event66"}],pageName:"my account |order details "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"MP; Return; Email Submit Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLc2336a549cd2400c947f3de43f12bc3d",name:"Checkout/Delivery_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-delivery-pageload",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){var t={event:"checkout-common-pageload"};t.checkout=e.detail,window.AppEventData==undefined&&(window.AppEventData=[]),window.AppEventData.push(t)}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"dth checkout"},{name:"eVar3",type:"value",value:"delivery"},{name:"eVar1",type:"value",value:"checkout"}],props:[{name:"prop3",type:"alias",value:"eVar3"},{name:"prop34",type:"value",value:"Checkout"},{name:"prop29",type:"value",value:"secure checkout"}],pageName:"checkout |dth checkout |delivery"}}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","checkout |dth checkout |delivery"],["page_location","%fullUrl%"],["page_path","%URL_hash%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"set_checkout_option",options:[["checkout_step","3"],["checkout_option","DTH"]],accounts:{1560790534239:{enabled:!0}},callback:null}}]},{id:"RL5cc687ac37f74124808e103f8d77b7a2",name:"APEX/Flyer_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"FLYER_PAGE_LOAD"},ruleOrder:1}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"weekly flyer"},{name:"eVar2",type:"value",value:"localized flyer"},{name:"eVar87",type:"value",value:"%postalCode%"}],pageName:"weekly flyer |localized flyer"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","weekly flyer |localized flyer"],["page_location","%fullUrl%"],["page_path","%URL_path%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}}]},{id:"RLd63e5369cd4a45e9811632329d11b34a",name:"Checkout/Review_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-review-pageload",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){var t={event:"checkout-common-pageload"};t.checkout=e.detail,window.AppEventData==undefined&&(window.AppEventData=[]),window.AppEventData.push(t)}},trackerProperties:{eVars:[{name:"eVar32",type:"value",value:"%event.detail.shippingTotal%"},{name:"eVar2",type:"value",value:"dth checkout"},{name:"eVar3",type:"value",value:"order review"},{name:"eVar1",type:"value",value:"checkout"}],props:[{name:"prop3",type:"alias",value:"eVar3"},{name:"prop34",type:"value",value:"Order Review"},{name:"prop29",type:"value",value:"secure checkout"}],events:[{name:"event140"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"checkout |dth checkout |order review "}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCc32d2a5d16634e7b831541126e55e81b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","checkout |dth checkout |order review"],["page_location","%fullUrl%"],["page_path","%URL_hash%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"set_checkout_option",options:[["checkout_step","4"],["checkout_option","DTH"]],accounts:{1560790534239:{enabled:!0}},callback:null}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"checkout_progress",options:[["items","%checkoutLineItemsForGA%"]],accounts:{1560790534239:{enabled:!0}},callback:null}}]},{id:"RLc4e84853194f48ce872aff4499596812",name:"APEX/Mobile_Preorder_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:MOBILE_PREORDER_PAGELOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%PageType_fromKey%"},{name:"eVar2",type:"value",value:"%dynamic_content_pagename%"}],channel:"Mdot",pageName:"%PageType_fromKey% |%dynamic_content_pagename%"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%PreOrderPageloadProducts%",productStringEvars:[],productStringEvents:[],productCollectionPath:"products",productStringCategory:"",productStringQuantity:"1",productStringUnitPrice:"price",productStringProductIdPath:"sku",productStringCategorySelected:!1,productStringQuantitySelected:!0,productStringProductIdSelected:!0,productStringUnitPriceSelected:!0,productStringCategoryVariableType:"collection-item-path",productStringQuantityVariableType:"collection-item-static-text",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL3f4e5112634f42e68f80d9cd06ecb7a4",name:"Target/PDP-Hide-delivery-msg",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"PRODUCT_PAGE_LOAD"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=/(M2231652)|(M2231708)|(M2231769)/i,a=e.detail.state.product&&e.detail.state.product.product&&e.detail.state.product.product.sku;return!!t.test(a)}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC208d0a4a9cac45dbb67253c3392c23d5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcc9e2598c5614f68a7a776f3909e6a2f",name:"Track_Navigation",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:NAVIGATION_TRACK_MENU",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC2ad710fb6db14bedb087bf3717900a4d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb86d3e1aaa0449feb5bab6032abd3292",name:"APEX/RequiredPartsRemovedOnInterstitial",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:cart/ANALYTICS_REQUIRED_PART_REMOVED",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event7"},{name:"scRemove"}],channel:"Mdot",pageName:"interstitial|required parts"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray_RequiredPartsNeeded%",productStringEvars:[{eVarId:"evar54",eVarPath:"interstitial"},{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"}],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"required parts_add",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLfcb72db1710b49868f11fe40f3785fd2",name:"Account/Create_Account_Success_Order_Confirmation",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-create-account-success-order-confirmation"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar9",type:"value",value:"dth order confirmation |order complete"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"dth order confirmation |order complete"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Account Created Successfully",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL007e86230c87444bbca2369d197e4610",name:"APEX/RPU-Newsletter-Subscribe-Success",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-rpu-newsletter-success"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar74",type:"value",value:"rpu order confirm"}],events:[{name:"event62"}],pageName:"cart |rpu order confirmation"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Newsletter Signup Success",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLd98698df2c4449578f20d14da8df2b90",name:"Get/Cancel_Order_Success",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-cancel-order-success"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop72",type:"value",value:"%event.detail.cancelReason%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Successful Canceled Order",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL6ad5cf952b4b4b2a98f5fe6af79338b1",name:"Find/Geeksquad_Membership_CTA",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"DYNAMIC_CONTENT_PAGE_LOAD"},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"geek-squad-business-membership|abonnement-geek-squad-pour-la-maison",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC8b14cef285854f6fa26048387664020b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL62d864eb4c4843f2a9e8f35cdbeebf53",name:"Account/Account_Dashboard_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-account-dashboard-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){_satellite.getVar("getGlobalVars"),e.detail.isAccountCreated&&(t.linkTrackEvents=t.apl(t.linkTrackEvents,"event64",",",1),t.events=t.apl(t.events,"event64",",",1),t.eVar61="dth order confirmation")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"account overview"},{name:"eVar3",type:"value",value:"my account"},{name:"eVar4",type:"value",value:"account overview"}],props:[{name:"prop3",type:"alias",value:"eVar3"},{name:"prop29",type:"value",value:"dashboard"},{name:"prop34",type:"value",value:"Your Dashboard"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |account overview"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLf821731621a94aaabef804465056279d",name:"APEX/SSC_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"COLLECTION_PAGE_LOAD"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC4c4c06cd431546839c3720b6eec5256d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){e&&e.detail&&e.detail.state&&e.detail.state.search&&e.detail.state.search.searchResult&&e.detail.state.search.searchResult.products&&1==e.detail.state.search.searchResult.products[0].isMarketplace&&(t.events=t.apl(t.events,"event131",",",1)),_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"search collection"},{name:"eVar8",type:"value",value:"sku collection"},{name:"eVar40",type:"value",value:"+1"},{name:"eVar44",type:"value",value:"%event.detail.state.search.sscId%"},{name:"eVar83",type:"value",value:"%event.detail.state.search.searchResult.total%"},{name:"eVar4",type:"value",value:"%event.detail.state.search.sscId%"},{name:"eVar3",type:"value",value:"%SSC_PageName%"},{name:"eVar1",type:"value",value:"products"}],props:[{name:"prop18",type:"alias",value:"eVar83"},{name:"prop22",type:"value",value:"search bar"},{name:"prop34",type:"value",value:"%event.detail.state.search.searchResult.ssc.name%"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop8",type:"alias",value:"eVar8"}],pageName:"sku collection |%SSC_PageName%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC4cbcfed711444f9f99e35f9314b1d496-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","sku collection |%SSC_PageName%"],["page_location","%fullUrl%"],["page_path","%URL_path%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrlWithoutPIIDataFromAppEventData%"]]}}}}]},{id:"RL31265951b4414edb9fd68fc60f69cb7b",name:"Account/Add_New_Shipping_Address_Successful",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-add-new-address-successful",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"New Shipping Address Saved",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLa52bebdec508478e8fb6ef974f988bfa",name:"Checkout/Cart_Item_Removed || Quantity_Update",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:cart/ANALYTICS_ITEM_REMOVED",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:cart/ANALYTICS_QUANTITY_UPDATED",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=e.detail.payload.lineItem.lineItemType;return"PSP"!==t&&"PRP"!==t}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){e.detail.state.cart.totalQuantity!=undefined&&(window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"eVar104",",",1),sessionStorage.AA_cartItems=e.detail.state.cart.totalQuantity,window.s.eVar104=sessionStorage.AA_cartItems);var a=e.detail.payload.update==undefined?"event7,scRemove":"increase"===e.detail.payload.update?"event169":"event170";window.s.linkTrackEvents=t.apl(window.s.linkTrackEvents,a,",",1),window.s.events=t.apl(window.s.events,a,",",1)}},trackerProperties:{channel:"Mdot",pageName:"cart |dth cart"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray QtyChg%",productStringEvars:[],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"sku.id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Remove/Quantity Update",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL36c8a5cd9607454daa62105b24472d8c",name:"Orders/start mp escalations",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"open-start-escalation"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop35",type:"value",value:"%seller id from payload%"},{name:"prop36",type:"value",value:"%seller name from payload%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Start Marketplace Escalation",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLe42fd9a09e4948f184b178474eca80e2",name:"Checkout/Guest_Checkout_Reset_Password_Error",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-guest-checkout-reset-password-error"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1);var a=e.detail.error;if(a){var r="";r=(r=(a.name?a.name:"Unknown Error")+" |"+(a.statusCode?a.statusCode:"Unknown Status")+" |"+(a.uri?a.uri:"Unknown Uri")+" |").slice(0,r.length-2),window.s.list1=r||"500"}}},trackerProperties:{events:[{name:"event66"}],pageName:"dth order confirmation |order complete"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Email Reset Password Instructions",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL1f5b54291a4045a680f6be407a69e390",name:"APEX/Home_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"HOME_PAGE_LOAD"},ruleOrder:1}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"home"},{name:"eVar1",type:"value",value:"home"},{name:"eVar40",type:"value",value:"+1"}],props:[{name:"prop34",type:"value",value:"Home"}],channel:"Mdot",pageName:"home"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","home"],["page_location","%fullUrl%"],["page_path","%URL_path%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCee2e1e5a72d446068f26175b5763f215-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7cef549df068445795e41a84b1b33fd7",name:"APEX/Preorder_Add_To_Cart",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:PRE_ORDER_ADD_TO_CART",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event71"},{name:"scAdd"}]}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%PreOrderAddToCartProduct%",productStringEvars:[{eVarId:"eVar15",eVarPath:"single"},{eVarId:"eVar21",eVarPath:"discountType"},{eVarId:"eVar51",eVarPath:"skuName"},{eVarId:"eVar52",eVarPath:"name"},{eVarId:"eVar59",eVarPath:"addToCartFrom"},{eVarId:"eVar62",eVarPath:"onlineAvailability"},{eVarId:"eVar63",eVarPath:"instoreAvailability"},{eVarId:"eVar96",eVarPath:"price"}],productStringEvents:[{eventId:"event4",eventPath:"price",isBooleanFlag:!1},{eventId:"event14",eventPath:"price",isBooleanFlag:!1}],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"1",productStringUnitPrice:"price",productStringProductIdPath:"sku",productStringCategorySelected:!1,productStringQuantitySelected:!0,productStringProductIdSelected:!0,productStringUnitPriceSelected:!0,productStringCategoryVariableType:"",productStringQuantityVariableType:"collection-item-static-text",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Product Finder Add To Cart",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL6efbf1b0276c42e2ae38532a3246592f",name:"Account/Edit_Card_Successful",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-edit-card-successful",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Update Credit Card Successful",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL253aa91c894e4045961ba7acb21d5614",name:"NPS_Survey_Accepted",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:NPS_Survey_Accepted",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event102"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"NPS Survey Accepted",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLcbf70b2ce5894cc1b12d3b625817393e",name:"3rd_Party/Impact_init",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#triggerNode"},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"utm_source",value:"IR",valueIsRegex:!1}},{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"utm_content",value:"\\S",valueIsRegex:!0}},{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"irclickid",value:"\\S",valueIsRegex:!0}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC6ef64a33123040f4ab07c18eff1f9546-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2950435320084a36aa34b80ee4dce14b",name:"3rd_Party/Category_Update",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"SEARCH_RESULTS_UPDATE"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){if(0!=e.detail.state.search.searchResult.total)return!0}}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(category|categorie)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC0b94792712a649d3add853bcd3e5e404-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCa81d8516a980457fa8e4aa27d664962a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6b545888ec2342d8ba2f773b2957209f",name:"Account/Newsletter_Unsubscribe_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-newsletter-unsubscribe-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"newsletter"},{name:"eVar2",type:"value",value:"newsletter update"},{name:"eVar3",type:"value",value:"newsletter update"}],props:[{name:"prop34",type:"value",value:"newsletter"}],pageName:"Update Email Preferences"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLb726df43e660498f89391fbef43ada47",name:"3rd_Party/RPU_Confirmation_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-rpu-confirmation-pageload",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"facebook-pixel/src/lib/actions/sendPageView.js",settings:{}},{modulePath:"facebook-pixel/src/lib/actions/sendCustomEvent.js",settings:{name:"Purchase",parameters:[{key:"content_type",value:"product"},{key:"content_ids",value:"%skuArrayFromEvents%"},{key:"value",value:"%event.detail.products.0.price.totalPurchasePrice%"},{key:"currency",value:"CAD"},{key:"content_name",value:"rpu"}]}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"purchase",options:[["value","%event.detail.products.0.price.totalPurchasePrice%"],["u5","%skuArrayFromEvents%"],["u6","1"],["u7","%event.detail.products.0.price.totalPurchasePrice%"],["transaction_id","%event.detail.purchaseID%"]],accounts:{1561570089694:{label:"trans0/bestb0+transactions",enabled:!0}},
callback:null}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"purchase",options:[["value","%event.detail.products.0.price.totalPurchasePrice%"],["currency","CAD"],["ecomm_pagetype","confirmation"],["ecomm_prodid","%skuArrayFromEvents%"],["ecomm_totalvalue","%event.detail.products.0.price.totalPurchasePrice%"],["google_business_vertical","retail"],["confirmation_pagetype","rpu"]],accounts:{1556913832648:{label:"4IvxCPzH13sQ7NDu_QM",enabled:!0}},callback:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCb27ec844c0974684a2e133543238db26-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6f9eb835d7674b8a86fc1f189ef8a252",name:"APEX/RPU_Select_Store_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-rpu-pickup-store-pageload",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){"true"!==_satellite.cookie.get("AA_hasSeenRPUThisVisit")&&(t.events=t.apl(t.events,"event22,scCheckout",",",1)),_satellite.cookie.set("AA_hasSeenRPUThisVisit","true",{expires:new Date((new Date).getTime()+18e5),path:"/"}),_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"cart"},{name:"eVar2",type:"value",value:"rpu cart"},{name:"eVar3",type:"value",value:"rpu select store"}],props:[{name:"prop3",type:"alias",value:"eVar3"},{name:"prop34",type:"value",value:"RPU Select Store"}],events:[{name:"event28"}],pageName:"cart |rpu cart |rpu select store"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray RPU Checkout Flow%",productStringEvars:[{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"productName"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar21",eVarPath:"saleType"},{eVarId:"eVar30",eVarPath:"rpuFrom"},{eVarId:"eVar10",eVarPath:"parentBundle"}],productStringEvents:[],productCollectionPath:"products",productStringCategory:"",productStringQuantity:"qty",productStringUnitPrice:"unitPrice",productStringProductIdPath:"sku",productStringCategorySelected:!1,productStringQuantitySelected:!0,productStringProductIdSelected:!0,productStringUnitPriceSelected:!0,productStringCategoryVariableType:"collection-item-path",productStringQuantityVariableType:"collection-item-path",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","cart |rpu cart |rpu select store "],["page_location","%fullUrl%"],["page_path","%URL_hash%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"set_checkout_option",options:[["checkout_step","1"],["checkout_option","RPU"]],accounts:{1560790534239:{enabled:!0}},callback:null}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"checkout_progress",options:[["items","%checkoutLineItemsForGA%"]],accounts:{1560790534239:{enabled:!0}},callback:null}}]},{id:"RL3b639f416cd74148b1d257f204c8429c",name:"Orders/OrderHistory_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-order-history-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"order history"},{name:"eVar3",type:"value",value:"my account"},{name:"eVar4",type:"value",value:"order history"}],props:[{name:"prop34",type:"value",value:"Order History"}],pageName:"my account |order history"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLebf5a7bfab5e4bd5add7cde9269d878a",name:"Event PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:EVENT_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"event"},{name:"eVar2",type:"value",value:"event"}],props:[{name:"prop34",type:"value",value:"Event Page"}],channel:"Mdot",pageName:"%event.detail.state.eventMarketing.content.seo.headerTitle%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL5c0d2a6c25bc43fa9483099d6da4b9a4",name:"SignIn_ForgotPasswordError",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-forgot-password-error",elementSelector:"#root",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){window.s.linkTrackVars=window.s.linkTrackVars&&""!==window.s.linkTrackVars?window.s.linkTrackVars+",list1":"list1",window.s.list1=e.detail.payload.errorCodes.toString()}},trackerProperties:{events:[{name:"event66"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"%pageName%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Forgot Password Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLb66754dfe117423484b024e2dde4835b",name:"Decide/Customer_Review_Impression",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:CUSTOMER_REVIEWS_IMPRESSION",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){try{var t=e.detail.payload.sku;window.s.products=";"+t+";;"}catch(a){return}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Customer Review on PDP Impression",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL62693a4694f7417986f34fe463a9fe97",name:"Footer/Newsletter_Signup_Fail",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:FOOTER_NEWSLETTER_SIGNUP_FAIL",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1);var a=e.detail.error;if(a){var r="";r=(r=(a.name?a.name:"")+" |"+(a.statusCode?a.statusCode:"500")+" |"+(a.uri?a.uri:"")+" |").slice(0,r.length-2),window.s.list1=r||"500"}}},trackerProperties:{eVars:[{name:"eVar74",type:"value",value:"global footer"}],events:[{name:"event66"}],pageURL:"%URL&",pageName:"%pageName%",referrer:"%referrer%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Newsletter Signup Unsuccessful",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLe576e8f2ef8547e99d99d926345e5d87",name:"TEMP/ Filter and Sort By Click Events",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"SEARCH_PAGE_LOAD"},ruleOrder:50},{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"CATEGORY_PAGE_LOAD"},ruleOrder:50},{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"COLLECTION_PAGE_LOAD"},ruleOrder:50},{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"BRAND_PAGE_LOAD"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCdccccb62af4d4f4baa07b14b046a1a1b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9eaaefdd56184c3ea7b95a639e96094e",name:"3rd_Party/Search_Update",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"SEARCH_RESULTS_UPDATE"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){if(0!=e.detail.state.search.searchResult.total)return!0}}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(search|chercher)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC1cc879fe74aa457ab4746f2bc4bef462-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC815e37e17ea34e7988945912996663f7-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC34bf34eaf0db46fe9082c84ff1bf6ed7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfaab023d6ac24321a8004968a218402b",name:"APEX/Brand_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"BRAND_PAGE_LOAD"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar28",type:"value",value:"%brandCollection%"},{name:"eVar40",type:"value",value:"+1"},{name:"eVar2",type:"value",value:"%brandCollection%"},{name:"eVar1",type:"value",value:"brand store"}],props:[{name:"prop26",type:"value",value:"%brandCollection%"},{name:"prop34",type:"value",value:"brand store"}],channel:"Mdot",pageName:"brand store |%brandCollection% |brand home"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC0307487717f247b1b613609b32369433-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","brand store |%brandCollection% |brand home"],["page_location","%fullUrl%"],["page_path","%URL_path%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}}]},{id:"RL0ac89802296e44c995bb262f7e768eaf",name:"TEMP/DTH_Confirmation_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-confirmation-pageload",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:85}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC31f750f1a0d743b9a8b94b1f035357a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL681b8ba95c6d4b268fa75548037e032d",name:"Account/Create_Account_SignIn_Newsletter_Success",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-create-account-signin-newsletter-success",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar61",type:"value",value:"header sign in page"},{name:"eVar74",type:"value",value:"create account page"}],events:[{name:"event64"},{name:"event62"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |create account"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Create Account Success",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL6750d76e85c34820b6e8fd14131bb4da",name:"APEX/PDP_Fetch_TGM",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"FETCH_TARGET"},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCa8f9ca93f65f418cbeefadb88ec7439e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd1761cee907e4726ae6e7c63895e7e61",name:"Account/SignIn_Set_New_Password",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-change-password-pageload",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"set new password"},{name:"eVar3",type:"value",value:"set new password"}],props:[{name:"prop1",type:"value",value:"my account"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |set new password"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL25d97b21dc1e4db19cbf3b4c5d6f6a39",name:"Checkout/Cart_Item_Removed ",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:cart/ANALYTICS_ITEM_REMOVED",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=e.detail.payload.lineItem.lineItemType;return"PSP"!==t&&"PRP"!==t}}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"remove_from_cart",options:[["items","%basketLineItemsForGA%"]],accounts:{1560790534239:{enabled:!0}},callback:null}}]},{id:"RL499ddeb7d949401b8c8f2f07bfc37e0e",name:"Orders/GiftCardBalanceChecker_Error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-gift-card-balance-checker-validation-errors",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.list1="",window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1),e.detail&&e.detail.errorCodes&&(window.s.list1=e.detail.errorCodes.toString())}},trackerProperties:{events:[{name:"event66"}]}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%event.detail%",productStringEvars:[],productStringEvents:[],productCollectionPath:"products",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"sku",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Gift Card Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLcdee301696fa46efb84947589171505f",name:"APEX/Required_Parts_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:requiredProducts/ADD_REQUIRED_PRODUCTS",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(\\/en-ca\\/required-parts\\/)|(\\/fr-ca\\/required-parts\\/)",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"interstitial"},{name:"eVar2",type:"value",value:"required parts"}],props:[{name:"prop34",type:"value",value:"required parts"},{name:"prop1",type:"value",value:"D=v1"},{name:"prop2",type:"value",value:"D=v2"}],pageName:"interstitial|required parts"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray_RequiredPartsParent%",productStringEvars:[{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"}],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL774971c49f04419299e6342c772ea87b",name:"Orders_OrderDetails_DownloadReceipt",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-order-details-download-receipt",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{channel:"Mdot",pageName:"my account |order details"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Download Receipt",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLb98997aca491425ea156decc612afa40",name:"Checkout/Calendar_Load",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-calendar-load",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar3",type:"value",value:"calendar"}],events:[{name:"event56"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"checkout |dth checkout |order review "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLedf124782a87408096424fb37b0fa0d0",name:"Checkout/Cart_Quantity_Updated",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:cart/ANALYTICS_QUANTITY_UPDATED",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=e.detail.payload.lineItem.lineItemType;return"PSP"!==t&&"PRP"!==t}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"scAdd"},{name:"event54"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"warrantyadd_c",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"%eventNameForQtyUpdate%",options:[["items","%basketLineItemsForGA%"]],accounts:{1560790534239:{enabled:!0}},callback:null}}]},{id:"RLa883cd169d154f37b59e4a8b2d4a8e9d",name:"Checkout/Shipping_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-shipping-pageload",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC9c61d2b4d3be441c9abb76fdc8014d01-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){var t={event:"checkout-common-pageload"};t.checkout=e.detail,window.AppEventData==undefined&&(window.AppEventData=[]),window.AppEventData.push(t)}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"dth checkout"},{name:"eVar3",type:"value",value:"shipping"},{name:"eVar1",type:"value",value:"checkout"}],props:[{name:"prop3",type:"alias",value:"eVar3"},{name:"prop34",type:"value",value:"Checkout"},{name:"prop29",type:"value",value:"secure checkout"}],events:[{name:"event138"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"checkout |dth checkout |shipping"}}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","checkout |dth checkout |shipping"],["page_location","%fullUrl%"],["page_path","%URL_hash%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"set_checkout_option",options:[["checkout_step","1"],["checkout_option","DTH"]],accounts:{1560790534239:{enabled:!0}},callback:null}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"checkout_progress",options:[["items","%checkoutLineItemsForGA%"]],accounts:{1560790534239:{enabled:!0}},callback:null}}]},{id:"RLff668f2bd5eb4f5da54918c86a47f51e",name:"Orders/start a return bby success",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-start-return-success-bby",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"my account |order details "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"BBY; Return; Email Submit Success",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL060e69e92b2943218157007c3f21ef2c",name:"APEX/RequiredPartsAddedOnInterstitial",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:cart/ANALYTICS_REQUIRED_PART_ADDED",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event6"},{name:"scAdd"}],channel:"Mdot",pageName:"interstitial|required parts"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray_RequiredPartsNeeded%",productStringEvars:[{eVarId:"evar54",eVarPath:"addedFrom"},{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"}],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"required parts_add",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL01ef7b76420e4b66bb4eb02c88e6dba0",name:"3rd_Party/PDP_AddToCart",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"ADD_TO_CART_REQUEST"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(en-CA\\/product\\/)|(fr-CA\\/produit\\/)",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(\\/product\\-sellers)|(\\/vendeurs\\-de\\-produit)",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"facebook-pixel/src/lib/actions/sendCustomEvent.js",settings:{name:"AddToCart",parameters:[{key:"content_type",value:"product"},{key:"content_ids",value:"%productSkuAsArray%"},{key:"value",value:"%event.detail.state.product.product.priceWithoutEhf%"},{key:"currency",value:"CAD"}]}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC2edf2e98f7dd458b920207664273ab18-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC974b4b0974034ae5aef32c60e7a38879-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC60691dd94fd7404197b89974d8aa13a0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9fc27c542535449da09edb0c21a9c318",name:"Orders/OrderLookup_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-order-lookup-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"check order status"},{name:"eVar3",type:"value",value:"my account"},{name:"eVar4",type:"value",value:"check order status"}],props:[{name:"prop34",type:"value",value:"Check Order Status"}],pageName:"my account |check order status"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL5e43ebf1c1384750bf01a6b3a3b6d045",name:"Checkout/Cart_Warranty_Quantity_Remove",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:cart/ANALYTICS_ITEM_REMOVED",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=e.detail.payload.lineItem.lineItemType;return"PSP"===t||"PRP"===t}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=e.detail.payload.lineItem.sku.id,r=e.detail.state.cart.shipments.flatMap(function(e){return e.lineItems.flatMap(function(e){return e.availableServicePlans.filter(function(e){return e.sku.id===a})})});e.detail.state.cart.totalQuantity!=undefined&&(window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"prop61",",",1),window.s.prop61=r[0].termMonths/12);var n=e.detail.payload.update==undefined?"scRemove,event58,event7":"";window.s.linkTrackEvents=t.apl(window.s.linkTrackEvents,n,",",1),window.s.events=t.apl(window.s.events,n,",",1),sessionStorage.removeItem("warranty_added")}},trackerProperties:{channel:"Mdot",pageName:"cart |dth cart"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray Cart Warranty ATC%",productStringEvars:[{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"},{eVarId:"eVar126",eVarPath:"addLocation"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar80",eVarPath:"vendorType"}],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"sku.id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"warrantyremove_c",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL17e2fd07042c4ad2951a7f03f669aa43",name:"Orders/start return marketplace success",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-start-return-success-marketplace",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"my account |order details"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"MP; Return; Email Submit Success",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL0df905ce9ce941c28c6d93ceb243eca1",name:"Checkout/Calendar_Click",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-calendar-click",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event57"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"%pageName%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Calendar: Click",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL2de02b5ecbee4107bf0801ab291affa2",name:"Orders/contact seller success",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-contact-seller-success-marketplace",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"my account |order details "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Contact Seller; Email Submit Success",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLe093eaac16234c4fb58324ab3ce49443",name:"Account/SignIn_Forgot_Password",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-forgot-password-pageload",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"forgot your password"},{name:"eVar3",type:"value",value:"my account"},{name:"eVar4",type:"value",value:"reset password"}],props:[{name:"prop1",type:"value",value:"my account"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |forgot your password"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL2a46c12930104f0092ecac986957e4fd",name:"Account/Delete_Credit_Card_Unsuccessful",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-delete-credit-card-unsuccessful",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Delete Credit Card Unsuccessful",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{
id:"RL020df1898dbf47dfa84ea8ca1b8e32dd",name:"APEX/Search_Error_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"SEARCH_PAGE_LOAD"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(\\/en-CA\\/search\\?search)|(\\/fr-CA\\/chercher\\?search)",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return!!(e&&e.detail&&e.detail.state&&e.detail.state.search&&e.detail.state.search.searchResult&&0==e.detail.state.search.searchResult.total)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){window.isGlobalError=!0,_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar83",type:"value",value:"0"},{name:"eVar2",type:"value",value:"search results"},{name:"eVar1",type:"value",value:"products"}],props:[{name:"prop34",type:"value",value:"Search Results"},{name:"prop18",type:"alias",value:"eVar83"}],events:[{name:"event60"},{name:"event61"}],channel:"Mdot",pageName:"products |search results |%searchedQuery%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL1d5bc34d17904649805bb38bdc5f0858",name:"APEX/RPU_Error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-rpu-error",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){window.s.linkTrackVars+=",list1",e.detail&&e.detail.errorCodes&&(window.s.list1=e.detail.errorCodes.toString())}},trackerProperties:{events:[{name:"event66"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Reserve Pickup Error",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLf9d045542b1543c1b83d6f40ff06d348",name:"Account/Add_New_Address_Loaded",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-add-new-address-loaded",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Add New Address Loaded",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLc1f6b85a621847d4a77dda0f21e9dd3e",name:"Global/Error",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-error-occurred"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1);var a=e.detail.error;if(a){var r="";r=(r=(a.name?a.name:"Unknown Error")+" |"+(a.statusCode?a.statusCode:"Unknown Status")+" |"+(a.uri?a.uri:"Unknown Uri")+" |").slice(0,r.length-2),window.s.list1=r||"500"}}},trackerProperties:{events:[{name:"event66"}],pageURL:"%URL%",pageName:"%pageName%",referrer:"%referrer%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.detail.linkName%",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL03e4303b82e74b42b1c273da3bf2be37",name:"Global/Init_Helpers_and_EventRouter",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC75b9425503ce466d8ed244af090b9c46-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC58b647ac4b98496ebaed812032461620-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCa57143c7f968456b96d867b1044528d3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL727ffafad0cd44ac9a18e8f868d248d6",name:"APEX/PDP_AddToCart",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:ADD_TO_CART_REQUEST",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(en-CA\\/product\\/)|(fr-CA\\/produit\\/)",valueIsRegex:!0},{value:"(\\/event\\/phone-finder)",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(\\/product\\-sellers)|(\\/vendeurs\\-de\\-produit)",valueIsRegex:!0}]},negate:!0},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(\\/event\\/phone\\-finder\\/)",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars=t.apl(t.linkTrackVars,"products,prop15",",",1),e.detail.payload&&"PDP BAB"!=e.detail.payload.location&&(t.prop15=e.detail.state.product.product.sku,e.detail.state.product.product.isPreorderable&&(t.linkTrackEvents=t.apl(t.linkTrackEvents,"event71",",",1),t.events=t.apl(t.events,"event71",",",1))),e&&e.detail&&e.detail.state&&e.detail.state.cart&&1===e.detail.state.cart.totalQuantity&&(t.linkTrackEvents=t.apl(t.linkTrackEvents,"event8,scOpen",",",1),t.events=t.apl(t.events,"event8,scOpen",",",1))}},trackerProperties:{events:[{name:"event4"},{name:"event6"},{name:"event14"},{name:"scAdd"}],channel:"Mdot",pageName:"products |pdp |%PDPBreadcrumb2% |%productSku%"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray PDP ATC%",productStringEvars:[{eVarId:"eVar10",eVarPath:"parentSku"},{eVarId:"eVar11",eVarPath:"parentName"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar17",eVarPath:"customerRating"},{eVarId:"eVar20",eVarPath:"deliveryPromise"},{eVarId:"eVar21",eVarPath:"discountType"},{eVarId:"eVar26",eVarPath:"brand"},{eVarId:"eVar31",eVarPath:"singleSavingsPercentage"},{eVarId:"eVar36",eVarPath:"bundleSavingsPercentage"},{eVarId:"eVar45",eVarPath:"marketplaceSellerID"},{eVarId:"eVar47",eVarPath:"marketplaceSellerName"},{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"},{eVarId:"eVar58",eVarPath:"numProductReviews"},{eVarId:"eVar62",eVarPath:"dthStatus"},{eVarId:"eVar63",eVarPath:"rpuStatus"},{eVarId:"eVar64",eVarPath:"pdpFindingMethod"},{eVarId:"eVar67",eVarPath:"marketplaceSellerNum"},{eVarId:"eVar80",eVarPath:"vendor"},{eVarId:"eVar96",eVarPath:"singleProductPrice"},{eVarId:"eVar127",eVarPath:"specialOffersIDs"},{eVarId:"eVar59",eVarPath:"ATCLocation"},{eVarId:"eVar69",eVarPath:"postalCode"},{eVarId:"eVar78",eVarPath:"isSpecialDelivery"}],productStringEvents:[{eventId:"event4",eventPath:"singleProductPrice",isBooleanFlag:!1},{eventId:"event14",eventPath:"singleProductPrice",isBooleanFlag:!1}],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"PDP Add To Cart",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCc3fc94a880af4003baaa6f76572f3167-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"add_to_cart",options:[["items","%basketLineItemsForGA%"]],accounts:{1560790534239:{enabled:!0}},callback:null}}]},{id:"RL8d25fe4c53c049fd963ca82cbe580235",name:"Orders/contact seller",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-contact-seller-marketplace"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"my account |order details "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Contact Seller",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL323c750fe679413a81c48eed2fffa8f7",name:"Account/Edit_Card_Unsuccessful",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-edit-card-unsuccessful",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Update Credit Card Unsuccessful",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLa7c5c97ea3cd4e559bdc24b3dbb71428",name:"Footer/Newsletter_Signup_Success",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:FOOTER_NEWSLETTER_SIGNUP_SUCCESS",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar74",type:"value",value:"global footer"}],events:[{name:"event62"}],pageURL:"%URL&",pageName:"%pageName%",referrer:"%referrer%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Newsletter Signup Success",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL0142cede32004ba9ac975d9751ad34bc",name:"Global/Custom_Link",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-custom-link",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.detail.linkName%",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL109b0acf845748fbb89efc417e67d774",name:"APEX/Create_Product_Review_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:CREATE_PRODUCT_REVIEW_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"products"},{name:"eVar2",type:"value",value:"pdp"},{name:"eVar3",type:"value",value:"review and rate product"}],props:[{name:"prop29",type:"value",value:"write a review - best buy canada"},{name:"prop34",type:"value",value:"write a review"}],events:[{name:"event47"}],channel:"Mdot",pageName:"products |pdp |review and rate product |%productSku%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC1aec7e589ab0423b8b0fd11d8f414eab-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48df2c0173864906878f32cfe7f5ad8e",name:"FIND/Secondary_Nav_Clicked",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"secondNavClicked"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event120",value:"%event.detail.navName%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Navigation Click",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLb4680049348042d0b9e575fda8798316",name:"APEX/PDP_AddToCart_MultisellerPage",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:ADD_TO_CART_REQUEST",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(\\/product\\-sellers)|(\\/vendeurs\\-de\\-produit)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC8d43bf6059ad4eedbb1068ce7afad3d6-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,e){if(window.s.linkTrackVars=e.apl(window.s.linkTrackVars,"prop35,prop36",",",1),"undefined"!=typeof AppEventData&&AppEventData.computedState.state&&AppEventData.computedState.state&&AppEventData.computedState.state.productSellers&&AppEventData.computedState.state.productSellers.sellerOffers){var a=AppEventData.computedState.state.productSellers.sellerOffers.find(function(e){return t.detail.payload.offerId===e.offer.offerId});a.offer.sellerId.indexOf(AppEventData.computedState.state.productSellers.product.seller.id)<0&&(e.linkTrackEvents=e.apl(e.linkTrackEvents,"event168",",",1),e.events=e.apl(e.events,"event168",",",1)),window.s.prop35=a.seller.id,window.s.prop36=a.seller.name,AppEventData.computedState.state.cart&&1===AppEventData.computedState.state.cart.totalQuantity&&(e.linkTrackEvents=e.apl(e.linkTrackEvents,"event8,scOpen",",",1),e.events=e.apl(e.events,"event8,scOpen",",",1))}}},trackerProperties:{props:[{name:"prop15",type:"value",value:"%Multiseller Sku%"}],events:[{name:"event4"},{name:"event6"},{name:"event14"},{name:"scAdd"},{name:"event166"}],channel:"Mdot",pageName:"products |seller list cart |%Multiseller Sku% |%Multiseller Seller ID%"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray PDP MultiSeller ATC%",productStringEvars:[{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar17",eVarPath:"customerRating"},{eVarId:"eVar26",eVarPath:"brand"},{eVarId:"eVar31",eVarPath:"singleSavingsPercentage"},{eVarId:"eVar45",eVarPath:"marketplaceSellerID"},{eVarId:"eVar47",eVarPath:"marketplaceSellerName"},{eVarId:"eVar59",eVarPath:"ATCLocation"},{eVarId:"eVar67",eVarPath:"marketplaceSellerNum"},{eVarId:"eVar69",eVarPath:"postalCode"},{eVarId:"eVar80",eVarPath:"vendor"},{eVarId:"eVar96",eVarPath:"price"}],productStringEvents:[{eventId:"event4",eventPath:"price",isBooleanFlag:!1},{eventId:"event14",eventPath:"price",isBooleanFlag:!1}],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Multiseller Add To Cart",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLafcfd23d795d4141aeab680dabbd50d3",name:"Account/Create_Account_SignIn_Pageload",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-create-account-global-sign-in-page-loaded"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"create account"}],props:[{name:"prop34",type:"value",value:"My Account"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |create account"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL50500fa63e5941278f51d79c1319af81",name:"3rd_Party/Category_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:CATEGORY_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(category|categorie)",valueIsRegex:!0}]}}],actions:[{modulePath:"facebook-pixel/src/lib/actions/sendPageView.js",settings:{}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u1","%departmentFromAppEventDataSearch%"],["u2","%productCategoryFromAppEventDataSearch%"]],accounts:{1561570089694:{label:"pageb0/bestb0+unique",enabled:!0}},callback:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC8fbc424fc9a74ab0be7c304c8edc168d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC93caa87eb42e4dcd81e3667b15624a75-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC58cae3e12ebb43d3b840beedb028fc5b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b1c5ac621f041f19f3dcae3454173f3",name:"3rd_Party/Impact_Sign_In",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#triggerNode"},ruleOrder:25}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"ta",value:"\\S",valueIsRegex:!0}},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"irclickid",value:"\\S",valueIsRegex:!0}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!s.Util.getQueryParam("irclickid")}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCcfb51e5766484de6bce6c7832f7834ec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf6c34109b51f46ef99cb7c172b27a249",name:"APEX/Customer_Reviews_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:CUSTOMER_REVIEWS_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"products"},{name:"eVar2",type:"value",value:"product review"}],props:[{name:"prop34",type:"value",value:"CustomerReview"}],events:[{name:"event47"}],channel:"Mdot",pageName:"products | product review |  %productSku%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLc593e77921894604bf75a8631068992b",name:"3rd_Party/Init_Criteo_ID",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:15}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(!_satellite.cookie.get("criteoVisitorId"))return!0}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCf69d48fabfeb495ca218ceead36f3e3d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL658b1f87bd43402695d54911fee12e14",name:"Global/Set_EMI_From_Newsletter",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"EMI",value:"\\S",valueIsRegex:!0}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCc0d3131f42af432ebc7fe87b76ee954d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%sha256FromNewsletter%",authState:0,integrationCode:"dsdmeid"}]}}]},{id:"RL690e38b955e742b985dffa78f82d354f",name:"APEX/Store_Locator_Page_Load",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:STORE_LOCATOR_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC39506229317a4152a9644238d7567162-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"store locator"},{name:"eVar2",type:"value",value:"view all locations"}],props:[{name:"prop34",type:"value",value:"view all locations"}],pageName:"store locator |view all locations "}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL0aeaf75316cf4bc3a74f173a6a097228",name:"Checkout/Cart_Warranty_Quantity_Update",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:cart/ANALYTICS_ITEM_ADDED",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=e.detail.payload.lineItem.lineItemType;return"PSP"===t||"PRP"===t}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCd264abc4e95746f1aed1a83d44a8e646-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLac87b2c8161547db838e9aeb0c958e22",name:"APEX/PDP_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"PRODUCT_PAGE_LOAD"},ruleOrder:49}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RCfff92237d0044a5ea15ebd494f1f7404-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){var e=t.detail.state.product,r=e.product.bundleProducts&&0<e.product.bundleProducts.length?"bundle":"single",n=e.availability.shipping.status!=undefined?e.availability.shipping.status.toLowerCase():"",i=e.availability.pickup.status!=undefined?e.availability.pickup.status.toLowerCase():"",s=e.product.isMarketplace,o=e.product.isAdvertised||"false",c=e.product.productVariants.length,l=[];if(window.s.eVar119=o,0<c&&(window.s.prop64=c),s){var u=e.product.seller.name,d=e.product.seller.id;window.persistentMetaData.winningSellerId=d,window.s.prop35=d,window.s.prop36=u}"single"==r?l.push("event78"):"bundle"==r&&l.push("event79"),"soldoutonline"==n&&"outofstock"!=i?l.push("event83"):"soldoutonline"!=n&&"outofstock"==i?l.push("event85"):"soldoutonline"==n&&"outofstock"==i&&l.push("event41");var p=e.product.warranties;if(0<p.length){var m=[];p.forEach(function(e){for(var t=!1,a=0;a<m.length;a++)if(e.type===m[a]){t=!0;break}t||m.push(e.type)}),m.sort(),window.s.eVar105=m.join(" |")}else window.s.eVar105="None";var f=a.Util.getQueryParam("source"),g=function(e){a.eVar54=e,a.eVar131="1:"+t.detail.state.search.page+":24:"+("extraSmall"===t.detail.state.app.screenSize.mediaType?"list-view":"grid-view"),a.prop51=a.eVar131,a.eVar64="criteo",a.prop74=a.eVar54,l.push("event76")};if(f)switch(f){case"homepage":a.eVar54="Homepage Banner",a.eVar64="criteo",a.prop74=a.eVar54,l.push("event76");break;case"search":g("Search Results Product");break;case"category":g("Category")}a.events=a.apl(a.events,l.join(","),",",1);var v=4<e.product.additionalImages.length?"4+":e.product.additionalImages.length.toString(),b=0<Object.keys(e.product.specs).length?"complete":"na";a.eVar114=v+":"+b,_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"pdp"},{name:"eVar58",type:"value",value:"%event.detail.state.product.customerReviews.ratingSummary.overallReviewCount%"},{name:"eVar3",type:"value",value:"%PDPBreadcrumb2%"},{name:"eVar4",type:"value",value:"%PDPBreadcrumb3%"},{name:"eVar5",type:"value",value:"%PDPBreadcrumb4%"},{name:"eVar6",type:"value",value:"%PDPBreadcrumb5%"},{name:"eVar7",type:"value",value:"%PDPBreadcrumb6%"},{name:"eVar117",type:"value",value:"%fullPDPBreadcrumb%"},{name:"eVar130",type:"value",value:"%last query term%"},{name:"eVar131",type:"value",value:"%pdpSearchedItem%"},{name:"eVar1",type:"value",value:"products"},{name:"eVar250",type:"value",value:"%pdp has video%"}],props:[{name:"prop14",type:"value",value:"%event.detail.state.product.customerReviews.ratingSummary.overallAverageScore%"},{name:"prop15",type:"value",value:"%event.detail.state.product.product.sku%"},{name:"prop37",type:"value",value:"%vendorType%"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop5",type:"alias",value:"eVar5"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop7",type:"alias",value:"eVar7"},{name:"prop30",type:"value",value:"%brandName%"},{name:"prop34",type:"value",value:"Product Information"},{name:"prop60",type:"alias",value:"eVar130"},{name:"prop51",type:"alias",value:"eVar131"}],events:[{name:"event3"},{name:"prodView"}],channel:"Mdot",pageName:"products |pdp |%PDPBreadcrumb2% |%productSku%"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray PDP PageLoad%",productStringEvars:[{eVarId:"eVar10",eVarPath:"parentSku"},{eVarId:"eVar11",eVarPath:"parentName"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar21",eVarPath:"discountType"},{eVarId:"eVar17",eVarPath:"customerRating"},{eVarId:"eVar26",eVarPath:"brand"},{eVarId:"eVar62",eVarPath:"dthStatus"},{eVarId:"eVar63",eVarPath:"rpuStatus"},{eVarId:"eVar64",eVarPath:"pdpFindingMethod"},{eVarId:"eVar45",eVarPath:"marketplaceSellerID"},{eVarId:"eVar47",eVarPath:"marketplaceSellerName"},{eVarId:"eVar80",eVarPath:"vendor"},{eVarId:"eVar67",eVarPath:"marketplaceSellerNum"},{eVarId:"eVar127",eVarPath:"specialOffersIDs"},{eVarId:"eVar31",eVarPath:"singleSavingsPercentage"},{eVarId:"eVar36",eVarPath:"bundleSavingsPercentage"},{eVarId:"eVar58",eVarPath:"numProductReviews"},{eVarId:"eVar96",eVarPath:"singleProductPrice"},{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"},{eVarId:"eVar78",eVarPath:"isSpecialDelivery"},{eVarId:"eVar20",eVarPath:"deliveryPromise"}],productStringEvents:[{eventId:"event1",eventPath:"productSavings",isBooleanFlag:!1},{eventId:"event150",eventPath:"bundleProductSavings",isBooleanFlag:!1},{eventId:"event152",eventPath:"singleProductPrice",isBooleanFlag:!1},{eventId:"event151",eventPath:"bundleProductPrice",isBooleanFlag:!1},{eventId:"event84",eventPath:"e84productPrice",isBooleanFlag:!1},{eventId:"event86",eventPath:"e86productPrice",isBooleanFlag:!1},{eventId:"event40",eventPath:"e40productPrice",isBooleanFlag:!1}],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"collection-item-path",productStringQuantityVariableType:"collection-item-path",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC8ef9c61319cd41db8abf01dbbb402714-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","products |pdp |%PDPBreadcrumb2% |%productSku%"],["page_location","%fullUrl%"],["page_path","%URL_path%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"view_item",options:[["items","%PDPItemsforGA%"]],accounts:{1560790534239:{enabled:!0}},callback:null}}]},{id:"RLcb1e59aa38aa4768ab7db170cb8b0d50",name:"Cart_Masterpass_Clicked",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:cart/ANALYTICS_CART_MATERPASS_CLICKED",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event88"}]}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray Cart%",productStringEvars:[{eVarId:"eVar10",eVarPath:"parentSku"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar21",eVarPath:"discountType"},{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"},{eVarId:"eVar170",eVarPath:"itemLevelDiscounts"},{eVarId:"eVar11",eVarPath:"parentName"}],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"masterpass checkout",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL391b3e1230764f8d87f73d36ac26f6cd",name:"APEX/RPU_Customer_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analytics-rpu-customer-pageload",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-target-v2/lib/addPageLoadParams.js",settings:{params:{mboxURL:{value:"https://m.bestbuy.ca/checkout/#/en-CA/reserve-pickup/customer",checked:!1},mboxHost:{value:"bestbuy.ca",checked:!1}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){"true"!==_satellite.cookie.get("AA_hasSeenRPUThisVisit")&&(t.events=t.apl(t.events,"event22,scCheckout",",",1)),_satellite.cookie.set("AA_hasSeenRPUThisVisit","true",{expires:new Date((new Date).getTime()+18e5),path:"/"}),_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"cart"},{name:"eVar2",type:"value",value:"rpu cart"},{name:"eVar3",type:"value",value:"rpu contact information"},{name:"eVar79",type:"value",value:"%event.detail.storeID%"}],props:[{name:"prop3",type:"alias",value:"eVar3"},{name:"prop34",type:"value",value:"RPU Contact Information"}],events:[{name:"event29"}],pageName:"cart |rpu cart |rpu contact information"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{
dataLayerRoot:"%ProductsArray RPU Checkout Flow%",productStringEvars:[{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"productName"},{eVarId:"eVar15",eVarPath:"productType"},{eVarId:"eVar21",eVarPath:"saleType"},{eVarId:"eVar30",eVarPath:"rpuFrom"},{eVarId:"eVar10",eVarPath:"parentBundle"}],productStringEvents:[],productCollectionPath:"products",productStringCategory:"",productStringQuantity:"qty",productStringUnitPrice:"unitPrice",productStringProductIdPath:"sku",productStringCategorySelected:!1,productStringQuantitySelected:!0,productStringProductIdSelected:!0,productStringUnitPriceSelected:!0,productStringCategoryVariableType:"collection-item-path",productStringQuantityVariableType:"collection-item-path",productStringUnitPriceVariableType:"collection-item-path"}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","cart |rpu cart |rpu contact information"],["page_location","%fullUrl%"],["page_path","%URL_hash%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"set_checkout_option",options:[["checkout_step","2"],["checkout_option","RPU"]],accounts:{1560790534239:{enabled:!0}},callback:null}},{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"checkout_progress",options:[["items","%checkoutLineItemsForGA%"]],accounts:{1560790534239:{enabled:!0}},callback:null}}]},{id:"RL4853b8ae3ec34ea1a6d609763355ee4c",name:"Account/Newsletter_Subscribe_Success",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-newsletter-subscribe-success"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"newsletter"},{name:"eVar2",type:"value",value:"newsletter success"},{name:"eVar3",type:"value",value:"newsletter success"}],props:[{name:"prop1",type:"value",value:"D=v1"},{name:"prop2",type:"value",value:"D=v2"},{name:"prop3",type:"value",value:"D=v3"},{name:"prop34",type:"value",value:"HelpCentre"}],pageURL:"%fullUrl%",pageName:"Sign up confirmation"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL9a7b761dc7694a0ba807777bd6aea6f4",name:"Account/Sign_Out_Global_Header",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:Sign_Out_From_GlobalHeader",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Sign Out from Global Header",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL4687c1e58e834d1387aaa62a4d07217e",name:"APEX/Category_PageLoad",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:CATEGORY_PAGE_LOAD",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return!!(e.detail.state&&e.detail.state.search&&e.detail.state.search.category)}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/1968c3ceb7cc/RC59be078fd5554e5aab0bf2e0fe766911-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(e&&e.detail&&e.detail.state&&e.detail.state.search&&e.detail.state.search.searchResult&&e.detail.state.search.searchResult.products&&1==e.detail.state.search.searchResult.products[0].isMarketplace&&(t.events=t.apl(t.events,"event131",",",1)),window.persistentMetaData.query){var a=AppEventData.computedState.state&&AppEventData.computedState.state.search,r={},n=a.searchResult.products.map(function(e){return e.sku});r.page=a.page,r.searchResultSkus=n,r.layout="extraSmall"===AppEventData.computedState.state.app.screenSize.mediaType?"list-view":"grid-view",window.persistentMetaData.previousSearch=r}_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"%categoryLevel%"},{name:"eVar3",type:"value",value:"%breadcrumb2%"},{name:"eVar4",type:"value",value:"%breadcrumb3%"},{name:"eVar5",type:"value",value:"%breadcrumb4%"},{name:"eVar6",type:"value",value:"%breadcrumb5%"},{name:"eVar7",type:"value",value:"%breadcrumb6%"},{name:"eVar40",type:"value",value:"+1"},{name:"eVar71",type:"value",value:"%categoryID%"},{name:"eVar117",type:"value",value:"%fullBreadcrumb%"},{name:"eVar1",type:"value",value:"products"}],props:[{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop5",type:"alias",value:"eVar5"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop7",type:"alias",value:"eVar7"},{name:"prop34",type:"value",value:"%event.detail.state.search.category.name%"}],channel:"Mdot",pageName:"products |category |%categoryName%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1560790534239:{enabled:!0,options:[["page_title","products |category |%categoryName%"],["page_location","%fullUrl%"],["page_path","%URL_path%"],["dimension5","%channelTrackingCode%"],["dimension6","%fullUrl%"]]}}}}]},{id:"RL3450d503a1774b4a9301b65e8d32730a",name:"Account/SignIn_PageLoad",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-signin-pageload"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"my account"},{name:"eVar2",type:"value",value:"sign in"},{name:"eVar3",type:"value",value:"sign in"}],props:[{name:"prop3",type:"alias",value:"eVar3"}],channel:"Mdot",pageURL:"%fullUrl%",pageName:"my account |sign in"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL66dc176a2c1947a6bf700d9e266e8d13",name:"Orders/Edit_Shipping_Address_Loaded",events:[{modulePath:"data-layer-manager-search-discovery/src/lib/events/data_layer_push_event.js",settings:{eventType:"analytics-edit-shipping-address-load"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Edit Order Shipping Address Loaded",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL50468b06d54540d9bfccf038123d5262",name:"Orders/Lookup_Error",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:analytics-order-lookup-error",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s.linkTrackVars=t.apl(window.s.linkTrackVars,"list1",",",1),window.s.list1=e.detail.error.match(/\[([^\]]+)\]/g).join(",").replace(/\[/g,"").replace(/\]/g,"")}},trackerProperties:{events:[{name:"event66"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Order Status Check Order Failed",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLe5b44a555d394a26b9d2653cce3f0d39",name:"Multisellers_SellersList_Pageload",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"AppEvent:GET_OFFERS_SUCCESS",elementSelector:"#triggerNode",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(\\/product\\-sellers)|(\\/vendeurs\\-de\\-produit)",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){_satellite.getVar("getGlobalVars")}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"seller list"},{name:"eVar67",type:"value",value:"%event.detail.state.productSellers.sellerOffers.length%"},{name:"eVar1",type:"value",value:"products"}],props:[{name:"prop34",type:"value",value:"Multiseller Sellers List"}],events:[{name:"event165"}],pageURL:"%URL%",pageName:"products |seller list |%Multiseller Sku%"}}},{modulePath:"aa-product-string-search-discovery/src/lib/actions/product_string_set_variables.js",settings:{dataLayerRoot:"%ProductsArray PDP MultiSeller PageLoad%",productStringEvars:[{eVarId:"eVar51",eVarPath:"nameAndSku"},{eVarId:"eVar52",eVarPath:"name"}],productStringEvents:[],productCollectionPath:"productsArray",productStringCategory:"",productStringQuantity:"",productStringUnitPrice:"",productStringProductIdPath:"id",productStringCategorySelected:!1,productStringQuantitySelected:!1,productStringProductIdSelected:!0,productStringUnitPriceSelected:!1,productStringCategoryVariableType:"",productStringQuantityVariableType:"",productStringUnitPriceVariableType:""}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]}]};var _satellite=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}function t(t){var a=this.constructor;return this.then(function(e){return a.resolve(t()).then(function(){return e})},function(e){return a.resolve(t()).then(function(){return a.reject(e)})})}function l(e){return Boolean(e&&"undefined"!=typeof e.length)}function r(){}function n(e,t){return function(){e.apply(t,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],p(e,this)}function s(r,n){for(;3===r._state;)r=r._value;0!==r._state?(r._handled=!0,i._immediateFn(function(){var e=1===r._state?n.onFulfilled:n.onRejected;if(null!==e){var t;try{t=e(r._value)}catch(a){return void c(n.promise,a)}o(n.promise,t)}else(1===r._state?o:c)(n.promise,r._value)})):r._deferreds.push(n)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var a=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof a)return void p(n(a,t),e)}e._state=1,e._value=t,u(e)}catch(r){c(e,r)}}function c(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,a=e._deferreds.length;t<a;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=a}function p(e,t){var a=!1;try{e(function(e){a||(a=!0,o(t,e))},function(e){a||(a=!0,c(t,e))})}catch(r){if(a)return;a=!0,c(t,r)}}function m(e){if(null===e||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(n){return!1}}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}if(window.atob){var f={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},v="\ud83d\ude80",b=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":v,h=!1,y=function(e){if(h&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(b),e!==f.DEBUG||window.console[e]||(e=f.INFO),window.console[e].apply(window.console,t)}},P=y.bind(null,f.LOG),S=y.bind(null,f.INFO),_=y.bind(null,f.DEBUG),k=y.bind(null,f.WARN),w=y.bind(null,f.ERROR),E={log:P,info:S,debug:_,warn:k,error:w,get outputEnabled(){return h},set outputEnabled(e){h=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:P.bind(null,t),info:S.bind(null,t),debug:_.bind(null,t),warn:k.bind(null,t),error:w.bind(null,t)}}},C=function(n,i,s){var a,r,o,c,l=[],u=function(e,t,a){if(!n(t))return e;l.push(t);var r=i(t,a);return l.pop(),null==r&&s?"":r};return a=function(e,a){var t=/^%([^%]+)%$/.exec(e);return t?u(e,t[1],a):e.replace(/%(.+?)%/g,function(e,t){return u(e,t,a)})},r=function(e,t){for(var a={},r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],s=e[i];a[i]=c(s,t)}return a},o=function(e,t){for(var a=[],r=0,n=e.length;r<n;r++)a.push(c(e[r],t));return a},c=function(e,t){return"string"==typeof e?a(e,t):Array.isArray(e)?o(e,t):"object"==typeof e&&null!==e?r(e,t):e},function(e,t){return 10<l.length?(E.error("Data element circular reference detected: "+l.join(" -> ")),e):c(e,t)}},V=function(n){return function(e,t){if("string"==typeof e)n[arguments[0]]=t;else if(arguments[0]){var a=arguments[0];for(var r in a)n[r]=a[r]}}},A=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},j=e(function(r){!function(e){if("function"==typeof undefined&&undefined.amd&&(undefined(e),!0),r.exports=e(),!!0){var t=window.Cookies,a=window.Cookies=e();a.noConflict=function(){return window.Cookies=t,a}}}(function(){function v(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var r in a)t[r]=a[r]}return t}function e(f){function g(e,t,a){var r;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(a=v({path:"/"},g.defaults,a)).expires){var n=new Date;n.setMilliseconds(n.getMilliseconds()+864e5*a.expires),a.expires=n}a.expires=a.expires?a.expires.toUTCString():"";try{r=JSON.stringify(t),/^[\{\[]/.test(r)&&(t=r)}catch(m){}t=f.write?f.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var i="";for(var s in a)a[s]&&(i+="; "+s,!0!==a[s]&&(i+="="+a[s]));return document.cookie=e+"="+t+i}e||(r={});for(var o=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,l=0;l<o.length;l++){var u=o[l].split("="),d=u.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{var p=u[0].replace(c,decodeURIComponent);if(d=f.read?f.read(d,p):f(d,p)||d.replace(c,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(m){}if(e===p){r=d;break}e||(r[p]=d)}catch(m){}}return r}}return(g.set=g).get=function(e){return g.call(g,e)},g.getJSON=function(){return g.apply({json:!0},[].slice.call(arguments))},g.defaults={},g.remove=function(e,t){g(e,"",v(t,{expires:-1}))},g.withConverter=e,g}return e(function(){})})}),I={get:j.get,set:j.set,remove:j.remove},T=window,D="com.adobe.reactor.",R=function(r,e){var n=D+(e||"");return{getItem:function(e){try{return T[r].getItem(n+e)}catch(t){return null}},setItem:function(e,t){try{return T[r].setItem(n+e,t),!0}catch(a){return!1}}}},x="_sdsat_",O="dataElements.",L="dataElementCookiesMigrated",N=R("localStorage"),F=R("sessionStorage",O),M=R("localStorage",O),U={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},B={},q=function(e){var t;try{t=JSON.stringify(e)}catch(a){}return t},G=function(e,t,a){var r;switch(t){case U.PAGEVIEW:return void(B[e]=a);case U.SESSION:return void((r=q(a))&&F.setItem(e,r));case U.VISITOR:return void((r=q(a))&&M.setItem(e,r))}},H=function(e,t){var a=I.get(x+e);a!==undefined&&G(e,t,a)},Q={setValue:G,getValue:function(e,t){var a;switch(t){case U.PAGEVIEW:return B.hasOwnProperty(e)?B[e]:null;case U.SESSION:return null===(a=F.getItem(e))?a:JSON.parse(a);case U.VISITOR:return null===(a=M.getItem(e))?a:JSON.parse(a)}},migrateCookieData:function(t){N.getItem(L)||(Object.keys(t).forEach(function(e){H(e,t[e].storageDuration)}),N.setItem(L,!0))}},W=function(e,t,a,r){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+a+(r?"\n"+r:"")},z=function(e){return e!==undefined&&null!==e},Y=function(o,c,l,u){return function(e,t){var a=c(e);if(!a)return u?"":null;var r,n=a.storageDuration;try{r=o.getModuleExports(a.modulePath)}catch(s){return void E.error(W(a,e,s.message,s.stack))}if("function"==typeof r){var i;try{i=r(l(a.settings,t),t)}catch(s){return void E.error(W(a,e,s.message,s.stack))}return n&&(z(i)?Q.setValue(e,n,i):i=Q.getValue(e,n)),z(i)||(i=a.defaultValue||""),"string"==typeof i&&(a.cleanText&&(i=A(i)),a.forceLowerCase&&(i=i.toLowerCase())),i}E.error(W(a,e,"Module did not export a function."))}},X=function(e,t,a){var r={exports:{}};return e.call(r.exports,r,r.exports,t,a),r.exports},$=function(){var s={},a=function(e){var t=s[e];if(!t)throw new Error("Module "+e+" not found.");return t},e=function(){Object.keys(s).forEach(function(e){try{r(e)}catch(a){var t="Error initializing module "+e+". "+a.message+(a.stack?"\n"+a.stack:"");E.error(t)}})},r=function(e){var t=a(e);return t.hasOwnProperty("exports")||(t.exports=X(t.definition.script,t.require,t.turbine)),t.exports};return{registerModule:function(e,t,a,r,n){var i={definition:t,extensionName:a,require:r,turbine:n};i.require=r,s[e]=i},hydrateCache:e,getModuleExports:r,getModuleDefinition:function(e){return a(e).definition},getModuleExtensionName:function(e){return a(e).extensionName}}},K=function(a,r){return function(e){var t=e.split(".")[0];return Boolean(r(e)||"this"===t||"event"===t||"target"===t||a.hasOwnProperty(t))}},J={text:function(e){return e.textContent},cleanText:function(e){return A(e.textContent)}},Z=function(e,t,a){for(var r,n=e,i=0,s=t.length;i<s;i++){if(null==n)return undefined;var o=t[i];if(a&&"@"===o.charAt(0)){var c=o.slice(1);n=J[c](n)}else if(n.getAttribute&&(r=o.match(/^getAttribute\((.+)\)$/))){var l=r[1];n=n.getAttribute(l)}else n=n[o]}return n},ee=function(i,s,o){return function(e,t){var a;if(s(e))a=o(e,t);else{var r=e.split("."),n=r.shift();"this"===n?t&&(a=Z(t.element,r,!0)):"event"===n?t&&(a=Z(t,r)):"target"===n?t&&(a=Z(t.target,r)):a=Z(i[n],r)}return a}},te=function(c,l){return function(e,t){var a=c[e];if(a){var r=a.modules;if(r)for(var n=Object.keys(r),i=0;i<n.length;i++){var s=n[i],o=r[s];if(o.shared&&o.name===t)return l.getModuleExports(s)}}}},ae=function(e,t){return function(){return t?e(t):{}}},re=function(a,r){return function(e){if(r){var t=e.split(".");t.splice(t.length-1||1,0,"min"),e=t.join(".")}return a+e}},ne=".js",ie=function(e){return e.substr(0,e.lastIndexOf("/"))},se=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},oe=function(e,t){se(t,ne)||(t+=ne);var a=t.split("/"),r=ie(e).split("/");return a.forEach(function(e){e&&"."!==e&&(".."===e?r.length&&r.pop():r.push(e))}),r.join("/")},ce=document,le=setTimeout;i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var a=new this.constructor(r);return s(this,new d(e,t,a)),a},i.prototype["finally"]=t,i.all=function(t){return new i(function(n,i){function s(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var a=e.then;if("function"==typeof a)return void a.call(e,function(e){s(t,e)},i)}o[t]=e,0==--c&&n(o)}catch(r){i(r)}}if(!l(t))return i(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return n([]);for(var c=o.length,e=0;e<o.length;e++)s(e,o[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(a){return new i(function(e,t){t(a)})},i.race=function(n){return new i(function(e,t){if(!l(n))return t(new TypeError("Promise.race accepts an array"));for(var a=0,r=n.length;a<r;a++)i.resolve(n[a]).then(e,t)})},i._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){le(e,0)},i._unhandledRejectionFn=function rt(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var ue=Object.freeze({"default":i}),de=ue&&i||ue,pe=window.Promise||de["default"]||de,me=function(a,r){return new pe(function(e,t){r.onload=function(){e(r)},r.onerror=function(){t(new Error("Failed to load script "+a))}})},fe=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=me(e,t);return document.getElementsByTagName("head")[0].appendChild(t),a},ge=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,he=a()?Object.assign:function(e){for(var t,a,r=m(e),n=1;n<arguments.length;n++){for(var i in t=Object(arguments[n]))ve.call(t,i)&&(r[i]=t[i]);if(ge){a=ge(t);for(var s=0;s<a.length;s++)be.call(t,a[s])&&(r[a[s]]=t[a[s]])}}return r},ye=function(e,t,a,r){t=t||"&",a=a||"=";var n={};if("string"!=typeof e||0===e.length)return n;var i=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var o=e.length;0<s&&s<o&&(o=s);for(var c=0;c<o;++c){var l,u,d,p,m=e[c].replace(i,"%20"),f=m.indexOf(a);0<=f?(l=m.substr(0,f),u=m.substr(f+1)):(l=m,u=""),d=decodeURIComponent(l),p=decodeURIComponent(u),g(n,d)?Array.isArray(n[d])?n[d].push(p):n[d]=[n[d],p]:n[d]=p}return n},Pe=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Se=function(a,r,n,e){return r=r||"&",n=n||"=",null===a&&(a=undefined),"object"==typeof a?Object.keys(a).map(function(e){var t=encodeURIComponent(Pe(e))+n;return Array.isArray(a[e])?a[e].map(function(e){return t+encodeURIComponent(Pe(e))}).join(r):t+encodeURIComponent(Pe(a[e]))}).join(r):e?encodeURIComponent(Pe(e))+n+encodeURIComponent(Pe(a)):""},_e=e(function(e,t){t.decode=t.parse=ye,t.encode=t.stringify=Se}),ke="@adobe/reactor-",we={cookie:I,document:ce,"load-script":fe,"object-assign":he,promise:pe,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),_e.parse(e)},stringify:function(e){return _e.stringify(e)}},window:T},Ee=function(r){return function(e){if(0===e.indexOf(ke)){var t=e.substr(ke.length),a=we[t];if(a)return a}if(0===e.indexOf("./")||0===e.indexOf("../"))return r(e);throw new Error('Cannot resolve module "'+e+'".')}},Ce=function(e,s,o,c){var l=e.extensions,u=e.buildInfo,d=e.property.settings;if(l){var p=te(l,s);Object.keys(l).forEach(function(r){var n=l[r],e=ae(o,n.settings);if(n.modules){var t=E.createPrefixedLogger(n.displayName),a=re(n.hostedLibFilesBaseUrl,u.minified),i={buildInfo:u,getDataElementValue:c,getExtensionSettings:e,getHostedLibFileUrl:a,getSharedModule:p,logger:t,propertySettings:d,replaceTokens:o};Object.keys(n.modules).forEach(function(a){var e=n.modules[a],t=Ee(function(e){var t=oe(a,e);return s.getModuleExports(t)});s.registerModule(a,e,r,t,i)})}}),s.hydrateCache()}return s},Ve=function(e,t,a,r,n){var i=E.createPrefixedLogger("Custom Script");e.track=function(e){E.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name},e.company=t.company,e.buildInfo=t.buildInfo,e.logger=i,e.notify=function(e,t){switch(E.warn("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:i.info(e);break;case 4:i.warn(e);break;case 5:i.error(e);break;default:i.log(e)}},e.getVar=r,e.setVar=n,e.setCookie=function(e,t,a){var r="",n={};a&&(r=", { expires: "+a+" }",n.expires=a);var i='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+r+").";E.warn(i),I.set(e,t,n)},e.readCookie=function(e){return E.warn('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),I.get(e)},e.removeCookie=function(e){E.warn('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),I.remove(e)},e.cookie=I,e.pageBottom=function(){},e.setDebug=a;var s=!1;Object.defineProperty(e,"_container",{get:function(){return s||(E.warn("_satellite._container may change at any time and should only be used for debugging."),s=!0),t}})},Ae=function(e,t){return he(t=t||{},e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return E.warn("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},je=function(e){var a=[];return e.forEach(function(t){t.events&&t.events.forEach(function(e){a.push({rule:t,event:e})})}),a.sort(function(e,t){return e.event.ruleOrder-t.event.ruleOrder})},Ie=!1,Te=function(r){return function(t,a){var e=r._monitors;e&&(Ie||(E.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),Ie=!0),e.forEach(function(e){e[t]&&e[t](a)}))}},De="Module did not export a function.",Re=function(i,s){return function(e,t,a){a=a||[];var r=i.getModuleExports(e.modulePath);if("function"!=typeof r)throw new Error(De);var n=s(e.settings||{},t);return r.bind(null,n).apply(null,a)}},xe=R("localStorage"),Oe=R("sessionStorage"),Le=function(){return Boolean(xe.getItem("queue")||Oe.getItem("queue"))},Ne=2e3,Fe=!1,Me=function(){Fe||(Fe=!0,E.warn("Rule queueing is only intended for testing purposes. Queueing behavior may be changed or removed at any time."))},Ue=function(e,t,o,a){var i=pe.resolve(),c=Te(e),l=Re(o,a),n=function(e){var t=o.getModuleDefinition(e.modulePath);return t&&t.displayName||e.modulePath},u=function(e,t,a,r){return"Failed to execute "+n(e)+" for "+t.name+" rule. "+a+(r?"\n"+r:"")},s=function(e,t,a){E.error(u(e,t,a.message,a.stack)),c("ruleActionFailed",{rule:t,action:e})},d=function(e,t,a){E.error(u(e,t,a.message,a.stack)),c("ruleConditionFailed",{rule:t,condition:e})},p=function(e,t){var a=n(e);E.log("Condition "+a+" for rule "+t.name+" not met."),c("ruleConditionFailed",{rule:t,condition:e})},m=function(e){E.log('Rule "'+e.name+'" fired.'),c("ruleCompleted",{rule:e})},f=function(e){return e||(e=new Error("The extension triggered an error, but no error information was provided.")),e instanceof Error||(e=new Error(String(e))),e},g=function(e,t){return t&&!e.negate||!t&&e.negate},v=function(t,n){t.conditions&&t.conditions.forEach(function(r){i=i.then(function(){var a;return new pe(function(e,t){a=setTimeout(function(){t("A timeout occurred because the condition took longer than "+Ne/1e3+" seconds to complete. ")},Ne),pe.resolve(l(r,n,[n])).then(e,t)})["catch"](function(e){return clearTimeout(a),e=f(e,r),d(r,t,e),pe.reject(e)}).then(function(e){if(clearTimeout(a),!g(r,e))return p(r,t),pe.reject()})})}),t.actions&&t.actions.forEach(function(r){i=i.then(function(){var a;return new pe(function(e,t){a=setTimeout(function(){t("A timeout occurred because the action took longer than "+Ne/1e3+" seconds to complete. ")},Ne),pe.resolve(l(r,n,[n])).then(e,t)}).then(function(){clearTimeout(a)})["catch"](function(e){return clearTimeout(a),e=f(e),s(r,t,e),pe.reject(e)})})}),i=(i=i.then(function(){m(t)}))["catch"](function(){})},b=function(e,t){var a;if(e.conditions)for(var r=0;r<e.conditions.length;r++){a=e.conditions[r];try{var n=l(a,t,[t]);if(!g(a,n))return void p(a,e)}catch(i){return void d(a,e,i)}}h(e,t)},h=function(e,t){var a;if(e.actions)for(var r=0;r<e.actions.length;r++){a=e.actions[r];try{l(a,t,[t])}catch(n){return void s(a,e,n)}}m(e)},y=!1,P=[],r=function(e){var t,a=e.rule,r=e.event;r.settings=r.settings||{};try{t=o.getModuleDefinition(r.modulePath).name;var n={$type:o.getModuleExtensionName(r.modulePath)+"."+t,$rule:{id:a.id,name:a.name}},i=function(e){if(y){c("ruleTriggered",{rule:a});var t=Ae(n,e);Le()?(Me(),v(a,t)):b(a,t)}else P.push(i.bind(null,e))};l(r,null,[i])}catch(s){E.error(u(r,a,s.message,s.stack))}};return je(t).forEach(r),y=!0,P.forEach(function(e){e()}),P=null,i},Be="debug",qe=window._satellite;if(qe&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var Ge=qe.container;delete qe.container;var He=Ge.property.settings.undefinedVarsReturnEmpty,Qe=Ge.dataElements||{};Q.migrateCookieData(Qe);var We,ze=function(e){return Qe[e]},Ye=$(),Xe=Y(Ye,ze,function(){return We.apply(null,arguments)},He),$e={},Ke=V($e),Je=K($e,ze),Ze=ee($e,ze,Xe);We=C(Je,Ze,He);var et=R("localStorage"),tt=function(){return"true"===et.getItem(Be)},at=function(e){et.setItem(Be,e),E.outputEnabled=e};E.outputEnabled=tt(),Ve(qe,Ge,at,Ze,Ke),Ce(Ge,Ye,We,Xe),Ue(qe,Ge.rules||[],Ye,We)}return qe}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();